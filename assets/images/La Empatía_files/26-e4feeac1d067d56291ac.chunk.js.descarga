!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="5708b8c1-195d-49f1-acec-9567ba4619aa",e._sentryDebugIdIdentifier="sentry-dbid-5708b8c1-195d-49f1-acec-9567ba4619aa")}catch(e){}}();var _global="undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{};_global.SENTRY_RELEASE={id:"v-2409062254-9fdfa-production"},(("undefined"!==typeof self?self:this).webpackJsonp=("undefined"!==typeof self?self:this).webpackJsonp||[]).push([[26],{1876:function(e,t,a){},1877:function(e,t,a){},2032:function(e,t,a){"use strict";a(1876)},2033:function(e,t,a){"use strict";a(1877)},2508:function(e,t,a){"use strict";a.r(t);var r=a(0),l=a(22),o=a(14),n=a(126),i=a(56),s=a(125),d=a(64),u=a(116),c=a(25),p=a(164),h=a(274),f=a(223),y=a(333),k=a(9),m=Object(r.defineComponent)({__name:"SurfaceSearchBar",props:{shouldAnimateOnAppear:{type:Boolean,default:!1}},setup(e){const t=Object(o.b)((()=>Promise.all([a.e(1),a.e(321)]).then(a.bind(null,3015)))),m=Object(o.b)((()=>a.e(528).then(a.bind(null,3125)))),v=Object(o.b)((()=>a.e(529).then(a.bind(null,743)))),b=Object(h.a)(),S=Object(f.b)(),{isContainerSmallerThanTabletLandscape:O}=Object(k.g)(Object(p.a)()),{backgroundLuminance:D,colorScheme:I,isMap:x,xSearchBar:M,isSearchBarInEditMode:_,hasSidePanelOutsideSurface:g,isEmbedded:z}=Object(k.g)(Object(c.useSurfaceStore)()),{xFilterModal:F,hasSelectedFilters:E}=Object(k.g)(b),{searchTerm:B}=Object(k.g)(S),{isDarkMode:T}=Object(k.g)(Object(u.a)()),P=Object(r.computed)((()=>O.value&&!z.value?T.value:x.value?"dark"===I.value:"dark"===D.value)),w=Object(r.computed)((()=>_.value||!j.value||F.value)),j=Object(r.computed)((()=>!O.value||z.value)),C=Object(r.computed)((()=>{let e="w-full",t="h-13";return j.value&&(w.value?(t="h-10",e="w-64"):(t="h-8",e=W.value?"w-64":"w-18")),`${e} ${t}`})),A=Object(r.ref)(B.value),W=Object(r.computed)((()=>A.value.length>0)),R=Object(y.a)((()=>{S.setSearchTerm(A.value.trim())}),300);Object(r.watch)(A,R),Object(r.watch)(B,(e=>A.value=e.trim()));const H=Object(r.ref)(),L=Object(r.ref)();return{__sfc:!0,SurfaceFilterModal:t,FilterIconWithIndicator:m,SearchIconWithIndicator:v,surfaceFilterStore:b,surfacePostSearchStore:S,isContainerSmallerThanTabletLandscape:O,backgroundLuminance:D,colorScheme:I,isMap:x,xSearchBar:M,isSearchBarInEditMode:_,hasSidePanelOutsideSurface:g,isEmbedded:z,xFilterModal:F,hasSelectedFilters:E,searchTerm:B,browserDarkMode:T,isDarkMode:P,shouldDisplayInEditMode:w,shouldDisplayFull:j,heightAndWidthClass:C,localSearchTerm:A,hasSearchTerm:W,clearSearchTermAndFocusInput:()=>{var e;A.value="",null===(e=L.value)||void 0===e||e.focusInput()},handleSearchInputEscKey:()=>{var e;A.value.length>0?A.value="":(b.resetPostFilters(),null===(e=L.value)||void 0===e||e.blurInput())},debouncedSyncSearchTerm:R,openFilterModal:e=>{F.value=!0,Object(l.a)("Surface","Opened filter posts panel")},applySearchAndFilters:()=>{M.value=!1},searchBarRef:H,exitEditModeIfFocusTargetIsOutside:e=>{H.value&&(H.value.contains(e.relatedTarget)||(_.value=!1))},exitEditMode:()=>{var e;_.value=!1,null===(e=null===L||void 0===L?void 0:L.value)||void 0===e||e.blurInput()},inputRef:L,selectInput:()=>{var e;null===(e=L.value)||void 0===e||e.selectInput()},focusInput:()=>{var e;null===(e=L.value)||void 0===e||e.focusInput()},OzDivider:n.default,OzDividerColorScheme:n.OzDividerColorScheme,OzDividerOrientation:n.OzDividerOrientation,OzIcon:i.default,OzInput:s.c,OzInputSizePreset:s.b,OzPlainButton:d.default,OzPlainButtonColorScheme:d.OzPlainButtonColorScheme,OzPlainButtonSizePreset:d.OzPlainButtonSizePreset}}}),v=(a(2032),a(2033),a(13)),b=Object(v.a)(m,(function(){var e=this,t=e._self._c,a=e._self._setupProxy;return t("Transition",{attrs:{name:"slide",appear:e.shouldAnimateOnAppear},on:{"after-appear":a.focusInput}},[t("div",{ref:"searchBarRef",class:["flex items-center justify-center","box-border","transition-all motion-reduce:transition-none",{"duration-180":a.shouldDisplayInEditMode,"duration-300":!a.shouldDisplayInEditMode},"ease-in-out",a.heightAndWidthClass,a.shouldDisplayFull?"px-0":"ps-4 pe-2",a.shouldDisplayFull?"bg-transparent dark:bg-transparent":"bg-light-ui-100 dark:bg-dark-ui-100",{"cursor-text":a.shouldDisplayFull&&a.shouldDisplayInEditMode,"search-bar-cursor-pointer":!a.shouldDisplayInEditMode},a.hasSidePanelOutsideSurface&&!a.shouldDisplayFull&&"absolute",a.xFilterModal&&"z-sidepanel"],attrs:{id:"surface-search-bar","data-mode":a.shouldDisplayInEditMode?"edit":"preview","data-pepin-id":"surface-search-bar","data-pepin-trigger":"click","data-testid":"surfaceSearchBar"},on:{click:a.selectInput,keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:a.selectInput.apply(null,arguments)}}},[a.shouldDisplayFull?e._e():t(a.OzPlainButton,{staticClass:"me-4",attrs:{"data-testid":"surfaceSearchBarFilterButton","aria-label":e.__("Open filter posts modal"),"size-preset":a.OzPlainButtonSizePreset.H28px,"color-scheme":a.OzPlainButtonColorScheme.SecondaryIcon,"dark-mode":a.isDarkMode},on:{click:a.openFilterModal,keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:a.openFilterModal.apply(null,arguments)}},scopedSlots:e._u([{key:"icon",fn:function(){return[a.hasSelectedFilters?t(a.FilterIconWithIndicator,{attrs:{"dark-mode":a.isDarkMode,"color-shade":"text-200",size:24}}):t(a.OzIcon,{attrs:{name:"filter_outline",size:24}})]},proxy:!0}],null,!1,2512821725)}),e._v(" "),t(a.OzInput,{ref:"inputRef",class:[a.shouldDisplayFull?"me-0":"me-2","overflow-hidden",a.shouldDisplayInEditMode&&a.shouldDisplayFull&&{"bg-popover-light":!a.isDarkMode,"bg-popover-dark":a.isDarkMode},!a.shouldDisplayInEditMode&&a.shouldDisplayFull&&{"bg-[rgba(255,255,255,0.32)] hhover:bg-light-ui-100":!a.isDarkMode,"bg-[rgba(0,0,0,0.24)] hhover:bg-dark-ui-100":a.isDarkMode,"backdrop-blur-sm":!0},a.shouldDisplayInEditMode&&a.hasSearchTerm&&{"text-dark-text-100":!a.isDarkMode,"text-light-text-100":a.isDarkMode},a.shouldDisplayInEditMode&&!a.hasSearchTerm&&{"text-dark-text-400":!a.isDarkMode,"text-light-text-400":a.isDarkMode},!a.shouldDisplayInEditMode&&a.hasSearchTerm&&{"text-dark-text-100":!a.isDarkMode,"text-light-text-100":a.isDarkMode},!a.shouldDisplayInEditMode&&!a.hasSearchTerm&&{"text-dark-text-200":!a.isDarkMode,"text-light-text-200":a.isDarkMode},!a.shouldDisplayInEditMode&&{"hover-hover:hover:text-dark-text-100":!a.isDarkMode,"hover-hover:hover:text-light-text-100":a.isDarkMode}],attrs:{"test-id":"surfaceSearchBarInput",dir:"auto","dark-mode":a.isDarkMode,"size-preset":a.shouldDisplayInEditMode?a.OzInputSizePreset.H40px:a.OzInputSizePreset.H32px,"x-border":a.shouldDisplayInEditMode,type:"search",inputmode:"search",enterkeyhint:"search",autocomplete:"off",maxlength:"100","should-truncate-text":a.shouldDisplayFull,"aria-label":e.__("Search posts by keywords"),placeholder:a.shouldDisplayInEditMode&&e.__("Search posts"),"model-value":a.localSearchTerm},on:{"update:modelValue":function(e){a.localSearchTerm=e},focusin:function(e){a.isSearchBarInEditMode=!0},blur:a.exitEditModeIfFocusTargetIsOutside,keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"escape",void 0,t.key,void 0)?null:(t.preventDefault(),a.handleSearchInputEscKey.apply(null,arguments))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.stopPropagation(),t.preventDefault(),a.exitEditMode.apply(null,arguments))}]},scopedSlots:e._u([a.shouldDisplayFull?{key:"startAdornment",fn:function(){return[t("div",{class:["flex","items-center","justify-center",{"mx-2":a.shouldDisplayInEditMode||a.hasSearchTerm,"ms-3 me-2":!a.shouldDisplayInEditMode&&!a.hasSearchTerm}]},[!a.hasSearchTerm&&!a.hasSelectedFilters||a.shouldDisplayInEditMode?t(a.OzIcon,{class:{"text-dark-text-200":!a.isDarkMode,"text-light-text-200":a.isDarkMode},attrs:{name:"search",size:20}}):t(a.SearchIconWithIndicator,{attrs:{"dark-mode":a.isDarkMode,"color-shade":"text-200",size:20}})],1)]},proxy:!0}:null,{key:"endAdornment",fn:function(){return[t("Transition",{attrs:{"enter-active-class":"transition-all motion-reduce:transition-none transform motion-reduce:transform-none","enter-class":"opacity-0 translate-x-full rtl:-translate-x-full","enter-to-class":"opacity-100 translate-x-0","leave-active-class":"transition-opacity motion-reduce:transition-none","leave-class":"opacity-100","leave-to-class":"opacity-0",duration:{enter:180,leave:300}}},[a.shouldDisplayInEditMode?t("div",{staticClass:"flex gap-2 mx-2"},[a.hasSearchTerm?t(a.OzPlainButton,{attrs:{"data-testid":"surfaceSearchBarClearButton","aria-label":e.__("Clear search keywords"),"size-preset":a.OzPlainButtonSizePreset.H28px,"color-scheme":a.OzPlainButtonColorScheme.SecondaryIcon,"dark-mode":a.isDarkMode},on:{blur:a.exitEditModeIfFocusTargetIsOutside,keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"escape",void 0,t.key,void 0)?null:a.exitEditModeIfFocusTargetIsOutside.apply(null,arguments)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:a.clearSearchTermAndFocusInput.apply(null,arguments)}],click:a.clearSearchTermAndFocusInput,mousedown:function(e){e.preventDefault()}},scopedSlots:e._u([{key:"icon",fn:function(){return[t(a.OzIcon,{attrs:{name:"clear_filled",size:20}})]},proxy:!0}],null,!1,1742127151)}):e._e(),e._v(" "),a.hasSearchTerm&&a.shouldDisplayFull?t(a.OzDivider,{staticClass:"!w-[1px]",attrs:{"dark-mode":a.isDarkMode,"color-scheme":a.OzDividerColorScheme.Solid,orientation:a.OzDividerOrientation.Vertical}}):e._e(),e._v(" "),a.shouldDisplayFull?t(a.OzPlainButton,{attrs:{"data-testid":"surfaceSearchBarFilterButton","aria-label":e.__("Open filter posts modal"),"size-preset":a.OzPlainButtonSizePreset.H28px,"color-scheme":a.OzPlainButtonColorScheme.SecondaryIcon,"dark-mode":a.isDarkMode},on:{blur:a.exitEditModeIfFocusTargetIsOutside,keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"escape",void 0,t.key,void 0)?null:a.exitEditModeIfFocusTargetIsOutside.apply(null,arguments)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:a.openFilterModal.apply(null,arguments)}],click:a.openFilterModal,mousedown:function(e){e.preventDefault()}},scopedSlots:e._u([{key:"icon",fn:function(){return[a.hasSelectedFilters?t(a.FilterIconWithIndicator,{attrs:{"dark-mode":a.isDarkMode,"color-shade":"text-200",size:20}}):t(a.OzIcon,{attrs:{name:a.xFilterModal?"filter_filled":"filter_outline",size:20}})]},proxy:!0}],null,!1,3003210266)}):e._e()],1):t("div",{class:a.shouldDisplayFull&&"pe-3"})])]},proxy:!0}],null,!0)}),e._v(" "),a.shouldDisplayFull?e._e():t(a.OzPlainButton,{attrs:{"data-testid":"surfaceSearchBarDoneButton","dark-mode":a.isDarkMode,"color-scheme":a.OzPlainButtonColorScheme.Primary,"aria-label":e.__("Apply search and filters"),text:e.__("Done")},on:{click:a.applySearchAndFilters}}),e._v(" "),a.xFilterModal?t(a.SurfaceFilterModal):e._e()],1)])}),[],!1,null,"45e04839",null);t.default=b.exports}}]);
//# sourceMappingURL=26-e4feeac1d067d56291ac.chunk.js.map