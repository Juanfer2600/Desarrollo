!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},a=(new Error).stack;a&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[a]="7b2903f3-b9af-429a-bc39-ee6df5227a88",e._sentryDebugIdIdentifier="sentry-dbid-7b2903f3-b9af-429a-bc39-ee6df5227a88")}catch(e){}}();var _global="undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{};_global.SENTRY_RELEASE={id:"v-2409062254-9fdfa-production"},(("undefined"!==typeof self?self:this).webpackJsonp=("undefined"!==typeof self?self:this).webpackJsonp||[]).push([[387],{1600:function(e,a,t){"use strict";t.d(a,"a",(function(){return r})),t.d(a,"b",(function(){return l}));var i=t(606),n=t(659),d=t(1773);const o=new Map;function r(e){if(o.has(e))return o.get(e);const a=document.createElement("style");a.innerHTML=e,document.head.appendChild(a);const t={style:a,remove(){a.remove(),o.delete(e)},update(i){o.delete(e),a.innerHTML=e,o.set(i,t)}};return o.set(e,t),t}function l(e,{numericUnit:a}={}){return Object(i.a)(Object(n.a)(e,(e=>Number.isNaN(Number(e))||null==a?e.toString():`${e}${a}`)),((e,a)=>`--${Object(d.a)(a)}`))}},1773:function(e,a,t){"use strict";var i=t(520),n=Object(i.a)((function(e,a,t){return e+(t?"-":"")+a.toLowerCase()}));a.a=n},2321:function(e,a,t){var i=t(2632);i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,t(133).default)("f3cdaf4a",i,!0,{})},2631:function(e,a,t){"use strict";t(2321)},2632:function(e,a,t){(e.exports=t(132)(!1)).push([e.i,".translate-to-center[data-v-f3bb20ba]{transform:var(--translate-to-center)}.minimized-enter-from.wrapper[data-v-f3bb20ba],.minimized-leave-to.wrapper[data-v-f3bb20ba]{margin-inline-start:0 !important;min-width:0px;max-width:0rem}.minimized-enter-to.wrapper[data-v-f3bb20ba],.minimized-leave-from.wrapper[data-v-f3bb20ba]{margin-inline-start:var(--gap-between-modals-in-dock) !important;max-width:var(--minimized-modal-width);min-width:var(--minimized-modal-width)}.minimized-enter-active.wrapper[data-v-f3bb20ba],.minimized-leave-active.wrapper[data-v-f3bb20ba]{transition-property:margin-inline-start,max-width,min-width;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:200ms}.minimized-enter-from>.modal-container[data-v-f3bb20ba],.minimized-leave-to>.modal-container[data-v-f3bb20ba]{max-width:var(--minimized-modal-width);min-width:var(--minimized-modal-width);transform:var(--translate-to-dock) scale(0)}.minimized-enter-to>.modal-container[data-v-f3bb20ba],.minimized-leave-from>.modal-container[data-v-f3bb20ba]{max-width:var(--minimized-modal-width);min-width:var(--minimized-modal-width);transform:var(--translate-to-dock) scale(1)}.minimized-enter-active>.modal-container[data-v-f3bb20ba],.minimized-leave-active>.modal-container[data-v-f3bb20ba]{transition-property:transform;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:200ms}.docked-enter-from.wrapper[data-v-f3bb20ba],.docked-leave-to.wrapper[data-v-f3bb20ba]{margin-inline-start:0 !important;min-width:0px;max-width:0rem}.docked-enter-to.wrapper[data-v-f3bb20ba],.docked-leave-from.wrapper[data-v-f3bb20ba]{margin-inline-start:var(--gap-between-modals-in-dock) !important;max-width:var(--docked-modal-width);min-width:var(--docked-modal-width)}.docked-enter-active.wrapper[data-v-f3bb20ba],.docked-leave-active.wrapper[data-v-f3bb20ba]{transition-property:margin-inline-start,max-width,min-width;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:250ms}.docked-enter-from>.modal-container[data-v-f3bb20ba],.docked-leave-to>.modal-container[data-v-f3bb20ba]{max-width:var(--docked-modal-width);min-width:var(--docked-modal-width);transform:var(--translate-to-dock) scale(0)}.docked-enter-to>.modal-container[data-v-f3bb20ba],.docked-leave-from>.modal-container[data-v-f3bb20ba]{max-width:var(--docked-modal-width);min-width:var(--docked-modal-width);transform:var(--translate-to-dock) scale(1)}.docked-enter-active>.modal-container[data-v-f3bb20ba],.docked-leave-active>.modal-container[data-v-f3bb20ba]{transition-property:transform;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:250ms}.expanded-enter-from>.modal-container[data-v-f3bb20ba],.expanded-leave-to>.modal-container[data-v-f3bb20ba]{transform:translate(calc(50% - var(--container-width) / 2), 100%)}.expanded-enter-from[data-dir='rtl']>.modal-container[data-v-f3bb20ba],.expanded-leave-to[data-dir='rtl']>.modal-container[data-v-f3bb20ba]{transform:translate(calc(var(--container-width) / 2 - 50%), 100%)}.expanded-enter-from.is-phone>.modal-container[data-v-f3bb20ba],.expanded-enter-from.is-phone[data-dir='rtl']>.modal-container[data-v-f3bb20ba],.expanded-leave-to.is-phone>.modal-container[data-v-f3bb20ba],.expanded-leave-to.is-phone[data-dir='rtl']>.modal-container[data-v-f3bb20ba]{--tw-translate-y:100%;transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.expanded-enter-to>.modal-container[data-v-f3bb20ba],.expanded-leave-from>.modal-container[data-v-f3bb20ba]{transform:var(--translate-to-center)}.expanded-enter-to.is-phone>.modal-container[data-v-f3bb20ba],.expanded-enter-to.is-phone[data-dir='rtl']>.modal-container[data-v-f3bb20ba],.expanded-leave-from.is-phone>.modal-container[data-v-f3bb20ba],.expanded-leave-from.is-phone[data-dir='rtl']>.modal-container[data-v-f3bb20ba]{--tw-translate-y:0px;transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.expanded-enter-active>.modal-container[data-v-f3bb20ba],.expanded-leave-active>.modal-container[data-v-f3bb20ba]{transition-property:transform;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:300ms}.minimized-to-docked-from.wrapper[data-v-f3bb20ba],.docked-to-minimized-to.wrapper[data-v-f3bb20ba]{max-width:var(--minimized-modal-width);min-width:0}.minimized-to-docked-to.wrapper[data-v-f3bb20ba],.docked-to-minimized-from.wrapper[data-v-f3bb20ba]{max-width:var(--docked-modal-width);min-width:var(--docked-modal-width)}.minimized-to-docked-active.wrapper[data-v-f3bb20ba],.docked-to-minimized-active.wrapper[data-v-f3bb20ba]{transition-property:max-width,min-width;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:250ms}.minimized-to-docked-from>.modal-container[data-v-f3bb20ba],.docked-to-minimized-to>.modal-container[data-v-f3bb20ba]{max-width:var(--minimized-modal-width);max-height:var(--minimized-modal-height)}.minimized-to-docked-to>.modal-container[data-v-f3bb20ba],.docked-to-minimized-from>.modal-container[data-v-f3bb20ba]{max-width:var(--docked-modal-width);max-height:calc(var(--container-height) - var(--bottom-padding) - 64px)}.minimized-to-docked-active>.modal-container[data-v-f3bb20ba],.docked-to-minimized-active>.modal-container[data-v-f3bb20ba]{transition-property:max-width,max-height;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:250ms}.minimized-to-docked-active>.modal-container>.modal-content[data-v-f3bb20ba],.docked-to-minimized-active>.modal-container>.modal-content[data-v-f3bb20ba]{overflow:hidden}.minimized-to-expanded-from.wrapper[data-v-f3bb20ba],.expanded-to-minimized-to.wrapper[data-v-f3bb20ba]{max-width:var(--minimized-modal-width);min-width:var(--minimized-modal-width)}.minimized-to-expanded-to.wrapper[data-v-f3bb20ba],.expanded-to-minimized-from.wrapper[data-v-f3bb20ba]{min-width:0px;max-width:0rem}.minimized-to-expanded-active.wrapper[data-v-f3bb20ba],.expanded-to-minimized-active.wrapper[data-v-f3bb20ba]{transition-property:max-width,min-width;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:300ms}.minimized-to-expanded-from>.modal-container[data-v-f3bb20ba],.expanded-to-minimized-to>.modal-container[data-v-f3bb20ba]{max-width:var(--minimized-modal-width);min-width:var(--minimized-modal-width);max-height:var(--minimized-modal-height);transform:var(--translate-to-dock)}.minimized-to-expanded-to>.modal-container[data-v-f3bb20ba],.expanded-to-minimized-from>.modal-container[data-v-f3bb20ba]{max-width:var(--expanded-modal-width);min-width:var(--expanded-modal-width);max-height:calc(var(--container-height) - 128px);transform:var(--translate-to-center)}.minimized-to-expanded-active>.modal-container[data-v-f3bb20ba],.expanded-to-minimized-active>.modal-container[data-v-f3bb20ba]{transition-property:max-width,min-width,max-height,transform;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:300ms}.minimized-to-expanded-active>.modal-container>.modal-content[data-v-f3bb20ba],.expanded-to-minimized-active>.modal-container>.modal-content[data-v-f3bb20ba]{overflow:hidden}.docked-to-expanded-from.wrapper[data-v-f3bb20ba],.expanded-to-docked-to.wrapper[data-v-f3bb20ba]{max-width:var(--docked-modal-width);min-width:var(--docked-modal-width)}.docked-to-expanded-to.wrapper[data-v-f3bb20ba],.expanded-to-docked-from.wrapper[data-v-f3bb20ba]{min-width:0px;max-width:0rem}.docked-to-expanded-active.wrapper[data-v-f3bb20ba],.expanded-to-docked-active.wrapper[data-v-f3bb20ba]{transition-property:max-width,min-width;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:300ms}.docked-to-expanded-from>.modal-container[data-v-f3bb20ba],.expanded-to-docked-to>.modal-container[data-v-f3bb20ba]{max-width:var(--docked-modal-width);min-width:var(--docked-modal-width);max-height:calc(var(--container-height) - var(--bottom-padding) - 64px);transform:var(--translate-to-dock)}.docked-to-expanded-to>.modal-container[data-v-f3bb20ba],.expanded-to-docked-from>.modal-container[data-v-f3bb20ba]{max-width:var(--expanded-modal-width);min-width:var(--expanded-modal-width);max-height:calc(var(--container-height) - 128px);transform:var(--translate-to-center)}.docked-to-expanded-active>.modal-container[data-v-f3bb20ba],.expanded-to-docked-active>.modal-container[data-v-f3bb20ba]{transition-property:max-width,min-width,max-height,transform;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:300ms}.minimized-enter-active.wrapper[data-v-f3bb20ba],.minimized-enter-active>.modal-container[data-v-f3bb20ba],.docked-enter-active.wrapper[data-v-f3bb20ba],.docked-enter-active>.modal-container[data-v-f3bb20ba],.expanded-enter-active.wrapper[data-v-f3bb20ba],.expanded-enter-active>.modal-container[data-v-f3bb20ba]{transition-timing-function:cubic-bezier(0, 0, 0.2, 1)}.minimized-leave-active.wrapper[data-v-f3bb20ba],.minimized-leave-active>.modal-container[data-v-f3bb20ba],.docked-leave-active.wrapper[data-v-f3bb20ba],.docked-leave-active>.modal-container[data-v-f3bb20ba],.expanded-leave-active.wrapper[data-v-f3bb20ba],.expanded-leave-active>.modal-container[data-v-f3bb20ba]{transition-timing-function:cubic-bezier(0.4, 0, 1, 1)}.minimized-enter-from>.modal-container[data-v-f3bb20ba],.minimized-enter-active>.modal-container[data-v-f3bb20ba],.minimized-leave-from>.modal-container[data-v-f3bb20ba],.minimized-leave-active>.modal-container[data-v-f3bb20ba],.docked-enter-from>.modal-container[data-v-f3bb20ba],.docked-enter-active>.modal-container[data-v-f3bb20ba],.docked-leave-from>.modal-container[data-v-f3bb20ba],.docked-leave-active>.modal-container[data-v-f3bb20ba],.minimized-to-expanded-from>.modal-container[data-v-f3bb20ba],.minimized-to-expanded-active>.modal-container[data-v-f3bb20ba],.expanded-to-minimized-from>.modal-container[data-v-f3bb20ba],.expanded-to-minimized-active>.modal-container[data-v-f3bb20ba],.docked-to-expanded-from>.modal-container[data-v-f3bb20ba],.docked-to-expanded-active>.modal-container[data-v-f3bb20ba],.expanded-to-docked-from>.modal-container[data-v-f3bb20ba],.expanded-to-docked-active>.modal-container[data-v-f3bb20ba]{position:absolute;bottom:0px;inset-inline-end:0px}.minimized-enter-from>.modal-container[data-v-f3bb20ba],.minimized-enter-active>.modal-container[data-v-f3bb20ba],.minimized-leave-from>.modal-container[data-v-f3bb20ba],.minimized-leave-active>.modal-container[data-v-f3bb20ba],.docked-enter-from>.modal-container[data-v-f3bb20ba],.docked-enter-active>.modal-container[data-v-f3bb20ba],.docked-leave-from>.modal-container[data-v-f3bb20ba],.docked-leave-active>.modal-container[data-v-f3bb20ba],.minimized-to-docked-from>.modal-container[data-v-f3bb20ba],.minimized-to-docked-active>.modal-container[data-v-f3bb20ba],.docked-to-minimized-from>.modal-container[data-v-f3bb20ba],.docked-to-minimized-active>.modal-container[data-v-f3bb20ba]{transform-origin:bottom right}.minimized-enter-from[data-dir='rtl']>.modal-container[data-v-f3bb20ba],.minimized-enter-active[data-dir='rtl']>.modal-container[data-v-f3bb20ba],.minimized-leave-from[data-dir='rtl']>.modal-container[data-v-f3bb20ba],.minimized-leave-active[data-dir='rtl']>.modal-container[data-v-f3bb20ba],.docked-enter-from[data-dir='rtl']>.modal-container[data-v-f3bb20ba],.docked-enter-active[data-dir='rtl']>.modal-container[data-v-f3bb20ba],.docked-leave-from[data-dir='rtl']>.modal-container[data-v-f3bb20ba],.docked-leave-active[data-dir='rtl']>.modal-container[data-v-f3bb20ba],.minimized-to-docked-from[data-dir='rtl']>.modal-container[data-v-f3bb20ba],.minimized-to-docked-active[data-dir='rtl']>.modal-container[data-v-f3bb20ba],.docked-to-minimized-from[data-dir='rtl']>.modal-container[data-v-f3bb20ba],.docked-to-minimized-active[data-dir='rtl']>.modal-container[data-v-f3bb20ba]{transform-origin:bottom left}\n",""])},2986:function(e,a,t){"use strict";t.r(a);var i,n=t(0),d=t(51),o=t(451),r=t(16),l=t(1),c=t(86),s=t(14),m=t(32),b=t(56),u=t(462),v=t(29),f=t(185),p=t(25),h=t(164),w=t(52),x=t(637),g=t(42),k=t(1600),M=t(268),D=t(377),z=t(1773),O=t(241);!function(e){e.Expanded="Expanded",e.Docked="Docked",e.Minimized="Minimized"}(i||(i={}));const y=404;var E=Object(n.defineComponent)({__name:"DockableModal",props:{id:null,state:null,isMarkedForClosure:{type:Boolean},dir:null,isPhone:{type:Boolean},isWide:{type:Boolean},modalStates:null,containerWidth:null,initialEndOffset:null,gapBetweenModalsInDock:null},emits:["close"],setup(e,{expose:a,emit:t}){const d=e,o=Object(n.ref)(d.initialEndOffset),r=Object(n.computed)((()=>Object(k.b)({endOffset:"ltr"===d.dir?-o.value:o.value,translateToDock:"translate(var(--end-offset), calc(var(--bottom-padding) * -1))"},{numericUnit:"px"}))),l=Object(n.computed)((()=>d.isPhone?i.Expanded:d.state)),c=Object(n.ref)(),s=Object(n.ref)([]),m=Object(n.ref)(!1),b=Object(n.ref)(),u=async()=>{await Object(n.nextTick)(),await new Promise((e=>window.requestAnimationFrame(e)))},v=async()=>{var e;await u(),await Promise.allSettled("function"===typeof(null===(e=c.value)||void 0===e?void 0:e.getAnimations)?c.value.getAnimations({subtree:!0}).map((e=>e.finished)):[])},f=(e,a)=>{if(e===i.Expanded)return 0;if(e===i.Docked)return y+d.gapBetweenModalsInDock;const t=(d.containerWidth-d.initialEndOffset-a*(y+d.gapBetweenModalsInDock))/(d.modalStates.length-a);return Math.min(t,164+d.gapBetweenModalsInDock)},p=e=>{const a=d.modalStates.findIndex((e=>e.id===d.id)),t=d.modalStates.map(((t,i)=>i===a?Object.assign(Object.assign({},t),{state:e}):t)),n=t.filter((e=>e.state===i.Docked)).length;let r=d.initialEndOffset;for(let i=0;i<t.length;i++){const e=t[i-1],a=t[i];if(r+=e?f(e.state,n):0,a.id===d.id)break}o.value=r},h=()=>{m.value=!1;["MinimizedEnter","MinimizedLeave","Minimized_To_Expanded","Expanded_To_Minimized"].includes(b.value)?p(i.Minimized):["DockedEnter","DockedLeave","Docked_To_Expanded","Expanded_To_Docked"].includes(b.value)&&p(i.Docked),s.value=[Object(z.a)(`${b.value}-from`)]},w=()=>{s.value=[Object(z.a)(`${b.value}-active`),Object(z.a)(`${b.value}-to`)]},x=()=>{var e;s.value=[],m.value=!0,(null===(e=b.value)||void 0===e?void 0:e.endsWith("Leave"))&&t("close")},g=Object(D.usePreferredReducedMotion)();Object(n.watch)([l,()=>d.isMarkedForClosure],(async([e,a],[t])=>{const i=null==t,n=!0===a;b.value=i?`${e}Enter`:n?`${t}Leave`:`${t}_To_${e}`,"reduce"!==g.value?(h(),await u(),w(),await v(),x()):x()}),{immediate:!0});const E=Object(O.a)("focusTrap"),j=Object(n.computed)((()=>{var e;return l.value===i.Minimized&&("MinimizedEnter"===b.value||"MinimizedLeave"===b.value||(null===(e=b.value)||void 0===e?void 0:e.endsWith("To_Minimized"))&&m.value)})),_=Object(n.ref)(),S=e=>{var a;const t=d.state===i.Expanded?null===(a=_.value)||void 0===a?void 0:a.getBoundingClientRect():document.documentElement.getBoundingClientRect();if(null==t)return null;const n=e.getBoundingClientRect();return new DOMRect(n.left-t.left,n.top-t.top,n.width,n.height)};return a({getElementRectInsideModal:S}),{__sfc:!0,ModalState:i,MINIMIZED_MODAL_MAX_WIDTH:164,MINIMIZED_MODAL_HEIGHT:40,DOCKED_MODAL_WIDTH:y,EXPANDED_MODAL_WIDTH:540,WIDE_EXPANDED_MODAL_WIDTH:828,props:d,emit:t,endOffset:o,customCssProperties:r,displayedState:l,rootEl:c,transitionClasses:s,isTransitionEnded:m,transitionKey:b,awaitDOMUpdates:u,awaitTransitionEnd:v,getModalSpaceInDock:f,updateEndOffset:p,beforeTransition:h,startTransition:w,afterTransition:x,prefersReducedMotion:g,focusTrapDescriptionId:E,xMinimizedContent:j,modalContainer:_,getElementRectInsideModal:S,OzFocusTrap:M.a}}}),j=(t(2631),t(13)),_=Object(j.a)(E,(function(){var e=this,a=e._self._c,t=e._self._setupProxy;return a("div",{ref:"rootEl",class:[e.isPhone&&"is-phone","wrapper","flex-1",t.displayedState===t.ModalState.Minimized&&["min-w-0","max-w-41"],t.displayedState===t.ModalState.Docked&&["min-w-101","max-w-101"],t.displayedState===t.ModalState.Expanded&&["-me-[var(--gap-between-modals-in-dock)]","min-w-0","max-w-0"],"motion-reduce:!transition-none",t.transitionClasses],style:t.customCssProperties,attrs:{"data-dir":e.dir}},[a("div",{ref:"modalContainer",class:["modal-container","flex",t.displayedState===t.ModalState.Minimized&&["min-w-full","max-w-full","min-h-10","max-h-10"],t.displayedState===t.ModalState.Docked&&["min-w-full","max-w-full","min-h-0","max-h-[calc(var(--container-height)-var(--bottom-padding)-64px)]"],t.displayedState===t.ModalState.Expanded&&!e.isPhone&&["absolute","bottom-0","end-0","translate-to-center",{"min-w-135 max-w-135":!e.isWide,"min-w-[828px] max-w-[828px]":e.isWide,"transition-[min-width,max-width] duration-200":t.isTransitionEnded},"min-h-0","max-h-[calc(var(--container-height)-128px)]"],t.displayedState===t.ModalState.Expanded&&e.isPhone&&["absolute","bottom-0","inset-x-0","min-w-[var(--container-width)]","max-w-[var(--container-width)]","min-h-[var(--container-height)]","max-h-[var(--container-height)]","transition-[min-height,max-height] duration-200"],"motion-reduce:!transition-none"]},[t.xMinimizedContent?e._t("minimized-content"):a(t.displayedState===t.ModalState.Expanded?t.OzFocusTrap:"div",{tag:"component",staticClass:"grow flex min-w-0 modal-content",attrs:{"aria-describedby":t.displayedState===t.ModalState.Expanded?t.focusTrapDescriptionId:void 0}},[e._t("main-content",null,{isTransitioning:!1===t.isTransitionEnded}),e._v(" "),t.displayedState===t.ModalState.Expanded?a("p",{staticClass:"sr-only",attrs:{id:t.focusTrapDescriptionId}},[e._v("\n        "+e._s(e.__("Press the Escape key to exit this dialog"))+"\n      ")]):e._e()],2)],2)])}),[],!1,null,"f3bb20ba",null).exports,S=t(105),C=Object(n.defineComponent)({__name:"DockableModalList",props:{modalDataArray:null,immutableModalData:{default:void 0},initialModalState:{default:i.Minimized},defaultNewModalState:{default:i.Docked},allowDockingMultipleModals:{type:Boolean,default:!1},isPhone:{type:Boolean,default:!1},isWideModal:{type:Boolean,default:!1},dir:{default:"ltr"},containerWidth:{default:void 0},containerHeight:{default:void 0},bottomPadding:{default:0},endPadding:{default:132},gapBetweenModalsInDock:{default:16}},emits:["scrim-click","scrim-esc"],setup(e,{expose:a,emit:t}){const d=e,o=Object(n.ref)([]),r=Object(n.ref)(!0),l=Object(n.computed)((()=>o.value.reduce(((e,a)=>(e[a.id]=a,e)),{}))),c=Object(n.ref)(null),m=e=>{const a=o.value.findIndex((a=>a.id===e.id)),t=o.value[a];return null!=t&&(!0!==t.isImmutable||!0===e.isMarkedForClosure)&&(Object(s.h)(o.value,a,Object.assign(Object.assign({},t),e)),!0)},b=e=>{m({id:e,state:i.Minimized})},u=e=>{const a=[];for(const t of o.value)t.id===e?a.push(t):a.push(Object.assign(Object.assign({},t),{state:i.Minimized}));Object(S.a)(a,o.value)||(o.value=a)},v=()=>{const e=[];for(const a of o.value)e.push(Object.assign(Object.assign({},a),{state:i.Minimized}));Object(S.a)(e,o.value)||(o.value=e)},f=e=>{m({id:e,state:i.Docked})&&(d.allowDockingMultipleModals||u(e),c.value=i.Docked)},p=e=>{m({id:e,state:i.Expanded})&&(d.allowDockingMultipleModals||u(e),c.value=i.Expanded)},h=e=>{var a;const t=null!==(a=c.value)&&void 0!==a?a:d.defaultNewModalState;t!==i.Minimized?m({id:e,state:t})&&(d.allowDockingMultipleModals||u(e)):f(e)},w=e=>{m({id:e,isMarkedForClosure:!0})&&(r.value=!1)};let x=!0;const g=e=>{switch(d.initialModalState){case i.Expanded:return e?i.Expanded:i.Minimized;case i.Docked:return d.allowDockingMultipleModals||e?i.Docked:i.Minimized;default:return i.Minimized}},M=()=>{var e;return null!==(e=c.value)&&void 0!==e?e:d.defaultNewModalState},z=(e,a)=>{var t;const n=l.value[e.id];if(null!=n)return n.data=e.data,d.isPhone&&(n.state=i.Expanded),n;if(x)return Object.assign(Object.assign({},e),{state:g(!0===a)});const o=null!==(t=e.state)&&void 0!==t?t:M();return Object.assign(Object.assign({},e),{state:o})},O=()=>{if(!r.value)return;const e=[...d.modalDataArray].reverse().map(((e,a)=>z(e,0===a)));null!=d.immutableModalData&&e.push(z(Object.assign(Object.assign({},d.immutableModalData),{state:i.Expanded,isImmutable:!0})));if(o.value.filter((a=>!e.some((e=>e.id===a.id)))).forEach((e=>w(e.id))),!r.value)return;const a=e.find((e=>null==l.value[e.id]));o.value=e;const t=(null===a||void 0===a?void 0:a.state)!==i.Minimized&&!d.allowDockingMultipleModals;null!=a&&t&&u(a.id),x=!1};Object(n.watch)([()=>d.modalDataArray,()=>d.immutableModalData],O,{immediate:!0,deep:!0});const E=Object(n.useSlots)(),j=Object(n.computed)((()=>!d.isPhone&&o.value.length>1&&E["bulk-action-content"])),C=Object(n.computed)((()=>o.value.some((e=>e.state===i.Docked)))),P=Object(n.computed)((()=>o.value.some((e=>e.state===i.Expanded)))),{width:A,height:T}=Object(D.useWindowSize)(),I=Object(n.computed)((()=>{var e;return null!==(e=d.containerWidth)&&void 0!==e?e:A.value})),B=Object(n.computed)((()=>{var e;return null!==(e=d.containerHeight)&&void 0!==e?e:T.value})),L=Object(n.computed)((()=>j.value?40+d.gapBetweenModalsInDock:0)),W=Object(n.computed)((()=>o.value.filter((e=>e.state===i.Docked)).length)),H=Object(n.computed)((()=>{const{dir:e,bottomPadding:a,gapBetweenModalsInDock:t,isWideModal:i}=d,n=(()=>{const e=(I.value-d.endPadding-L.value-W.value*(y+d.gapBetweenModalsInDock))/(o.value.length-W.value)-d.gapBetweenModalsInDock;return Math.min(e,164)})();return Object(k.b)({containerWidth:I.value,containerHeight:B.value,bottomPadding:a,gapBetweenModalsInDock:t,minimizedModalWidth:n,MINIMIZED_MODAL_HEIGHT:40,DOCKED_MODAL_WIDTH:y,expandedModalWidth:i?828:540,scaleToMinimized:`scale(${n/y})`,translateToCenter:"ltr"===e?"translate(calc(50% - var(--container-width) / 2), calc(50% - var(--container-height) / 2))":"translate(calc(var(--container-width) / 2 - 50%), calc(50% - var(--container-height) / 2))"},{numericUnit:"px"})})),R=Object(n.ref)(null),F=Object(n.ref)(null),N=new Map,$=(e,a)=>{var t,i;return null!==(i=null===(t=N.get(a))||void 0===t?void 0:t.getElementRectInsideModal(e))&&void 0!==i?i:null};return Object(n.onBeforeUpdate)((()=>{N.clear()})),a({getElementRectInsideModal:$,minimizeModal:b,minimizeAllModals:v,dockModal:f,expandModal:p,restoreModalState:h,closeModal:w,hasDockedModal:C,hasExpandedModal:P}),{__sfc:!0,BULK_ACTION_AREA_WIDTH:40,props:d,emit:t,modals:o,isSyncingModalDataEnabled:r,modalById:l,lastActiveState:c,updateModal:m,minimizeModal:b,minimizeOtherModals:u,minimizeAllModals:v,dockModal:f,expandModal:p,restoreModalState:h,closeModal:w,actuallyCloseModal:e=>{o.value=o.value.filter((a=>a.id!==e)),o.value.some((e=>e.isMarkedForClosure))||(r.value=!0,O())},isFirstSync:x,getInitialStateForModal:g,getStateForNewModal:M,findOrCreateModal:z,syncModalsWithProps:O,slots:E,xBulkAction:j,hasDockedModal:C,hasExpandedModal:P,windowWidth:A,windowHeight:T,computedContainerWidth:I,computedContainerHeight:B,bulkActionAreaSpace:L,numOfDockedModals:W,customCssProperties:H,mouseDownTarget:R,mouseUpTarget:F,mouseDown:e=>{R.value=e.target},mouseUp:e=>{F.value=e.target},scrimClick:e=>{R.value===F.value&&R.value===e.target&&t("scrim-click")},scrimEsc:()=>{t("scrim-esc")},modalRefById:N,assignModalRef:(e,a)=>{N.set(e,a)},getElementRectInsideModal:$,DockableModal:_,ModalState:i}}}),P=Object(j.a)(C,(function(){var e=this,a=e._self._c,t=e._self._setupProxy;return a("div",{class:["inline-flex","flex-row-reverse","items-end","box-border","w-full","h-full",t.hasExpandedModal&&"bg-common-ui-darkened-bg",!t.hasExpandedModal&&"pointer-events-none"],style:{...t.customCssProperties,paddingInlineEnd:`${e.endPadding}px`,paddingBottom:`${e.bottomPadding}px`},on:{mousedown:t.mouseDown,mouseup:t.mouseUp,click:function(e){return e.target!==e.currentTarget?null:(e.stopPropagation(),e.preventDefault(),t.scrimClick.apply(null,arguments))},keydown:function(a){return!a.type.indexOf("key")&&e._k(a.keyCode,"esc",27,a.key,["Esc","Escape"])?null:(a.stopPropagation(),a.preventDefault(),t.scrimEsc.apply(null,arguments))}}},[t.xBulkAction?a("div",{key:"bulk-action-content",class:["flex-none","z-minimized-modal","w-10",t.hasExpandedModal?"pointer-events-none":"pointer-events-auto"],style:{marginInlineStart:`${t.props.gapBetweenModalsInDock}px`}},[e._t("bulk-action-content")],2):e._e(),e._v(" "),e._l(t.modals,(function(i){return a(t.DockableModal,{key:i.id,ref:e=>t.assignModalRef(i.id,e),refInFor:!0,class:t.hasExpandedModal&&i.state!==t.ModalState.Expanded?"pointer-events-none":"pointer-events-auto",style:{marginInlineStart:`${t.props.gapBetweenModalsInDock}px`},attrs:{id:i.id,"data-id":i.id,state:i.state,"is-marked-for-closure":i.isMarkedForClosure||!1,dir:e.dir,"is-phone":e.isPhone,"is-wide":e.isWideModal,"modal-states":t.modals,"container-width":t.computedContainerWidth,"initial-end-offset":e.endPadding+t.bulkActionAreaSpace,"gap-between-modals-in-dock":e.gapBetweenModalsInDock},on:{close:function(e){return t.actuallyCloseModal(i.id)}},scopedSlots:e._u([{key:"minimized-content",fn:function(){return[t.modalById[i.id]?e._t("minimized-content",null,{modalData:t.modalById[i.id],dockModal:()=>t.dockModal(i.id),expandModal:()=>t.expandModal(i.id),restoreModalState:()=>t.restoreModalState(i.id)}):e._e()]},proxy:!0},{key:"main-content",fn:function({isTransitioning:a}){return[t.modalById[i.id]?e._t("main-content",null,{isTransitioning:a,modalData:t.modalById[i.id],modalState:i.state,isImmutable:i.isImmutable,minimizeModal:()=>t.minimizeModal(i.id),dockModal:()=>t.dockModal(i.id),expandModal:()=>t.expandModal(i.id)}):e._e()]}}],null,!0)})})),e._v(" "),a("div",{staticClass:"absolute"},[e._t("default")],2)],2)}),[],!1,null,null,null),A=P.exports;var T=t(9),I=Object(n.defineComponent)({__name:"SurfaceComposerModalList",setup(e){const a=Object(s.b)((()=>Promise.all([t.e(19),t.e(285),t.e(292)]).then(t.bind(null,2959)))),k=Object(s.b)((()=>Promise.all([t.e(1),t.e(315)]).then(t.bind(null,2983)))),M=Object(s.b)((()=>t.e(444).then(t.bind(null,3131)))),D=Object(s.b)((()=>t.e(384).then(t.bind(null,2997)))),z=Object(s.b)((()=>Promise.all([t.e(1),t.e(14),t.e(11),t.e(21),t.e(280)]).then(t.bind(null,3025)))),{isPhone:O,surfaceContainerWidth:y,surfaceContainerHeight:E,isContainerSmallerThanTabletPortrait:j,isContainerSmallerThanTabletLandscape:_}=Object(T.g)(Object(h.a)()),{isSubmissionRequest:S,headerHeight:C}=Object(T.g)(Object(p.useSurfaceStore)()),{isHandlingDragEvent:P,activeDropZone:I}=Object(T.g)(Object(x.b)()),{openConfirmationDialog:B}=Object(v.c)(),{openComposerAlert:L}=Object(u.a)(),W=Object(w.a)(),{draftCids:H,draftByCid:R,isAnyDraftActive:F,activeDraft:N,activeDraftCid:$,hasFetchedInitialPostDrafts:U}=Object(T.g)(W),{isDraftDirty:Z,isDraftAutoSavePending:q,cancelEditingDraft:X,publishAllPostDrafts:Y,removeDraft:K,removeAllPostDrafts:G}=W,J=Object(g.a)(),{postBeingEdited:V,postEntitiesByCid:Q}=Object(T.g)(J),{isExistingPost:ee,stopEditingPost:ae}=J,te=Object(n.computed)((()=>{if(S.value)return null!=$.value?[{id:$.value}]:[];if(O.value){const e=null!=$.value&&ee($.value);return null==$.value||e?[]:[{id:$.value}]}return H.value.filter((e=>!ee(e))).map((e=>R.value[e])).sort(((e,a)=>{var t,i;return new Date(null!==(t=e.created_at)&&void 0!==t?t:"").getTime()-new Date(null!==(i=a.created_at)&&void 0!==i?i:"").getTime()})).map((e=>({id:e.cid,state:!0===e.shouldStartEditing?void 0:i.Minimized})))})),ie=Object(n.computed)((()=>null!=V.value?{id:V.value.cid}:null));Object(n.watch)(O,(e=>{e||(ue.value=!1)}));const ne=Object(f.a)(),{hasExpandedComposerModal:de,isSubmissionRequestComposerModalExpanded:oe,isShowingAttachmentPreview:re,xEditThumbnailModal:le}=Object(T.g)(ne),{registerDockableModalListInstance:ce}=ne,se=Object(n.computed)((()=>O.value&&S.value&&!oe.value?E.value-C.value:E.value)),me=Object(n.computed)((()=>r.a.mobile&&re.value&&y.value>se.value)),be=Object(n.ref)();ce(be);const ue=Object(n.ref)(!1),ve=Object(n.ref)(),fe=Object(n.ref)(!1),pe=Object(n.ref)(null),he=()=>{var e;const a=null===(e=ve.value)||void 0===e?void 0:e.$el;if(null==a)return;const t=a.getBoundingClientRect();pe.value={top:t.top,left:t.left,width:t.width,position:"top"}};Object(n.watch)([y,E],(()=>{fe.value&&he()}));const we=()=>{fe.value=!1};(({shouldAlert:e})=>{const a=a=>{if(e()){const e=Object(l.b)("It looks like you have unsaved changes. Are you sure you want to discard them and close this page?");return a.returnValue=e,e}};Object(n.onMounted)((()=>{window.addEventListener("beforeunload",a)})),Object(n.onBeforeUnmount)((()=>{window.removeEventListener("beforeunload",a)}))})({shouldAlert:()=>H.value.some((e=>{const a=R.value[e];if(!a)return!1;const t=q(e),i=!!a.uploadingFile,n=(()=>{if(!ee(e))return!1;const t=Q.value[e];return a.subject!==(null===t||void 0===t?void 0:t.subject)||a.body!==(null===t||void 0===t?void 0:t.body)||a.attachment!==(null===t||void 0===t?void 0:t.attachment)||a.attachment_caption!==(null===t||void 0===t?void 0:t.attachment_caption)})();return t||i||n}))});const xe=Object(n.computed)((()=>I.value===x.a.DOCUMENT&&F.value||I.value===x.a.POST_COMPOSER));return{__sfc:!0,SurfaceComposerModal:a,SurfaceComposerModalMinimized:k,SurfaceDraftBulkActionPopover:M,SurfaceComposerDraftsPanel:D,SurfaceEditAttachmentThumbnailModal:z,isPhone:O,surfaceContainerWidth:y,surfaceContainerHeight:E,isContainerSmallerThanTabletPortrait:j,isContainerSmallerThanTabletLandscape:_,isSubmissionRequest:S,headerHeight:C,isHandlingDragEvent:P,activeDropZone:I,openConfirmationDialog:B,openComposerAlert:L,surfaceDraftsStore:W,draftCids:H,draftByCid:R,isAnyDraftActive:F,activeDraft:N,activeDraftCid:$,hasFetchedInitialPostDrafts:U,isDraftDirty:Z,isDraftAutoSavePending:q,cancelEditingDraft:X,publishAllPostDrafts:Y,removeDraft:K,removeAllPostDrafts:G,surfacePostsStore:J,postBeingEdited:V,postEntitiesByCid:Q,isExistingPost:ee,stopEditingPost:ae,draftModals:te,postBeingEditedModal:ie,postComposerModalStore:ne,hasExpandedComposerModal:de,isSubmissionRequestComposerModalExpanded:oe,isShowingAttachmentPreview:re,xEditThumbnailModal:le,registerDockableModalListInstance:ce,computedComposerModalListContainerHeight:se,isWideModal:me,dockableModalList:be,cancelEditing:()=>{var e;S.value||(null==V.value?null!=N.value&&(Object(c.t)(N.value)?K(N.value.cid):(null===(e=be.value)||void 0===e||e.minimizeModal(N.value.cid),ae())):Z(V.value.cid)?L({title:Object(l.b)("You have unsaved changes"),body:Object(l.b)("Are you sure you want to discard your changes and close this post composer?"),primaryActionText:Object(l.b)("Discard"),secondaryActionText:Object(l.b)("Keep working"),primaryActions:[X],secondaryActions:[],isPrimaryActionDanger:!0}):ae())},xDraftsPanel:ue,bulkActionButton:ve,xBulkActionMenu:fe,bulkActionPopoverAnchor:pe,updateBulkActionPopoverAnchor:he,openBulkActionMenu:()=>{he(),fe.value=!0},closeBulkActionMenu:we,publishAllDrafts:()=>{we(),Y()},deleteAllDrafts:()=>{we(),B(Object.assign(Object.assign({},d.a),{isCodeProtected:!1,title:Object(l.b)("Delete all drafts?"),body:Object(l.b)("You can\u2019t undo this action."),confirmButtonText:Object(l.b)("Delete drafts"),cancelButtonText:Object(l.b)("Cancel"),afterConfirmActions:[G],buttonScheme:v.b.Danger,forceFullWidthButtons:!0,xShadow:!0}))},isDropZoneToCreatePost:xe,dir:o.a,device:r.a,__:l.b,OzBaseButton:m.b,OzIcon:b.default,DockableModalList:A,ModalState:i}}}),B=Object(j.a)(I,(function(){var e=this,a=e._self._c,t=e._self._setupProxy;return t.hasFetchedInitialPostDrafts?a(t.DockableModalList,{ref:"dockableModalList",class:["absolute","inset-0","z-dockable-modal",t.isHandlingDragEvent?{"ease-in bg-grape-500/50 dark:bg-canary-500/[.35]":t.isDropZoneToCreatePost,"ease-out bg-grape-500/0 dark:bg-canary-500/0":!t.isDropZoneToCreatePost}:{"ease-in bg-modal-overlay-light dark:bg-modal-overlay-dark":t.hasExpandedComposerModal,"ease-out bg-none":!t.hasExpandedComposerModal},"duration-180"],attrs:{"modal-data-array":t.draftModals,"immutable-modal-data":t.postBeingEditedModal,"initial-modal-state":t.isPhone||t.isSubmissionRequest?t.ModalState.Expanded:t.ModalState.Minimized,"default-new-modal-state":t.device.mobile||t.isPhone||t.isSubmissionRequest?t.ModalState.Expanded:t.ModalState.Docked,"is-phone":t.isPhone,"is-wide-modal":t.isWideModal,dir:t.dir(),"container-width":t.surfaceContainerWidth,"container-height":t.computedComposerModalListContainerHeight,"bottom-padding":!t.isPhone&&t.isContainerSmallerThanTabletLandscape?52:0,"end-padding":!t.isPhone&&t.isContainerSmallerThanTabletLandscape?16:132},on:{"scrim-click":t.cancelEditing,"scrim-esc":t.cancelEditing},scopedSlots:e._u([{key:"bulk-action-content",fn:function(){return[a(t.OzBaseButton,{ref:"bulkActionButton",class:["overflow-hidden","outline-none","rounded-t-2xl","shadow-elevation-2","w-full","h-10","bg-light-ui-100 dark:bg-dark-ui-100","ring-grape-500 dark:ring-canary-500","focus-visible:ring-[2.5px]","text-dark-text-200 dark:text-light-text-200","hover:text-dark-text-100 dark:hover:text-light-text-100","active:text-grape-500 dark:active:text-canary-500","focus-visible:text-grape-500 dark:focus-visible:text-canary-500"],attrs:{title:t.__("Open drafts bulk action menu"),"aria-label":t.__("Open drafts bulk action menu")},on:{click:t.openBulkActionMenu,contextmenu:function(e){return e.preventDefault(),t.openBulkActionMenu.apply(null,arguments)}}},[a(t.OzIcon,{attrs:{name:"bulk_action",size:24}})],1),e._v(" "),t.xBulkActionMenu&&t.bulkActionPopoverAnchor?a(t.SurfaceDraftBulkActionPopover,{attrs:{"popover-anchor":t.bulkActionPopoverAnchor},on:{cancel:t.closeBulkActionMenu,"publish-all":t.publishAllDrafts,"delete-all":t.deleteAllDrafts}}):e._e()]},proxy:!0},{key:"minimized-content",fn:function({modalData:e,dockModal:i,expandModal:n,restoreModalState:d}){return[a(t.SurfaceComposerModalMinimized,{staticClass:"grow",attrs:{"draft-cid":e.id},on:{dock:i,expand:n,"restore-modal-state":d}})]}},{key:"main-content",fn:function({isTransitioning:e,modalData:i,modalState:n,minimizeModal:d,dockModal:o,expandModal:r}){return[a(t.SurfaceComposerModal,{staticClass:"grow",attrs:{"draft-cid":i.id,"is-phone":t.isPhone,"is-docked":n===t.ModalState.Docked,"is-editor-animating":e},on:{minimize:d,dock:o,expand:r,"show-drafts-panel":function(e){t.xDraftsPanel=!0}}})]}}],null,!1,3856345558)},[e._v(" "),e._v(" "),e._v(" "),t.isContainerSmallerThanTabletPortrait&&t.xDraftsPanel?a(t.SurfaceComposerDraftsPanel,{on:{close:function(e){t.xDraftsPanel=!1}}}):e._e(),e._v(" "),t.xEditThumbnailModal?a(t.SurfaceEditAttachmentThumbnailModal):e._e()],1):e._e()}),[],!1,null,null,null);a.default=B.exports}}]);
//# sourceMappingURL=387-273ac39e65c051d553ef.chunk.js.map