!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="5db01215-95fe-4784-abdd-16dcd4decee7",e._sentryDebugIdIdentifier="sentry-dbid-5db01215-95fe-4784-abdd-16dcd4decee7")}catch(e){}}();var _global="undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{};_global.SENTRY_RELEASE={id:"v-2409062254-9fdfa-production"},(("undefined"!==typeof self?self:this).webpackJsonp=("undefined"!==typeof self?self:this).webpackJsonp||[]).push([[52,435,542],{1774:function(e,t,o){"use strict";o.d(t,"a",(function(){return u}));var a=o(15),n=o(1),i=o(54),r=o(25),s=o(485),l=o(84),c=o(0);const d={owner:Object(n.b)("owner"),admin:Object(n.b)("admin"),teacher:Object(n.b)("teacher"),student:Object(n.b)("student")};function u({authorId:e,postOrCommentHashId:t}){const o=Object(r.useSurfaceStore)(),n=Object(l.a)(),u=Object(s.a)(),{fetchUser:m,getUserById:p}=n,h=Object(c.computed)((()=>{if(null==e)return Object(i.d)();const o=p(e),a=null!==o&&void 0!==o?o:Object(i.d)();if(void 0!==t){const e=u.attributions[t];if(null!=e)return Object.assign(Object.assign({},a),{name:e.name,avatar:e.avatar})}return a})),b=Object(c.computed)((()=>{var e;return null===(e=h.value)||void 0===e?void 0:e.username})),g=Object(c.computed)((()=>v.value&&null!=(null===h||void 0===h?void 0:h.value.wall_role)?d[h.value.wall_role]:null)),v=Object(c.computed)((()=>4===o.libraryId||151209===o.tenantId||Object(a.a)("surfaceRoleBadges")&&o.isUsedInEducationalContext));return Object(c.onMounted)((()=>{null!=e&&null==p(e)&&(v.value?m(e,o.wallId):m(e))})),{author:h,username:b,authorRole:g,xRoleBadge:v}}},2318:function(e,t,o){var a=o(2628);a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);(0,o(133).default)("bd4affc6",a,!0,{})},2319:function(e,t,o){"use strict";o.d(t,"a",(function(){return f}));var a=o(15),n=o(1),i=o(140),r=o(91),s=o(85),l=o(176),c=o(52),d=o(67),u=o(80),m=o(1661),p=o(793),h=o(782),b=o(783),g=o(9),v=o(0);const f=({elementRef:e,postCid:t})=>{const{isCommentable:o}=Object(g.g)(Object(u.a)()),{canIComment:f}=Object(g.g)(Object(d.a)()),{isAnyDraftActive:x}=Object(g.g)(Object(c.a)()),{xExpandedPostPanel:y}=Object(g.g)(Object(i.a)()),{openAlertDialog:O}=Object(r.a)(),{removeAttachmentForNewComment:_}=Object(s.b)(),{startDraggingFileToNewComment:j,stopDraggingFileToNewComment:w}=Object(l.b)(),{validateFileType:k,uploadFileForNewComment:S}=Object(m.a)();let C;const{canHandle:A}=Object(p.a)();Object(v.onMounted)((()=>{null!=e.value&&(C=Object(h.a)({element:e.value,canDrop:e=>A(e)&&Object(b.a)(e)&&o.value&&f.value&&!(x.value&&!y.value),onDragEnter:()=>{null!=t.value&&j(t.value)},onDragLeave:()=>{null!=t.value&&w(t.value)},onDrop:e=>{if(null==t.value)return;w(t.value);const o=Object(b.b)(e).filter(k);0!==o.length?(_({postCid:t.value}),S({postCid:t.value,file:o[0]})):O({body:Object(a.a)("audioComments")?Object(n.b)("Only images, videos or audios can be added to a comment. Please upload a different file."):Object(n.b)("Only images or videos can be added to a comment. Please upload a different file.")})}}))})),Object(v.onBeforeUnmount)((()=>{null===C||void 0===C||C()}))}},2488:function(e,t,o){"use strict";o.r(t);var a=o(0),n=o(114),i=o(16),r=o(14),s=o(32),l=o(56),c=o(301),d=o(356),u=o(34),m=o(1),p=o(147),h=o(224),b=o(73),g=o(928),v=o(280);var f=e=>{const t=window.self!==window.top&&(i.a.safari||i.a.ios),o=Object(a.ref)(t);let n=null;return Object(a.watch)(e,(()=>{null!=n&&n.disconnect(),o.value||null==e.value||(n=Object(v.b)(e.value,(()=>{o.value=!0})))}),{immediate:!0}),{hasIntersectedViewport:o}},x=o(40),y=Object(a.defineComponent)({__name:"SurfaceCommentAttachmentThumbnail",props:{linkDisplayAttributes:null,isVideoAttachment:{type:Boolean},isAudioAttachment:{type:Boolean},postColor:null,colorScheme:null,width:null,height:null,isEditMode:{type:Boolean,default:!1}},emits:["remove","play"],setup(e,{emit:t}){const o=e,i=Object(a.computed)((()=>Object(p.d)({postColor:o.postColor,isLightColorScheme:"light"===o.colorScheme}))),r=Object(a.computed)((()=>o.linkDisplayAttributes.is_transparent?void 0:o.linkDisplayAttributes.image_color)),s=Object(a.computed)((()=>x.a.isVideo(o.linkDisplayAttributes)||x.a.isAudio(o.linkDisplayAttributes)?Object(n.j)(o.linkDisplayAttributes):"")),l=Object(a.computed)((()=>o.linkDisplayAttributes.image_aspect_ratio)),c=Object(a.computed)((()=>l.value<1)),d=Object(a.ref)(),{hasIntersectedViewport:u}=f(d),v=Object(a.computed)((()=>!u.value)),y=Object(a.ref)(!1);return{__sfc:!0,props:o,emit:t,previewImageContainerBgClass:i,placeholderColorValue:r,mediaDuration:s,aspectRatio:l,isVertical:c,playAttachment:()=>{t("play")},containerEl:d,hasIntersectedViewport:u,lazyLoadPreviewImage:v,previewImageLoaded:y,onPreviewImageLoaded:()=>{y.value=!0},__:m.b,ImageThumbnail:h.a,OzIconButton:b.d,OzIconButtonColorScheme:b.a,OzIconButtonSizePreset:b.c,SurfaceAttachmentActionButton:g.default}}}),O=o(13),_=Object(O.a)(y,(function(){var e=this,t=e._self._c,o=e._self._setupProxy;return t("div",{ref:"containerEl",class:["relative","flex","justify-center","items-center",o.isVertical&&["rounded-xl","min-h-0","py-1","aspect-square",o.previewImageContainerBgClass]]},[t("div",{class:[!o.isVertical&&"grow","relative","rounded-xl","overflow-hidden"],style:o.isVertical?{width:`${e.width}px`}:void 0},[o.previewImageLoaded?e._e():t("div",{staticClass:"animate-pulse",style:{backgroundColor:e.linkDisplayAttributes.image_color,width:`${e.width}px`,height:e.width/o.aspectRatio+"px"}}),e._v(" "),t(o.ImageThumbnail,{directives:[{name:"show",rawName:"v-show",value:o.previewImageLoaded,expression:"previewImageLoaded"}],attrs:{src:e.linkDisplayAttributes.image_url,"lazy-loading":o.lazyLoadPreviewImage,"original-image-width":e.linkDisplayAttributes.original_image_width||e.width,"original-image-height":e.linkDisplayAttributes.original_image_height||e.height,width:e.width,"resize-strategy":"fit","process-image":!0,"placeholder-color":"transparent","fetch-priority":"high","placeholder-color-value":o.placeholderColorValue},on:{load:o.onPreviewImageLoaded}}),e._v(" "),o.mediaDuration?t("span",{class:["absolute","start-1","bottom-1","rounded-xl","px-2","py-0.5","bg-common-ui-d70","backdrop-blur-[3px]","font-sans","text-body-extra-small","text-light-text-100"]},[e._v("\n      "+e._s(o.mediaDuration)+"\n    ")]):e._e(),e._v(" "),e.isEditMode||!e.isVideoAttachment&&!e.isAudioAttachment?e._e():t(o.SurfaceAttachmentActionButton,{attrs:{"icon-name":"play",title:o.__("Play attachment"),"aria-label":o.__("Play attachment"),"post-color":e.postColor,"color-scheme":e.colorScheme,size:"32px"},on:{click:o.playAttachment}})],1),e._v(" "),e.isEditMode?t(o.OzIconButton,{staticClass:"absolute top-1 end-1",attrs:{"icon-name":"delete","icon-size":16,"color-scheme":o.OzIconButtonColorScheme.Secondary,"dark-mode":"dark"===e.colorScheme,"size-preset":o.OzIconButtonSizePreset.H24px,label:o.__("Remove attachment from comment"),"data-testid":"surfaceCommentRemoveAttachmentButton"},on:{click:function(t){return e.$emit("remove")},keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.$emit("remove")}}}):e._e()],1)}),[],!1,null,null,null).exports,j=o(874),w=o(377),k=Object(a.defineComponent)({__name:"SurfaceCommentAttachmentPreview",props:{attachmentUrl:null,attachmentSignedUrl:{default:null},linkDisplayAttributes:null,postColor:null,colorScheme:null,isStream:{type:Boolean,default:!1},isPhone:{type:Boolean,default:!0},isEditMode:{type:Boolean,default:!1},commentId:{default:void 0}},emits:["remove"],setup(e){const t=e,m=Object(r.b)((()=>o.e(445).then(o.bind(null,1156)))),p=Object(r.b)((()=>Promise.all([o.e(423),o.e(385)]).then(o.bind(null,1154)))),h=Object(d.a)(),b=Object(a.computed)((()=>h.isCommentPlayingMedia(t.commentId))),g=Object(a.ref)(),v=Object(a.computed)((()=>null!=t.linkDisplayAttributes&&x.a.isVideo(t.linkDisplayAttributes))),f=Object(a.computed)((()=>null!=t.linkDisplayAttributes&&x.a.isAudio(t.linkDisplayAttributes))),y=Object(a.computed)((()=>null!=t.linkDisplayAttributes&&x.a.isUploadedAudio(t.linkDisplayAttributes))),O=Object(a.computed)((()=>null!=t.attachmentSignedUrl?t.attachmentSignedUrl:null!=t.attachmentUrl?Object(j.b)(t.attachmentUrl,{cors:j.a.ALL,expiryInDays:1}):null)),k=Object(a.computed)((()=>{var e,o,a;return null!==(a=null===(o=null===(e=t.linkDisplayAttributes)||void 0===e?void 0:e.metadata)||void 0===o?void 0:o.duration)&&void 0!==a?a:null})),S=Object(a.computed)((()=>null!=t.linkDisplayAttributes?Object(n.j)(t.linkDisplayAttributes):"")),C=Object(a.computed)((()=>{var e,o;return null===(o=null===(e=t.linkDisplayAttributes)||void 0===e?void 0:e.metadata)||void 0===o?void 0:o.transcription_url})),{fetchAndStoreLinkAttributes:A}=Object(c.a)(),P=Object(a.watch)((()=>t.attachmentUrl),(e=>{Object(a.nextTick)((()=>{null!=e&&null==t.linkDisplayAttributes&&(A(e),P())}))}),{immediate:!0}),I=Object(a.ref)(),{width:D,height:B}=Object(w.useElementSize)(I),E=Object(a.computed)((()=>{var e,o;return null!==(o=null===(e=t.linkDisplayAttributes)||void 0===e?void 0:e.image_aspect_ratio)&&void 0!==o?o:1})),z=Object(a.computed)((()=>E.value<1)),U=Object(a.computed)((()=>z.value?B.value*E.value-6:D.value)),M=Object(a.computed)((()=>D.value<=u.a.Phone));return{__sfc:!0,SurfaceCommentAttachmentVideoPlayer:m,SurfaceCommentAttachmentAudioPlayer:p,props:t,surfaceMediaPlayerStore:h,isCommentPlayingMedia:b,audioPlayer:g,playMedia:()=>{if(null!=t.commentId&&h.setCurrentlyPlayingMedia({type:"comment",id:t.commentId}),f.value){const e=Object(a.watch)(b,(t=>{var o;t||(null===(o=g.value)||void 0===o||o.pause(),e())}))}},pauseMedia:()=>{b.value&&h.unsetCurrentlyPlayingMedia()},isVideoAttachment:v,isAudioAttachment:f,isUploadedAudioAttachment:y,audioSrc:O,audioDuration:k,displayedAudioDuration:S,audioCaptionsFileUrl:C,fetchAndStoreLinkAttributes:A,stop:P,containerEl:I,containerElWidth:D,containerElHeight:B,aspectRatio:E,isVertical:z,displayedWidth:U,shouldPlayVideoInExpandedPlayer:M,device:i.a,OzBaseButton:s.b,OzIcon:l.default,BreakPoints:u.a,SurfaceCommentAttachmentThumbnail:_}}}),S=Object(O.a)(k,(function(){var e=this,t=e._self._c,o=e._self._setupProxy;return t("div",{ref:"containerEl",staticClass:"relative"},[e.attachmentUrl&&e.linkDisplayAttributes&&!o.isUploadedAudioAttachment&&!o.isCommentPlayingMedia?t(o.SurfaceCommentAttachmentThumbnail,{attrs:{"link-display-attributes":e.linkDisplayAttributes,"is-video-attachment":o.isVideoAttachment,"is-audio-attachment":o.isAudioAttachment,"post-color":e.postColor,"color-scheme":e.colorScheme,width:o.displayedWidth,height:o.displayedWidth/o.aspectRatio,"is-edit-mode":e.isEditMode},on:{remove:function(t){return e.$emit("remove")},play:o.playMedia}}):!o.isVideoAttachment&&o.isUploadedAudioAttachment||!o.isCommentPlayingMedia?o.isUploadedAudioAttachment&&o.audioSrc?[t(o.SurfaceCommentAttachmentAudioPlayer,{ref:"audioPlayer",attrs:{src:o.audioSrc,"captions-url":o.audioCaptionsFileUrl,"x-duration":!e.isPhone&&o.containerElWidth>o.BreakPoints.Phone,duration:o.audioDuration,"displayed-duration":o.displayedAudioDuration,color:e.postColor,"bg-color":e.isEditMode?"post-100/900":"post-200/800","dark-mode":"dark"===e.colorScheme,"caption-size":e.isStream?"s":"xs","x-mute-button":!e.isPhone,"graph-interaction":o.device.touchable&&o.containerElWidth<o.BreakPoints.Phone?"play-pause":"seek"},on:{play:o.playMedia,stop:o.pauseMedia}}),e._v(" "),e.isEditMode?t(o.OzBaseButton,{class:["group","absolute","-top-2","-end-2","z-10","w-10 h-10","bg-transparent"],attrs:{title:e.__("Remove attachment from comment"),"aria-label":e.__("Remove attachment from comment"),"data-testid":"surfaceCommentRemoveAttachmentButton"},on:{click:function(t){return e.$emit("remove")},keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.$emit("remove")}}},[t("span",{class:["inline-flex","justify-center","items-center","rounded-lg","w-6 h-6",{"bg-grey-100":"light"===e.colorScheme,"bg-grey-700":"dark"===e.colorScheme,"hover-hover:group-hover:bg-grey-200":"light"===e.colorScheme,"hover-hover:group-hover:bg-grey-600":"dark"===e.colorScheme},{"group-focus-visible:ring-[1.5px]":!0,"group-focus-visible:ring-offset-[1.5px]":!0,"ring-grape-500":"light"===e.colorScheme,"ring-canary-500":"dark"===e.colorScheme},{"hover-hover:group-active:bg-grape-500":"light"===e.colorScheme,"hover-hover:group-active:bg-canary-500":"dark"===e.colorScheme},{"text-dark-text-200":"light"===e.colorScheme,"text-light-text-200":"dark"===e.colorScheme,"hover-hover:group-active:text-light-text-100":"light"===e.colorScheme,"hover-hover:group-active:text-dark-text-100":"dark"===e.colorScheme}]},[t(o.OzIcon,{attrs:{name:"delete",size:16}})],1)]):e._e()]:e._e():t(o.SurfaceCommentAttachmentVideoPlayer,{attrs:{"link-display-attributes":e.linkDisplayAttributes,width:o.displayedWidth,height:o.displayedWidth/o.aspectRatio,"aspect-ratio":o.aspectRatio,"is-vertical":o.isVertical,"is-expanded":o.shouldPlayVideoInExpandedPlayer},on:{stop:o.surfaceMediaPlayerStore.unsetCurrentlyPlayingMedia}})],2)}),[],!1,null,null,null);t.default=S.exports},2489:function(e,t,o){"use strict";var a=o(0),n=o(1),i=o(4);var r=o(16),s=o(15),l=o(54),c=o(14),d=o(56),u=o(64),m=o(116),p=o(772),h=o(25),b=o(301),g=o(85),v=o(81),f=o(67),x=o(485),y=o(34),O=o(2488),_=o(216),j=o(467),w=o(1608),k=Object(a.defineComponent)({__name:"SurfacePostCommentAuthor",props:{comment:null,isStream:{type:Boolean},isUsedInPostExpandedView:{type:Boolean},author:null,isRegistered:{type:Boolean},isDark:{type:Boolean},authorName:null,authorRole:{default:null},xRoleBadge:{type:Boolean},isScreenshotMode:{type:Boolean}},setup:e=>({__sfc:!0,formatDate:_.c,isAppUsing:s.a,OzRelativeTime:j.a,AvatarImage:w.a})}),S=o(13),C=Object(S.a)(k,(function(){var e=this,t=e._self._c,o=e._self._setupProxy;return t("div",{staticClass:"flex flex-row items-start font-sans"},[t("div",{class:["flex shrink-0",e.isUsedInPostExpandedView?"me-4":"me-2"]},[e.isRegistered?e.author?t("a",{staticClass:"flex",attrs:{target:"_blank",href:e.author.profile_url,"aria-hidden":"true",tabindex:"-1"}},[t(o.AvatarImage,{attrs:{user:e.author,width:e.isStream||e.isUsedInPostExpandedView?20:16,height:e.isStream||e.isUsedInPostExpandedView?20:16}})],1):e._e():t(o.AvatarImage,{attrs:{user:e.author,width:e.isStream||e.isUsedInPostExpandedView?20:16,height:e.isStream||e.isUsedInPostExpandedView?20:16}})],1),e._v(" "),e.xRoleBadge?[t("div",[t("div",{class:["truncate flex space-x-0.5 text-12-12",{"text-dark-text-100":!e.isDark,"text-light-text-100":e.isDark}]},[e.isRegistered?e.author?t("a",{class:["text-current block font-semibold hover-hover:hover:underline"],attrs:{href:e.author.profile_url,target:"_blank","data-bridged-link":"profile","data-bridged-link-username":e.author.username,"aria-label":e.__("Go to %{profileName} profile",{profileName:e.authorName}),title:e.__("Go to %{profileName} profile",{profileName:e.authorName})}},[e._v("\n          "+e._s(e.authorName)+"\n        ")]):e._e():t("span",{staticClass:"block font-semibold"},[e._v("\n          "+e._s(o.isAppUsing("showAnonymousUserNames")&&e.authorName?e.authorName:e.__("Anonymous"))+"\n        ")]),e._v(" "),e.authorRole?t("div",{class:[{"text-light-text-200":e.isDark,"text-dark-text-200":!e.isDark},"flex before:content-['/'] after:content-['/']"]},[e._v("\n          "+e._s(e.authorRole)+"\n        ")]):e._e()]),e._v(" "),e.isScreenshotMode?t("time",{class:{"shrink-0 text-12-12":!0,"text-dark-text-200":!e.isDark,"text-light-text-200":e.isDark}},[e._v("\n        "+e._s(o.formatDate(e.comment.created_at||(new Date).toISOString()))+"\n      ")]):t(o.OzRelativeTime,{class:{"shrink-0 text-12-12":!0,"text-dark-text-200":!e.isDark,"text-light-text-200":e.isDark},attrs:{datetime:e.comment.created_at||(new Date).toISOString(),dateformat:"long"}})],1)]:[t("div",{class:["font-semibold me-1 truncate",e.isStream?"leading-5 text-14":"text-12-16",{"text-dark-text-100":!e.isDark,"text-light-text-100":e.isDark}]},[e.isRegistered?e.author?t("a",{class:["text-current hover-hover:hover:underline",e.isStream?"text-14":"text-body-extra-small"],attrs:{href:e.author.profile_url,target:"_blank","data-bridged-link":"profile","data-bridged-link-username":e.author.username,"aria-label":e.__("Go to %{profileName} profile",{profileName:e.authorName}),title:e.__("Go to %{profileName} profile",{profileName:e.authorName})}},[e._v("\n        "+e._s(e.authorName)+"\n      ")]):e._e():t("span",[e._v(e._s(o.isAppUsing("showAnonymousUserNames")&&e.authorName?e.authorName:e.__("Anonymous")))])]),e._v(" "),e.isScreenshotMode?t("time",{class:{"shrink-0":!0,"text-14":e.isStream,"text-body-extra-small":!e.isStream,"text-dark-text-200":!e.isDark,"text-light-text-200":e.isDark}},[e._v("\n      "+e._s(o.formatDate(e.comment.created_at||(new Date).toISOString()))+"\n    ")]):t(o.OzRelativeTime,{class:{"shrink-0":!0,"text-14":e.isStream,"text-body-extra-small":!e.isStream,"text-dark-text-200":!e.isDark,"text-light-text-200":e.isDark},attrs:{datetime:e.comment.created_at||(new Date).toISOString(),dateformat:"short"}})]],2)}),[],!1,null,null,null).exports,A=o(906),P=o(1774),I=o(40),D=o(9),B=Object(a.defineComponent)({__name:"SurfacePostComment",props:{id:null,comment:null,postColor:null,displayedPostWidth:null,isBeingEdited:{type:Boolean},usageContext:{default:"postView"}},emits:["edit","stop-editing","show-comment-action-menu"],setup(e,{emit:t}){const _=e,j=Object(c.b)((()=>Promise.all([o.e(1),o.e(19),o.e(23),o.e(11),o.e(290)]).then(o.bind(null,3155)))),w=Object(a.ref)(),{shouldEditCommentsInModal:k}=Object(g.a)(),{author:S,authorRole:B,xRoleBadge:E}=Object(P.a)({authorId:_.comment.user_hashid||_.comment.user_id,postOrCommentHashId:_.comment.hashid}),{colorScheme:z,isStream:U,user:M,isSectionBreakout:V,isFrozen:R,isScreenshotMode:N}=Object(D.g)(Object(h.useSurfaceStore)()),{canIModerate:T}=Object(D.g)(Object(f.a)()),{isPhone:W}=Object(D.g)(Object(y.b)()),{isDarkMode:F}=Object(D.g)(Object(m.a)()),{approveComment:L,rejectComment:$}=Object(g.b)(),H=Object(p.a)(),{isMentionBoxFocused:G}=Object(D.g)(H),Z=Object(v.b)(),q=Object(x.a)(),J=Object(a.computed)((()=>"postExpandedView"===_.usageContext)),Y=Object(a.computed)((()=>(J.value?"comment-in-expanded-view-":"comment-")+_.id)),K=Object(a.computed)((()=>_.comment.user_id===M.value.id)),Q=Object(a.computed)((()=>!q.attributions[_.comment.hashid]&&(!!S.value&&Object(l.g)(S.value)))),X=Object(a.computed)((()=>_.comment.html_body||_.comment.body)),ee=Object(a.computed)((()=>!N.value&&((M.value.id===_.comment.user_id||T.value)&&!_.isBeingEdited&&!R.value))),te=Object(a.computed)((()=>!J.value&&"dark"===z.value||J.value&&!0===F.value)),{getLinkAttributesForUrl:oe}=Object(b.a)(),ae=Object(a.computed)((()=>{var e;return null!==(e=_.comment.attachment)&&void 0!==e?e:null})),ne=Object(a.computed)((()=>{var e;return null!==(e=_.comment.attachment_signed_url)&&void 0!==e?e:null})),ie=Object(a.computed)((()=>{if(null==ae.value)return null;const e=oe(ae.value);return null==e?null:Object(I.b)(e,{width:_.displayedPostWidth})}));function re(){w.value&&(r.a.zoomApp&&se(w.value),Object(A.b)(w.value))}async function se(e){const t=(await o.e(7).then(o.bind(null,124))).default;return e.querySelectorAll("a").forEach((e=>{e.addEventListener("click",(o=>{const a=e.href;e.target="",null!=a&&(o.preventDefault(),t.openUrl({url:a}))}))})),e.toString()}const le=Object(a.computed)((()=>{var e,t;return _.comment.hashid&&q.attributions[_.comment.hashid]?q.attributions[_.comment.hashid].name:Z.shouldEnableAnonymousAttribution&&!Q.value&&M.value.id===_.comment.user_id?Z.displayName:(null===(e=S.value)||void 0===e?void 0:e.name)||(null===(t=S.value)||void 0===t?void 0:t.username)||""}));const ce=Object(a.computed)((()=>!!Object(s.a)("commentModeration")&&(!!_.comment.moderation_violations&&_.comment.moderation_violations.length>0&&!K.value&&ue.value))),de=Object(a.computed)((()=>function({moderationViolations:e,useLongText:t}){if(null==e||0===e.length)return"";if(e.length>1)return t?Object(n.b)("Warning: this comment may contain inappropriate content."):Object(n.b)("This comment may contain inappropriate content.");switch(e[0]){case i.w.Sexual:return t?Object(n.b)("Warning: this comment may contain sexual content."):Object(n.b)("This comment may contain sexual content.");case i.w.Hate:return t?Object(n.b)("Warning: this comment may contain hateful content."):Object(n.b)("This comment may contain hateful content.");case i.w.Violence:return t?Object(n.b)("Warning: this comment may contain violent content."):Object(n.b)("This comment may contain violent content.");case i.w.Bullying:return t?Object(n.b)("Warning: this comment may contain bullying."):Object(n.b)("This comment may contain bullying.");case i.w.Weapons:return t?Object(n.b)("Warning: this comment may contain content relating to weapons."):Object(n.b)("This comment may contain content relating to weapons.");case i.w.ChildExploitation:return t?Object(n.b)("Warning: this comment may contain content relating to child exploitation."):Object(n.b)("This comment may contain content relating to child exploitation.");case i.w.ChildSafety:return t?Object(n.b)("Warning: this comment may contain content relating to child safety."):Object(n.b)("This comment may contain content relating to child safety.");case i.w.SelfHarm:return t?Object(n.b)("Warning: this comment may contain content relating to self harm."):Object(n.b)("This comment may contain content relating to self harm.");case i.w.Profanity:return t?Object(n.b)("Warning: this comment may contain profanity."):Object(n.b)("This comment may contain profanity.");case i.w.Drugs:return t?Object(n.b)("Warning: this comment may contain content relating to drugs."):Object(n.b)("This comment may contain content relating to drugs.");default:return t?Object(n.b)("Warning: this comment may contain inappropriate content."):Object(n.b)("This comment may contain inappropriate content.")}}({useLongText:U.value||J.value,moderationViolations:_.comment.moderation_violations}))),ue=Object(a.computed)((()=>!!Object(s.a)("commentModeration")&&!!_.comment.is_awaiting_approval));return Object(a.watch)((()=>_.comment),(()=>{re()})),Object(a.onMounted)((()=>{re()})),{__sfc:!0,SurfacePostCommentBeingEdited:j,props:_,emits:t,commentBody:w,shouldEditCommentsInModal:k,author:S,authorRole:B,xRoleBadge:E,colorScheme:z,isStream:U,user:M,isSectionBreakout:V,isFrozen:R,isScreenshotMode:N,canIModerate:T,isPhone:W,isDarkMode:F,approveComment:L,rejectComment:$,mentionsStore:H,isMentionBoxFocused:G,surfaceGuestStore:Z,surfaceSimulatedAttributionStore:q,isUsedInPostExpandedView:J,domCommentId:Y,isCommentAuthor:K,isAuthorRegistered:Q,hyperlinkedBody:X,showActions:ee,isDark:te,getLinkAttributesForUrl:oe,attachmentUrl:ae,attachmentSignedUrl:ne,linkDisplayAttributes:ie,performCommentUpdateActions:re,hyperlinkUrlToOpenInBrowserFromZoom:se,authorName:le,toggleDropdown:function(){t("show-comment-action-menu")},xContentModerationWarning:ce,contentModerationWarningText:de,isAwaitingApproval:ue,approve:function(){L(_.comment)},reject:function(){$(_.comment)},OzIcon:d.default,OzPlainButton:u.default,OzPlainButtonColorScheme:u.OzPlainButtonColorScheme,OzPlainButtonSizePreset:u.OzPlainButtonSizePreset,SurfaceCommentAttachmentPreview:O.default,SurfacePostCommentAuthor:C}}}),E=(o(2627),Object(S.a)(B,(function(){var e=this,t=e._self._c,o=e._self._setupProxy;return e.isBeingEdited&&!o.shouldEditCommentsInModal?t(o.SurfacePostCommentBeingEdited,{attrs:{id:o.domCommentId,"data-testid":"surfacePostComment",comment:e.comment,"post-id":e.comment.wish_id,"post-color":e.postColor,"is-used-in-post-expanded-view":o.isUsedInPostExpandedView,"is-dark":o.isDark,"is-stream":o.isStream,"is-phone":o.isPhone,"displayed-post-width":e.displayedPostWidth,"is-mention-box-focused":o.isMentionBoxFocused,"can-mention":!o.isSectionBreakout,user:o.user},on:{"stop-editing":function(t){return e.$emit("stop-editing")},edit:function(t){return e.$emit("edit",t)}}}):t("div",{class:{flex:!0,"justify-between":!0,group:!0},attrs:{id:o.domCommentId,"data-testid":"surfacePostComment"}},[t("div",{staticClass:"flex flex-col justify-between flex-1 min-w-0"},[t(o.SurfacePostCommentAuthor,{attrs:{"x-role-badge":o.xRoleBadge,comment:e.comment,"is-used-in-post-expanded-view":o.isUsedInPostExpandedView,author:o.author,"is-stream":o.isStream,"is-registered":o.isAuthorRegistered,"is-dark":o.isDark,"author-name":o.authorName,"author-role":o.authorRole,"is-screenshot-mode":o.isScreenshotMode}}),e._v(" "),o.attachmentUrl?t(o.SurfaceCommentAttachmentPreview,{class:[o.isUsedInPostExpandedView?"ms-9 me-4.75 my-1.5":{"mt-1 mb-1.5":!0,"ms-6":!o.isStream,"ms-7":o.isStream}],attrs:{"comment-id":e.id,"attachment-url":o.attachmentUrl,"attachment-signed-url":o.attachmentSignedUrl,"link-display-attributes":o.linkDisplayAttributes,"post-color":o.isUsedInPostExpandedView?null:e.postColor,"color-scheme":o.isDark?"dark":"light","is-stream":o.isStream,"is-phone":o.isPhone}}):e._e(),e._v(" "),t("div",{ref:"commentBody",class:["no-drag","select-text","cursor-text","wish-comment-content","break-words","mt-0.5",o.isUsedInPostExpandedView?{"ms-9 me-4.75":!0}:{"ms-7":o.isStream,"ms-6":!o.isStream},{"text-14":o.isStream&&!o.isUsedInPostExpandedView,"text-12-16":!o.isStream&&!o.isUsedInPostExpandedView,"text-body-small-posts":o.isUsedInPostExpandedView},{"text-dark-text-100":!o.isDark,"text-light-text-100":o.isDark}],style:{"word-break":"break-word","white-space":"break-spaces"},attrs:{"data-testid":"surfacePostCommentContent",dir:"auto"},domProps:{innerHTML:e._s(o.hyperlinkedBody)}}),e._v(" "),o.xContentModerationWarning?t("div",{class:["flex",o.isUsedInPostExpandedView?"mt-2":"mt-0.5",o.isUsedInPostExpandedView?"space-s-4":"space-s-2"]},[t(o.OzIcon,{class:["text-danger-100",o.isUsedInPostExpandedView?{"py-0 ps-0":o.isStream,"py-0.5 ps-1":!o.isStream}:"py-0"],attrs:{name:"warning_filled",size:o.isStream?20:16}}),e._v(" "),t("div",{class:[{"text-dark-text-200":!o.isDark,"text-light-text-200":o.isDark},{"text-14":o.isStream&&!o.isUsedInPostExpandedView,"text-body-extra-small":!o.isStream||o.isUsedInPostExpandedView},"break-words",o.isUsedInPostExpandedView?{"ms-9 me-4.75":!0}:{"ms-7":o.isStream,"ms-6":!o.isStream}]},[e._v("\n        "+e._s(o.contentModerationWarningText)+"\n      ")])],1):e._e(),e._v(" "),o.isAwaitingApproval?[o.isCommentAuthor?t("div",{class:["no-drag","italic","select-text","cursor-text","break-words","mt-1",o.isUsedInPostExpandedView?{"ms-9 me-4.75":!0}:{"ms-7":o.isStream,"ms-6":!o.isStream},{"text-14":o.isStream&&!o.isUsedInPostExpandedView,"text-12-16":!o.isStream&&!o.isUsedInPostExpandedView,"text-body-small-posts":o.isUsedInPostExpandedView},{"text-dark-text-200":!o.isDark,"text-light-text-200":o.isDark}]},[e._v("\n        "+e._s(e.__("Awaiting approval"))+"\n      ")]):o.canIModerate?t("div",{class:["flex","gap-4",o.isUsedInPostExpandedView?"mt-2":"mt-1",o.isUsedInPostExpandedView?{"ms-9 me-4.75":!0}:{"ms-7":o.isStream,"ms-6":!o.isStream}]},[t(o.OzPlainButton,{class:["p-0 text-body-extra-small font-semibold"],attrs:{text:e.__("Approve"),disabled:o.isFrozen,"size-preset":o.OzPlainButtonSizePreset.Bare,"color-scheme":o.OzPlainButtonColorScheme.Primary},on:{click:o.approve}}),e._v(" "),t(o.OzPlainButton,{class:["p-0 text-body-extra-small font-semibold",{"text-dark-text-200":!o.isDark,"text-light-text-200":o.isDark},{"hover-hover:hover:text-dark-text-100":!o.isDark,"hover-hover:hover:text-light-text-100":o.isDark}],attrs:{text:e.__("Reject"),disabled:o.isFrozen,"size-preset":o.OzPlainButtonSizePreset.Bare,"color-scheme":o.OzPlainButtonColorScheme.Bare},on:{click:o.reject}})],1):e._e()]:e._e()],2),e._v(" "),o.showActions?t(o.OzPlainButton,{class:["absolute","px-0",!o.isUsedInPostExpandedView&&"-end-1.25",o.isUsedInPostExpandedView&&"-end-1.75","w-[32px]","pb-4","light"===o.colorScheme&&"focus-visible:text-grape-500","dark"===o.colorScheme&&"focus-visible:text-canary-500"],attrs:{id:`surface-post-comment-more-button-${e.id}`,"data-testid":"surfacePostCommentMoreButton","color-scheme":o.OzPlainButtonColorScheme.SecondaryIcon,"size-preset":null,"dark-mode":o.isDark,title:e.__("Comment actions"),"aria-label":e.__("Open comment actions menu")},on:{click:o.toggleDropdown}},[t(o.OzIcon,{attrs:{name:"more_vertical",size:16}})],1):e._e()],1)}),[],!1,null,"413b1c9c",null));t.a=E.exports},2513:function(e,t,o){"use strict";var a=o(0),n=o(176),i=o(85),r=o(377),s=o(9),l=Object(a.defineComponent)({__name:"SurfaceCommentAttachmentDropZoneOverlay",props:{postCid:null,darkMode:{type:Boolean},borderRadius:null,textInlinePadding:null},setup(e){const t=e,{newCommentAttachmentForPostCid:o,newCommentUploadingFileForPostCid:l}=Object(i.b)(),{isDraggingFileToNewCommentByPostCid:c}=Object(s.g)(Object(n.b)()),d=Object(a.computed)((()=>c.value[t.postCid])),u=Object(a.computed)((()=>o(t.postCid)||l(t.postCid))),{height:m}=Object(r.useWindowSize)(),p=Object(a.ref)(),h=Object(a.ref)({}),b=async()=>{var e;return await Object(a.nextTick)(),null===(e=p.value)||void 0===e?void 0:e.getBoundingClientRect()},g=e=>{if(null==e)return{};return{top:`${e.top<=0?Math.abs(e.top):0}px`,height:`${e.top>=0&&e.bottom<=m.value?e.height:e.top<0&&e.bottom>m.value?m.value:e.top<0&&e.bottom<m.value?e.height-Math.abs(e.top):m.value-e.top}px`}};return Object(a.watch)(d,(async e=>{if(e){const e=await b();if(null==e)return;h.value=g(e)}else h.value={}})),{__sfc:!0,props:t,newCommentAttachmentForPostCid:o,newCommentUploadingFileForPostCid:l,isDraggingFileToNewCommentByPostCid:c,isDraggingFileToNewComment:d,doesNewCommentHaveAttachment:u,windowHeight:m,rootEl:p,visibleDropZoneStyles:h,getDropZoneRect:b,calculateVisibleDropZoneStyles:g}}}),c=o(13),d=Object(c.a)(l,(function(){var e=this,t=e._self._c,o=e._self._setupProxy;return o.isDraggingFileToNewComment?t("div",{ref:"rootEl",class:["overflow-hidden",{"rounded-lg":8===e.borderRadius,"rounded-2xl":16===e.borderRadius},"border-dashed","border-2",{"border-grape-500":!e.darkMode,"border-canary-500":e.darkMode},{"bg-grape-0":!e.darkMode,"bg-dark-ui-200":e.darkMode}]},[t("div",{staticClass:"absolute inset-x-0 flex justify-center items-center",style:o.visibleDropZoneStyles},[t("span",{class:[{"px-3":12===e.textInlinePadding,"px-6":24===e.textInlinePadding,"px-9":36===e.textInlinePadding},"font-sans","text-body","text-center","font-semibold",{"text-grape-500":!e.darkMode,"text-canary-500":e.darkMode}]},[e._v("\n      "+e._s(o.doesNewCommentHaveAttachment?e.__("Drop media to replace the current attachment in comment"):e.__("Drop media to attach to comment"))+"\n    ")])])]):e._e()}),[],!1,null,null,null);t.a=d.exports},2627:function(e,t,o){"use strict";o(2318)},2628:function(e,t,o){(e.exports=o(132)(!1)).push([e.i,"[data-v-413b1c9c] .wish-comment-content a {text-decoration-line:underline;color:currentColor;text-underline-position:from-font\n}\n",""])},874:function(e,t,o){"use strict";o.d(t,"a",(function(){return n})),o.d(t,"b",(function(){return l}));const a="elvis.padletcdn.com";var n,i,r;function s(e){const t=[];if(e.expiryInDays){const o=function(e){if(e===1/0)return"in";if(e<-365||e>365)throw new Error("Expiry must be between -365 and 365 days");return e<0?"i"+-e:e.toString()}(e.expiryInDays);t.push(`e_${o}`)}return e.unique&&t.push(`u_${e.unique}`),e.timeoutInSeconds&&t.push(`t_${e.timeoutInSeconds}`),e.cors&&t.push(`c_${e.cors}`),e.download&&t.push("d_1"),e.headersToCache&&t.push(`h_${e.headersToCache.join("")}`),e.log&&t.push("l_1"),e.frame&&t.push(`f_${e.frame}`),t.sort().join("-")}function l(e,t){return`https://${a}${function(e,t){const o=e.replace(/^https?:\/\//,"");return`/1/fetch/${s(t)}/${o}`}(e,t)}`}!function(e){e.NO_CORS="n",e.ALL="a",e.ORIGIN="o",e.PASS="p"}(n||(n={})),function(e){e.AUTHORIZATION="a"}(i||(i={})),function(e){e.ALLOW="a",e.DENY="d",e.ORIGIN="o",e.PASS="p"}(r||(r={}))},928:function(e,t,o){"use strict";o.r(t);var a=o(0),n=o(32),i=o(56),r=Object(a.defineComponent)({__name:"SurfaceAttachmentActionButton",props:{iconName:null,title:null,ariaLabel:null,postColor:null,colorScheme:null,size:null,tag:null,iconSlotName:null,testId:null},emits:["click"],setup(e){const t=e,o=Object(a.computed)((()=>"light"===t.colorScheme)),r=Object(a.computed)((()=>{switch(t.postColor){case"red":return"bg-scarlet-600";case"orange":return o.value?"bg-canary-600":"bg-tangerine-600";case"green":return"bg-park-600";case"blue":return"bg-oceanic-600";case"purple":return"bg-grape-600";default:return"bg-dark-ui-200"}})),s=Object(a.computed)((()=>{switch(t.postColor){case"red":return"hover-hover:hover:bg-scarlet-500";case"orange":return o.value?"hover-hover:hover:bg-canary-500":"hover-hover:hover:bg-tangerine-500";case"green":return"hover-hover:hover:bg-park-500";case"blue":return"hover-hover:hover:bg-oceanic-500";case"purple":return"hover-hover:hover:bg-grape-500";default:return"hover-hover:hover:bg-dark-ui-300"}})),l=Object(a.computed)((()=>{switch(t.postColor){case"red":return"text-scarlet-200";case"orange":return o.value?"text-canary-200":"text-tangerine-200";case"green":return"text-park-200";case"blue":return"text-oceanic-200";case"purple":return"text-grape-200";default:return"text-light-text-200"}})),c=Object(a.computed)((()=>{switch(t.size){case"24px":return 12;case"32px":return 16;default:return 32}}));return{__sfc:!0,props:t,isLightColorScheme:o,buttonColorClass:r,buttonHoverColorClass:s,buttonIconColorClass:l,iconSize:c,OzBaseButton:n.b,OzIcon:i.default}}}),s=o(13),l=Object(s.a)(r,(function(){var e=this,t=e._self._c,o=e._self._setupProxy;return t("div",{class:["absolute","inset-0","flex","items-center","justify-center","p-0.875","rounded-full"]},[t(e.tag||o.OzBaseButton,{tag:"component",class:[{"w-6 h-6":"24px"===e.size,"w-8 h-8":"32px"===e.size,"w-16 h-16":"64px"===e.size},"rounded-full","pointer-events-auto","flex","items-center","justify-center",o.buttonColorClass,o.buttonHoverColorClass,o.buttonIconColorClass],attrs:{title:e.title,"aria-label":e.ariaLabel,"data-testid":e.testId},on:{click:function(t){return e.$emit("click",t)},pointerdown:function(e){e.stopPropagation()}}},[t(o.OzIcon,{attrs:{slot:e.iconSlotName,name:e.iconName,size:o.iconSize},slot:e.iconSlotName})],1)],1)}),[],!1,null,null,null);t.default=l.exports}}]);
//# sourceMappingURL=52-e023a225c53a0f3998b1.chunk.js.map