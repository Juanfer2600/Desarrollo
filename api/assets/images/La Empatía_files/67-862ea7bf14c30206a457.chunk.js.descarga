!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},a=(new Error).stack;a&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[a]="08afb127-3ea2-447f-a290-46e9c18a4592",e._sentryDebugIdIdentifier="sentry-dbid-08afb127-3ea2-447f-a290-46e9c18a4592")}catch(e){}}();var _global="undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{};_global.SENTRY_RELEASE={id:"v-2409062254-9fdfa-production"},(("undefined"!==typeof self?self:this).webpackJsonp=("undefined"!==typeof self?self:this).webpackJsonp||[]).push([[67],{1560:function(e,a,t){"use strict";t.r(a),t.d(a,"useSurfaceWallTransferStore",(function(){return p}));var r=t(22),l=t(10),i=t(1),s=t(8),n=t(37),o=t(54),u=t(4),d=t(17),c=t(25),b=t(12),f=t(119),m=t(9),y=t(0);const p=Object(m.d)("surfaceWallTransfer",(()=>{const e=Object(c.useSurfaceStore)(),a=Object(d.b)(),t=Object(y.ref)({}),m=Object(y.ref)([]),p=Object(y.computed)((()=>h.value.filter((a=>{var t;return a.libraryId!==(null===(t=e.wallAttributes)||void 0===t?void 0:t.library_id)})))),v=Object(y.computed)((()=>Object.values(t.value))),w=Object(y.computed)((()=>v.value.filter((e=>e.visible)))),h=Object(y.computed)((()=>{var a,t,r;const l=Object(s.g)(),i=[];if(!0===e.user.visible){const s={type:"user",id:e.user.id},u=e.user.tenant_id,d=n.a,c=l===n.a,b=1===u,f=!1,m=null,y=Object(o.e)(e.user),p=`https://${n.a}/dashboard`,v=null!==(a=e.user.username)&&void 0!==a?a:"",w=e.user.quota.walls_used,h=e.user.quota.walls_limit,O=e.user.quota.walls_limit-e.user.quota.walls_used,g=!0,_=null!==(t=e.user.is_archive_enabled)&&void 0!==t&&t,I=e.user.membership_tier;let j="https://padlet.net/avatars/tenant_avatar.webp";void 0!==(null===(r=e.user)||void 0===r?void 0:r.avatar)&&(j=e.user.avatar),i.push({key:s,tenantId:u,displayName:y,logo:j,tenantDomainName:d,isSameDomain:c,isNative:b,isLibrary:f,libraryId:m,url:p,username:v,wallsUsed:w,wallsLimit:h,remainingWallsQuota:O,canMakeWall:g,canArchive:_,membershipTier:I})}return w.value.forEach((e=>{var a,t,r;const s={type:"library",id:e.id},o=null!==(a=e.host)&&void 0!==a?a:n.a,u=l===o,d=e.name,c=e.avatar,b=`https://padlet.net/homes/${e.id}.png`,f=e.id,y=e.slug,p=e.dashboardUrl,v=null===(t=e.libraryAccess)||void 0===t?void 0:t.canViewGallery,w=e.quota.wallsUsed,h=e.quota.wallsLimit,O=e.quota.wallsLimit-e.quota.wallsUsed,g=m.value.includes(e.id),_=null!==(r=e.isArchiveEnabled)&&void 0!==r&&r,I=e.membershipTier;i.push({key:s,tenantId:1,displayName:d,logo:c,fallbackLogo:b,tenantDomainName:o,isSameDomain:u,isNative:!0,isLibrary:!0,libraryId:f,url:p,slug:y,canViewGallery:v,wallsUsed:w,wallsLimit:h,remainingWallsQuota:O,canMakeWall:g,canArchive:_,membershipTier:I})})),Object(f.a)(i,"tenantId")}));return{transferableAccounts:p,transferWall:async function(n,c){const f=null==c?Object(o.e)(e.user):t.value[c].name;try{await b.a.Wall.transfer({wallId:n,destinationLibraryId:c}),a.setSnackbar({message:Object(i.b)("This padlet transferred to %{libraryName}",{libraryName:f}),shouldTruncate:!0,notificationType:d.a.success,timeout:2500}),Object(s.B)()}catch(m){const e=JSON.parse(m.message).errors[0].code;if(e===u.a.EXCEEDS_WALL_QUOTA_LIMIT)return void a.setSnackbar({message:Object(i.b)("You've hit the padlet quota for %{libraryName}",{libraryName:f}),shouldTruncate:!0,timeout:2500,notificationType:d.a.error});a.setSnackbar({message:Object(i.b)("This padlet could not be transferred to %{libraryName}",{libraryName:f}),shouldTruncate:!0,timeout:2500,notificationType:d.a.error}),e!==u.a.NO_DESTINATION_PERMISSION&&Object(l.b)(m,{source:"SurfaceTransferWall"})}Object(r.a)("Transfer padlet","Clicked from transfer wall modal on surface web")},initialize:function(e){t.value=e.librariesById,m.value=e.wallCreatableLibraryIds}}}))}}]);
//# sourceMappingURL=67-862ea7bf14c30206a457.chunk.js.map