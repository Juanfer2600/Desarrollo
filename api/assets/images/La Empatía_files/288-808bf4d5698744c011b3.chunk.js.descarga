!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="68224d09-9661-4ff6-8b27-cebbca7467a8",e._sentryDebugIdIdentifier="sentry-dbid-68224d09-9661-4ff6-8b27-cebbca7467a8")}catch(e){}}();var _global="undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{};_global.SENTRY_RELEASE={id:"v-2409062254-9fdfa-production"},(("undefined"!==typeof self?self:this).webpackJsonp=("undefined"!==typeof self?self:this).webpackJsonp||[]).push([[288,60,329,339,357,417,556],{1173:function(e,t,o){"use strict";o(911)},1574:function(e,t,o){"use strict";var a=o(0),n=o(109),l=Object(a.defineComponent)({__name:"processed_image",props:{src:null,width:null,height:null,transforms:null,alt:{default:""}},emits:["error"],setup(e,{emit:t}){const o=e,l=Object(a.computed)((()=>{if(o.src.startsWith("/"))return o.src;return Object(n.a)(o.src,o.transforms)}));return{__sfc:!0,props:o,emit:t,processedSrc:l,onError:function(e){t("error",e)}}}}),i=o(13),r=Object(i.a)(l,(function(){var e=this,t=e._self._c,o=e._self._setupProxy;return e.src?t("img",{attrs:{src:o.processedSrc,width:e.width,height:e.height,alt:e.alt},on:{error:o.onError}}):e._e()}),[],!1,null,null,null);t.a=r.exports},1604:function(e,t,o){},1608:function(e,t,o){"use strict";var a=o(1),n=o(1574),l="https://padlet.net/avatars/alien1.png",i={components:{ProcessedImage:n.a},props:{user:{type:Object,default:null},avatarUrl:{type:String,default:null},width:{type:Number,default:16},height:{type:Number,default:16}},data:function(){return{hasError:!1}},computed:{avatarSrc:function(){return this.hasError?l:this.avatarUrl?this.avatarUrl:this.user&&this.user.avatar?this.user.avatar:l},avatarAltTag:function(){var e,t,o=(null===(e=this.user)||void 0===e?void 0:e.name)||(null===(t=this.user)||void 0===t?void 0:t.username);return o?Object(a.b)("Avatar of %{name}",{name:o}):Object(a.b)("Avatar of anonymous")},transforms:function(){return this.width&&this.height?{width:this.width,height:this.height,preset:"avatar"}:{preset:"avatar"}}},methods:{handleError:function(){this.hasError=!0}}},r=(o(1631),o(13)),s=Object(r.a)(i,(function(){var e=this;return(0,e._self._c)("processed-image",{staticClass:"avatar",attrs:{src:e.avatarSrc,transforms:e.transforms,width:e.width,height:e.height,alt:e.avatarAltTag,"aria-label":e.avatarAltTag},on:{error:e.handleError}})}),[],!1,null,null,null);t.a=s.exports},1631:function(e,t,o){"use strict";o(1604)},1661:function(e,t,o){"use strict";o.d(t,"a",(function(){return f}));var a=o(15),n=o(1),l=o(146),i=o(91),r=o(25),s=o(301),d=o(85),c=o(176),u=o(42),p=o(40),m=o(9);const v="INVALID_FILE_TYPE_ERROR";class b extends Error{constructor(){super(...arguments),this.error=v}}const h=e=>!!e.type.startsWith("image/")||(!!e.type.startsWith("video/")||!!e.type.startsWith("audio/")&&Object(a.a)("audioComments")),f=()=>{const{openAlertDialog:e}=Object(i.a)(),t=Object(r.useSurfaceStore)(),{uploadLimit:o}=Object(m.g)(t),{showOverFileSizeModal:a}=t,f=Object(u.a)(),{postEntitiesByCid:g}=Object(m.g)(f),{isUploadingAttachmentForNewComment:x,isUploadingAttachmentForEditedComment:O,startWritingNewComment:P,updateNewCommentUploadingFile:y,updateNewCommentUploadingFileProgress:S,updateNewCommentAttachment:_,updateEditedDraftCommentUploadingFile:k,updateEditedDraftCommentUploadingFileProgress:w,updateEditedDraftCommentAttachment:j,removeUploadingFileForNewComment:C,removeAttachmentForNewComment:A,removeUploadingFileForEditedComment:M,removeAttachmentForEditedComment:T}=Object(d.b)(),{newCommentAttachmentStateForPostCid:D,updateNewCommentAttachmentState:I,updateEditedCommentAttachmentState:z}=Object(c.b)(),{fetchAndStoreLinkAttributes:E}=Object(s.a)(),B=async({postCid:e,url:t})=>{var o,a;_({postCid:e,attachment:t});const n=await E(t);if(null!=n&&p.a.isGoogleDriveFile(n)){const a=Object(p.b)(n,{width:0}),l=null!==(o=null===a||void 0===a?void 0:a.original_image_url)&&void 0!==o?o:null;if(null==l)throw new Error(`No image URL found for attachment ${t}`);_({postCid:e,attachment:l})}else if(null==n||!p.a.isPhoto(n)&&!p.a.isVideo(n)&&!p.a.isAudio(n))throw new b(`Invalid file type ${null!==(a=null===n||void 0===n?void 0:n.content_type)&&void 0!==a?a:"unknown"}`);D(e)===c.a.LOADING&&I({postCid:e,state:c.a.PREVIEW})},L=({err:t,postCid:o,file:i})=>{A({postCid:o}),I({postCid:o,state:c.a.IDLE}),t.error===l.a&&null!=i?a({file:i}):t.error===v?e({title:Object(n.b)("Invalid file type"),body:Object(n.b)("Sorry, the file you selected is not supported.")}):e({title:Object(n.b)("There was an error loading the attachment"),body:Object(n.b)("Sorry, there was an error uploading your file.")})},R=async({commentId:e,url:t})=>{var o,a;j({commentId:e,attachment:t});const n=await E(t);if(null!=n&&p.a.isGoogleDriveFile(n)){const a=Object(p.b)(n,{width:0}),l=null!==(o=null===a||void 0===a?void 0:a.original_image_url)&&void 0!==o?o:null;if(null==l)throw new Error(`No image URL found for attachment ${t}`);j({commentId:e,attachment:l})}else if(null==n||!p.a.isPhoto(n)&&!p.a.isVideo(n)&&!p.a.isAudio(n))throw new b(`Invalid file type ${null!==(a=null===n||void 0===n?void 0:n.content_type)&&void 0!==a?a:"unknown"}`);z({commentId:e,state:c.a.PREVIEW})},V=({err:t,commentId:o,file:i})=>{T({commentId:o}),z({commentId:o,state:c.a.IDLE}),t.error===l.a&&null!=i?a({file:i}):t.error===v?e({title:Object(n.b)("Invalid file type"),body:Object(n.b)("Sorry, the file you selected is not supported.")}):e({title:Object(n.b)("There was an error loading the attachment"),body:Object(n.b)("Sorry, there was an error uploading your file.")})};return{addAttachmentForNewComment:async({postCid:e,url:t})=>{var o;const a=null===(o=g.value[e])||void 0===o?void 0:o.id;null!=a&&P({postId:a}),I({postCid:e,state:c.a.LOADING});try{await B({postCid:e,url:t})}catch(n){L({err:n,postCid:e})}},addAttachmentForEditedComment:async({commentId:e,url:t})=>{z({commentId:e,state:c.a.LOADING});try{await R({commentId:e,url:t})}catch(o){V({err:o,commentId:e})}},validateFileType:h,uploadFileForNewComment:({postCid:e,file:t})=>{var a;if(!h(t))return void L({err:new b(`Invalid file type ${t.type}`),postCid:e,file:t});const n=null===(a=g.value[e])||void 0===a?void 0:a.id;null!=n&&P({postId:n}),I({postCid:e,state:c.a.LOADING});const i=Object(l.d)(t,{maxFileSize:o.value});y({postCid:e,file:t,uploadJob:i}),S({postCid:e,progress:0}),i.on("progress",(t=>{S({postCid:e,progress:t})})),i.on("done",(({url:o})=>{B({postCid:e,url:o}).then((()=>{C({postCid:e})})).catch((o=>{L({err:o,postCid:e,file:t})}))})),i.on("error",(o=>{L({err:o,postCid:e,file:t})}))},uploadFileForEditedComment:({commentId:e,file:t})=>{if(!h(t))return void V({err:new b(`Invalid file type ${t.type}`),commentId:e,file:t});z({commentId:e,state:c.a.LOADING});const a=Object(l.d)(t,{maxFileSize:o.value});k({commentId:e,file:t,uploadJob:a}),w({commentId:e,progress:0}),a.on("progress",(t=>{w({commentId:e,progress:t})})),a.on("done",(({url:o})=>{R({commentId:e,url:o}).then((()=>{M({commentId:e})})).catch((o=>{V({err:o,commentId:e,file:t})}))})),a.on("error",(o=>{V({err:o,commentId:e,file:t})}))},finishPickingAttachmentForNewComment:B,finishPickingAttachmentForEditedComment:R,handleErrorPickingAttachmentForNewComment:L,handleErrorPickingAttachmentForEditedComment:V,setDummyFileUploadProgressForNewComment:(e,t)=>{var o;if(!x({postCid:e})){const t=null===(o=g.value[e])||void 0===o?void 0:o.id;null!=t&&P({postId:t}),I({postCid:e,state:c.a.LOADING}),y({postCid:e,file:new File([],"empty.txt",{type:"text/plain"}),uploadJob:new l.c})}S({postCid:e,progress:t})},setDummyFileUploadProgressForEditedComment:(e,t)=>{O({commentId:e})||(z({commentId:e,state:c.a.LOADING}),k({commentId:e,file:new File([],"empty.txt",{type:"text/plain"}),uploadJob:new l.c})),w({commentId:e,progress:t})}}}},1685:function(e,t,o){var a=o(1772);a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);(0,o(133).default)("1571ce92",a,!0,{})},1753:function(e,t,o){},1771:function(e,t,o){"use strict";o(1685)},1772:function(e,t,o){(e.exports=o(132)(!1)).push([e.i,".surface-post-property-text-field-value a {text-decoration-line:underline;color:currentColor;text-underline-position:from-font;text-decoration-thickness:from-font\n}\n",""])},1806:function(e,t,o){"use strict";o.r(t);var a=o(0),n=o(1),l=o(86),i=o(107),r=o(23),s=Object(a.defineComponent)({__name:"SurfacePostPropertiesLinkButton",props:{name:null,url:null,darkMode:{type:Boolean},size:null},setup(e){const t=e,o=Object(a.computed)((()=>{switch(t.size){case 24:default:return r.c.H24px;case 32:return r.c.H32px;case 40:return r.c.H40px;case 56:return r.c.H56px}}));return{__sfc:!0,props:t,linkButtonSizePreset:o,OzContainedButton:r.d,OzContainedButtonColorScheme:r.a}}}),d=o(13),c=Object(d.a)(s,(function(){var e=this,t=e._self._c,o=e._self._setupProxy;return t(o.OzContainedButton,{class:[e.darkMode?["bg-button-dark hhover:bg-button-hover-dark","hactive:bg-canary-500 hactive:text-dark-text-100","text-light-text-200"]:["bg-button-light hhover:bg-button-hover-light","hactive:bg-grape-500 hactive:text-light-text-100","text-dark-text-200"]],attrs:{"data-bridged-link":"external",target:"_blank",href:e.url,"dark-mode":e.darkMode,"size-preset":o.linkButtonSizePreset,"color-scheme":o.OzContainedButtonColorScheme.Bare,text:e.name}})}),[],!1,null,null,null).exports,u=o(906),p=Object(a.defineComponent)({__name:"SurfacePostPropertiesTextFieldValue",props:{darkMode:{type:Boolean},postProperty:null,propertyValueClass:{default:"text-body-small"}},setup(e){const t=e,o=Object(a.ref)(t.postProperty.formattedValue),n=Object(a.ref)(null),l=async e=>{if(!n.value)return;const t=await Object(u.c)(e,n.value);o.value=t};return Object(a.onMounted)((async()=>{await l(t.postProperty.formattedValue)})),Object(a.watch)((()=>t.postProperty.formattedValue),(async e=>{o.value=e,await l(t.postProperty.formattedValue)})),{__sfc:!0,props:t,textFieldValue:o,textFieldValueRef:n,processTextFieldValue:l}}}),m=(o(1771),Object(d.a)(p,(function(){var e=this,t=e._self._c,o=e._self._setupProxy;return t("dd",{ref:"textFieldValueRef",class:["surface-post-property-text-field-value",e.propertyValueClass,e.darkMode&&"text-light-text-100",!e.darkMode&&"text-dark-text-100"],domProps:{innerHTML:e._s(o.textFieldValue)}})}),[],!1,null,null,null).exports),v=o(9);var b=Object(a.defineComponent)(Object.assign(Object.assign({},{}),{__name:"SurfacePostProperties",props:{source:{default:"post"},darkMode:{type:Boolean},locationName:{default:void 0},wallCustomPostProperties:null,customPropertyValues:null,propertyLabelClass:{default:"text-body-extra-small"},propertyValueClass:{default:"text-body-small"},linkButtonSize:{default:24},postColor:null,colorScheme:null},emits:["dblclick","update:text-element-refs"],setup(e,{emit:t}){const o=e,{customLinkButtonProperty:r}=Object(v.g)(Object(i.e)()),s=Object(a.computed)((()=>{const e=o.customPropertyValues;return null==e?[]:o.wallCustomPostProperties.filter((e=>null!=e.id)).map((t=>({id:t.id,name:t.name,formattedValue:Object(l.q)({property:t,value:e[t.id]}),dataType:t.data_type}))).filter((({formattedValue:e})=>""!==e))})),d=Object(a.computed)((()=>{const e=[];return o.locationName&&e.push({id:"post-property-location",name:Object(n.b)("Location"),formattedValue:o.locationName}),e.push(...s.value),e})),u=Object(a.ref)([]),p=Object(a.ref)([]),b=Object(a.computed)((()=>{var e;if(null==(null===(e=r.value)||void 0===e?void 0:e.id)||null==o.customPropertyValues)return;const t=o.customPropertyValues[r.value.id];if(null==t)return;return(()=>{try{return new URL(t).href}catch(e){return new URL(`https://${t}`).href}})()}));return Object(a.onMounted)((()=>{t("update:text-element-refs",{customPropertyLabelRefs:u,customPropertyValueRefs:p})})),{__sfc:!0,props:o,emit:t,customLinkButtonProperty:r,customPostProperties:s,postProperties:d,customPropertyLabelRefs:u,customPropertyValueRefs:p,addLabelRef:e=>{u.value.push(e)},addValueRef:e=>{const t=e instanceof Element?e:null===e||void 0===e?void 0:e.$el;null!=t&&p.value.push(t)},linkButtonPropertyValue:b,SurfacePostPropertiesLinkButton:c,SurfacePostPropertiesTextFieldValue:m}}})),h=Object(d.a)(b,(function(){var e=this,t=e._self._c,o=e._self._setupProxy;return t("dl",{staticClass:"flex flex-col gap-1 break-words whitespace-break-spaces",on:{dblclick:function(t){return e.$emit("dblclick",t)}}},[e._l(o.postProperties,(function(a){return t("div",{key:a.id,staticClass:"flex flex-col gap-0.5 py-1"},[t("dt",{ref:o.addLabelRef,refInFor:!0,class:[o.props.propertyLabelClass,o.props.darkMode&&"text-light-text-200",!o.props.darkMode&&"text-dark-text-200"],domProps:{textContent:e._s(a.name)}}),e._v(" "),"text"===a.dataType?t(o.SurfacePostPropertiesTextFieldValue,{ref:o.addValueRef,refInFor:!0,attrs:{"post-property":a,"dark-mode":e.darkMode,"property-value-class":e.propertyValueClass}}):t("dd",{ref:o.addValueRef,refInFor:!0,class:[o.props.propertyValueClass,o.props.darkMode&&"text-light-text-100",!o.props.darkMode&&"text-dark-text-100","single_select"===a.dataType&&["rounded-lg px-2 py-0.5 w-fit break-word-anywhere","post"===o.props.source&&{"bg-oceanic-200":"blue"===e.postColor&&"light"===e.colorScheme,"bg-oceanic-800":"blue"===e.postColor&&"dark"===e.colorScheme,"bg-park-200":"green"===e.postColor&&"light"===e.colorScheme,"bg-park-800":"green"===e.postColor&&"dark"===e.colorScheme,"bg-canary-200 ":"orange"===e.postColor&&"light"===e.colorScheme,"bg-tangerine-800":"orange"===e.postColor&&"dark"===e.colorScheme,"bg-grape-200":"purple"===e.postColor&&"light"===e.colorScheme,"bg-grape-800":"purple"===e.postColor&&"dark"===e.colorScheme,"bg-scarlet-200 ":"red"===e.postColor&&"light"===e.colorScheme,"bg-scarlet-800":"red"===e.postColor&&"dark"===e.colorScheme,"bg-grey-100":null===e.postColor&&"light"===e.colorScheme,"bg-grey-800":null===e.postColor&&"dark"===e.colorScheme},"expanded_view"===o.props.source&&"bg-grey-100  dark:bg-grey-800","slideshow"===o.props.source&&[e.darkMode?"bg-button-dark":"bg-button-light"]]],domProps:{textContent:e._s(a.formattedValue)}})],1)})),e._v(" "),null!=o.customLinkButtonProperty&&null!=o.linkButtonPropertyValue?t("div",{staticClass:"py-1 flex justify-start"},[t("dd",{staticClass:"min-w-0"},[t(o.SurfacePostPropertiesLinkButton,{attrs:{name:o.customLinkButtonProperty.name,url:o.linkButtonPropertyValue,size:e.linkButtonSize,"dark-mode":e.darkMode}})],1)]):e._e()],2)}),[],!1,null,null,null);t.default=h.exports},1879:function(e,t,o){"use strict";o(1753)},1913:function(e,t,o){"use strict";o.r(t);var a,n=o(0),l=o(147),i=o(96),r=o(38),s=o(25),d=o(67),c=o(42),u=o(34),p=o(1916),m=o(1917),v=o(126),b=o(73);!function(e){e[e.All=0]="All",e[e.Select=1]="Select",e[e.None=2]="None"}(a||(a={}));var h=Object(n.defineComponent)({__name:"SurfacePostPollChoiceWhiteboard",props:{selected:{type:Boolean},choiceText:null,choiceId:null,index:null,numChoices:null,darkMode:{type:[Boolean,String],default:"auto"},displayMode:{default:"default"},isStream:{type:Boolean,default:!1},isWhiteboard:{type:Boolean,default:!1},pollColors:null,interactionsDisabled:{default:a.None},pollScaleMultiplier:{default:1}},emits:["select"],setup(e,{emit:t}){const o=e,{selected:l,choiceText:i,choiceId:r,darkMode:s,displayMode:d,isStream:c,numChoices:u,pollColors:p,index:m,interactionsDisabled:h,pollScaleMultiplier:f,isWhiteboard:g}=Object(n.toRefs)(o),x=Object(n.computed)((()=>"expanded"===d.value)),O=Object(n.computed)((()=>"slideshow"===d.value)),P=Object(n.computed)((()=>x.value||O.value));return{__sfc:!0,SurfacePostPollChoiceInteractionsDisabled:a,emit:t,props:o,selected:l,choiceText:i,choiceId:r,darkMode:s,displayMode:d,isStream:c,numChoices:u,pollColors:p,index:m,interactionsDisabled:h,pollScaleMultiplier:f,isWhiteboard:g,isDisplayModeExpanded:x,isDisplayModeSlideshow:O,isDisplayModeExpandedOrSlideshow:P,onSelect:()=>{h.value!==a.All&&h.value!==a.Select&&t("select",r.value)},OzDivider:v.default,OzDividerColorScheme:v.OzDividerColorScheme,OzIconButton:b.d,OzIconButtonSizePreset:b.c}}}),f=(o(1879),o(13)),g=Object(f.a)(h,(function(){var e=this,t=e._self._c,o=e._self._setupProxy;return t("div",{class:["flex flex-col cursor-pointer mx-1 no-drag no-highlight-color","pointer-events-none"],attrs:{"data-testid":`surfacePostPollChoiceButton${o.index+1}`}},[t("div",{class:["flex items-center py-2",o.isDisplayModeSlideshow?"rounded-2xl":"rounded-xl",{"ps-7.5":o.isDisplayModeSlideshow&&2.5===o.pollScaleMultiplier,"ps-6":o.isDisplayModeSlideshow&&2===o.pollScaleMultiplier,"ps-3":!o.isDisplayModeSlideshow&&o.isStream||o.isDisplayModeSlideshow&&1===o.pollScaleMultiplier,"ps-2":!o.isDisplayModeSlideshow&&!o.isStream},o.interactionsDisabled===o.SurfacePostPollChoiceInteractionsDisabled.None&&{[o.pollColors.pollChoiceHoverBackground.light]:!1===o.darkMode,[o.pollColors.pollChoiceHoverBackground.dark]:!0===o.darkMode,[o.pollColors.pollChoiceHoverBackground.auto]:"auto"===o.darkMode},o.interactionsDisabled===o.SurfacePostPollChoiceInteractionsDisabled.None&&"focus-visible:ring-2 active:ring-2",o.interactionsDisabled===o.SurfacePostPollChoiceInteractionsDisabled.None&&{"active:ring-grape-500 focus-visible:ring-grape-500":!1===o.darkMode,"active:ring-canary-500 focus-visible:ring-canary-500":!0===o.darkMode,"active:ring-grape-500 dark:active:ring-canary-500 focus-visible:ring-grape-500 dark:focus-visible:ring-canary-500":"auto"===o.darkMode},o.index===o.numChoices-1&&"mb-1"],attrs:{tabindex:o.interactionsDisabled===o.SurfacePostPollChoiceInteractionsDisabled.None?0:-1,"aria-checked":o.selected}},[t(o.OzIconButton,{class:[o.interactionsDisabled===o.SurfacePostPollChoiceInteractionsDisabled.None?"cursor-pointer pointer-events-auto":"pointer-events-none",o.selected?{"text-grape-500":!1===o.darkMode,"text-canary-500":!0===o.darkMode,"text-grape-500 dark:text-canary-500":"auto"===o.darkMode}:{"text-dark-text-200":!1===o.darkMode,"text-light-text-200":!0===o.darkMode,"text-dark-text-200 dark:text-light-text-200":"auto"===o.darkMode},"shrink-0","!bg-transparent","pt-3","pb-3","-mt-3","-mb-3"],attrs:{label:e.__("Select %{choiceText}",{choiceText:o.choiceText}),"icon-name":o.selected?"radio_selected":"radio_unselected","icon-size":o.isDisplayModeSlideshow?Math.max(20,10*o.pollScaleMultiplier):16,"size-preset":o.OzIconButtonSizePreset.Bare,"color-scheme":null,"dark-mode":o.darkMode},on:{click:function(e){return e.stopPropagation(),o.onSelect.apply(null,arguments)},pointerdown:function(e){e.stopPropagation()},keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:o.onSelect.apply(null,arguments)}}}),e._v(" "),t("p",{class:["ps-3 break-word-anywhere",{"pe-7.5":o.isDisplayModeSlideshow&&2.5===o.pollScaleMultiplier,"pe-6":o.isDisplayModeSlideshow&&2===o.pollScaleMultiplier,"pe-3":!o.isDisplayModeSlideshow||o.isDisplayModeSlideshow&&1===o.pollScaleMultiplier},o.isDisplayModeExpandedOrSlideshow||o.isStream?"text-body":"text-body-small",{"text-dark-text-100":!1===o.darkMode,"text-light-text-100":!0===o.darkMode,"text-dark-text-100 dark:text-light-text-100":"auto"===o.darkMode},o.selected&&"font-semibold"],attrs:{"data-testid":`surfacePostPollChoiceText${o.index+1}`}},[e._v("\n      "+e._s(o.choiceText)+"\n    ")])],1),e._v(" "),o.index!==o.numChoices-1?t(o.OzDivider,{class:["my-1",{"ms-16":o.isDisplayModeSlideshow&&2.5===o.pollScaleMultiplier,"ms-13":o.isDisplayModeSlideshow&&2===o.pollScaleMultiplier,"ms-10":o.isDisplayModeSlideshow&&1===o.pollScaleMultiplier,"ms-9":!o.isDisplayModeSlideshow||o.isDisplayModeSlideshow&&1===o.pollScaleMultiplier},{"me-8":o.isDisplayModeSlideshow&&(2.5===o.pollScaleMultiplier||2===o.pollScaleMultiplier),"me-4":o.isDisplayModeExpandedOrSlideshow,"me-3":!o.isDisplayModeExpandedOrSlideshow&&o.isStream,"me-1":!o.isDisplayModeExpandedOrSlideshow&&!o.isStream}],attrs:{"color-scheme":o.OzDividerColorScheme.Solid,"dark-mode":o.darkMode}}):e._e()],1)}),[],!1,null,"71a5e335",null),x=g.exports,O=o(1918),P=o(1919),y=o(9),S=Object(n.defineComponent)({__name:"SurfacePostPoll",props:{poll:null,pollCaption:{default:""},post:null,backgroundColor:{default:void 0},user:null,darkMode:{type:[Boolean,String],default:"auto"},displayMode:{default:"default"},xOverlay:{type:Boolean,default:!1}},emits:["dblclick","click","enter","load"],setup(e,{emit:t}){const o=e,{darkMode:a,pollCaption:v,poll:b,displayMode:h,xOverlay:f}=Object(n.toRefs)(o),g=Object(n.computed)((()=>"default"===h.value)),S=Object(n.computed)((()=>"expanded"===h.value)),_=Object(n.computed)((()=>"slideshow"===h.value)),k=Object(n.computed)((()=>S.value||_.value)),{isSmallerThanDesktop3XL:w,isSmallerThanDesktop2XL:j}=Object(y.g)(Object(u.b)()),C=Object(n.computed)((()=>w.value?j.value?1:2:2.5)),A=Object(n.computed)((()=>void 0===o.backgroundColor?o.post.color:o.backgroundColor)),M=Object(n.computed)((()=>Object(l.b)(k.value?null:A.value))),{isStream:T,isWhiteboard:D,isFrozen:I}=Object(y.g)(Object(s.useSurfaceStore)()),{postPollVote:z}=Object(c.a)(),{canIModerate:E}=Object(y.g)(Object(d.a)()),B=Object(n.computed)((()=>o.post.author_id===o.user.id)),L=Object(n.computed)((()=>b.value.poll_choices.map((e=>e.total_votes)))),R=Object(n.computed)((()=>L.value.reduce(((e,t)=>"number"!==typeof e||"number"!==typeof t?0:e+t),0))),V=Object(n.computed)((()=>Math.max(...L.value))),F=Object(n.computed)((()=>null!=b.value.closed_at)),H=Object(n.computed)((()=>b.value.poll_choices.map((e=>Object.assign(Object.assign({},e),{percentage:0===R.value?0:e.total_votes/R.value*100,pollWinner:e.total_votes===V.value&&F.value&&0!==e.total_votes}))))),N=Object(n.computed)((()=>b.value.user_voted)),$=Object(n.computed)((()=>H.value.some((e=>e.percentage%1!==0)))),U=Object(n.ref)(-1),W=Object(n.ref)(!1),G=Object(n.ref)(!1),Y=Object(n.computed)((()=>Object(i.c)(o.post)?m.a.All:I.value?m.a.Select:m.a.None)),Z=Object(n.ref)(k.value?48:40),q=Object(n.ref)(),X=Object(n.ref)();return Object(n.onMounted)((()=>{_.value&&t("load")})),{__sfc:!0,emit:t,props:o,darkMode:a,pollCaption:v,poll:b,displayMode:h,xOverlay:f,isDisplayModeDefault:g,isDisplayModeExpanded:S,isDisplayModeSlideshow:_,isDisplayModeExpandedOrSlideshow:k,isSmallerThanDesktop3XL:w,isSmallerThanDesktop2XL:j,pollScaleMultiplier:C,displayedBackgroundColor:A,pollColors:M,isStream:T,isWhiteboard:D,isFrozen:I,postPollVote:z,canIModerate:E,isPostAuthor:B,totalVotesArray:L,totalVotesCount:R,highestVoteTotal:V,isPollClosed:F,pollResults:H,didCurrentUserVoteForPoll:N,hasDecimalVoteRatio:$,selectedPollChoiceId:U,isShowingPollResults:W,isVoting:G,interactionsDisabled:Y,bottomSectionHeight:Z,pollResultsContainer:q,pollScrollableContainer:X,togglePollResults:()=>{if(W.value=!W.value,W.value){const e=q.value.offsetTop;X.value.scrollTo({top:e,behavior:"smooth"})}},vote:async()=>{G.value=!0,await z({wishId:o.post.id,pollId:b.value.poll_id,pollChoiceIds:[U.value]}),G.value=!1},handleBottomSectionResize:({width:e,height:t})=>{Z.value=t},toOzBoxColor:l.q,OzBox:r.b,OzBoxColors:r.a,SurfacePostPollBottomSection:p.a,SurfacePostPollChoice:m.b,SurfacePostPollChoiceInteractionsDisabled:m.a,SurfacePostPollChoiceWhiteboard:x,SurfacePostPollQuestion:O.a,SurfacePostPollResult:P.a}}}),_=Object(f.a)(S,(function(){var e=this,t=e._self._c,o=e._self._setupProxy;return t("div",{class:["w-full",o.pollCaption&&o.isDisplayModeDefault&&"space-y-1.5",o.isDisplayModeSlideshow&&"rounded-2xl bg-light-ui-100",o.isDisplayModeExpanded&&"overflow-y-auto max-h-[calc(100vh-56px)]","font-sans"],on:{click:function(t){return t.stopPropagation(),(t=>o.isDisplayModeDefault&&(o.didCurrentUserVoteForPoll||o.isPollClosed)&&e.$emit("click",t)).apply(null,arguments)},keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.stopPropagation(),(t=>o.isDisplayModeDefault&&(o.didCurrentUserVoteForPoll||o.isPollClosed)&&e.$emit("enter",t)).apply(null,arguments))}}},[t(o.OzBox,{staticClass:"w-full h-full relative overflow-hidden",attrs:{color:o.isDisplayModeSlideshow?o.OzBoxColors.Primary:o.isDisplayModeExpanded?o.OzBoxColors.None:o.toOzBoxColor(o.displayedBackgroundColor),"dark-mode":o.darkMode,radius:o.isDisplayModeSlideshow?16:o.isStream?12:8}},[t("div",{ref:"pollScrollableContainer",class:["w-full h-full box-border",o.isDisplayModeSlideshow&&"px-4 overflow-y-auto overflow-x-hidden",{"scrollbar-thin":!1===o.darkMode,"scrollbar-thin-dark":!0===o.darkMode,"scrollbar-thin dark:scrollbar-thin-dark":"auto"===o.darkMode}],style:{paddingBottom:`${(o.isDisplayModeSlideshow||o.isDisplayModeDefault)&&o.interactionsDisabled!==o.SurfacePostPollChoiceInteractionsDisabled.All?o.bottomSectionHeight:0}px`}},[t(o.SurfacePostPollQuestion,{attrs:{"dark-mode":o.darkMode,question:o.poll.question,"display-mode":o.displayMode,"x-overlay":o.xOverlay,"is-stream":o.isStream},on:{dblclick:t=>e.$emit("dblclick",t)}}),e._v(" "),t("div",{ref:"pollResultsContainer",class:["w-full",o.isDisplayModeExpandedOrSlideshow&&"pt-1",o.isDisplayModeExpandedOrSlideshow&&{"rounded-2xl":!0,"bg-light-ui-200":!1===o.darkMode,"bg-dark-ui-200 ":!0===o.darkMode,"bg-light-ui-200 dark:bg-dark-ui-200 ":"auto"===o.darkMode}],on:{dblclick:function(t){(o.isShowingPollResults||o.didCurrentUserVoteForPoll||o.isPollClosed)&&e.$emit("dblclick",t)}}},[o.isShowingPollResults||o.didCurrentUserVoteForPoll||o.isPollClosed?e._l(o.pollResults,(function(e,a){return t(o.SurfacePostPollResult,{key:`poll-${o.poll.poll_id}-result-${e.poll_choice_id}`,attrs:{index:a,result:e,"poll-colors":o.pollColors,"is-stream":o.isStream,"display-mode":o.displayMode,"dark-mode":o.darkMode,"num-results":o.pollResults.length,"decimal-percentage":o.hasDecimalVoteRatio}})})):o.isWhiteboard?e._l(o.poll.poll_choices,(function(e,a){return t(o.SurfacePostPollChoiceWhiteboard,{key:`poll-${o.poll.poll_id}-choice-${e.poll_choice_id}`,attrs:{index:a,selected:e.poll_choice_id===o.selectedPollChoiceId,"choice-text":e.choice_text,"choice-id":e.poll_choice_id,"poll-colors":o.pollColors,"is-stream":o.isStream,"display-mode":o.displayMode,"dark-mode":o.darkMode,"num-choices":o.poll.poll_choices.length,"interactions-disabled":o.interactionsDisabled},on:{select:e=>o.selectedPollChoiceId=e}})})):e._l(o.poll.poll_choices,(function(e,a){return t(o.SurfacePostPollChoice,{key:`poll-${o.poll.poll_id}-choice-${e.poll_choice_id}`,attrs:{index:a,selected:e.poll_choice_id===o.selectedPollChoiceId,"choice-text":e.choice_text,"choice-id":e.poll_choice_id,"poll-colors":o.pollColors,"is-stream":o.isStream,"display-mode":o.displayMode,"dark-mode":o.darkMode,"num-choices":o.poll.poll_choices.length,"interactions-disabled":o.interactionsDisabled},on:{select:e=>o.selectedPollChoiceId=e}})}))],2),e._v(" "),(o.isDisplayModeDefault||o.isDisplayModeSlideshow)&&o.interactionsDisabled!==o.SurfacePostPollChoiceInteractionsDisabled.All?t(o.SurfacePostPollBottomSection,{staticClass:"absolute bottom-0 start-0",attrs:{"dark-mode":o.darkMode,"is-showing-poll-results":o.isShowingPollResults,"total-votes-count":o.totalVotesCount,"is-poll-closed":o.isPollClosed,"is-vote-button-disabled":-1===o.selectedPollChoiceId||o.isVoting,"x-vote-button":!o.isPollClosed&&!o.didCurrentUserVoteForPoll&&-1!==o.selectedPollChoiceId,"x-results-toggle":(o.canIModerate||o.isPostAuthor)&&!o.isPollClosed&&!o.didCurrentUserVoteForPoll,"is-slideshow":o.isDisplayModeSlideshow,"is-stream":o.isStream,"poll-scale-multiplier":o.pollScaleMultiplier},on:{"toggle-poll-results":o.togglePollResults,vote:o.vote,resize:e=>o.handleBottomSectionResize(e),dblclick:function(t){return e.$emit("dblclick",t)}}}):e._e()],1)]),e._v(" "),o.pollCaption&&o.isDisplayModeDefault?t("p",{class:["text-body-extra-small no-drag ms-1",{"text-dark-text-300":!1===o.darkMode,"text-light-text-300":!0===o.darkMode,"text-dark-text-300 dark:text-light-text-300":"auto"===o.darkMode}],on:{dblclick:function(t){return e.$emit("dblclick",t)}}},[e._v("\n    "+e._s(o.pollCaption)+"\n  ")]):e._e(),e._v(" "),o.isDisplayModeExpanded&&o.interactionsDisabled!==o.SurfacePostPollChoiceInteractionsDisabled.All?t(o.SurfacePostPollBottomSection,{attrs:{"is-showing-poll-results":o.isShowingPollResults,"dark-mode":o.darkMode,"total-votes-count":o.totalVotesCount,"is-poll-closed":o.isPollClosed,"is-vote-button-disabled":-1===o.selectedPollChoiceId||o.isVoting,"is-expanded":o.isDisplayModeExpanded,"x-vote-button":!o.isPollClosed&&!o.didCurrentUserVoteForPoll&&-1!==o.selectedPollChoiceId,"x-results-toggle":(o.canIModerate||o.isPostAuthor)&&!o.isPollClosed&&!o.didCurrentUserVoteForPoll},on:{"toggle-poll-results":o.togglePollResults,vote:o.vote}}):e._e()],1)}),[],!1,null,null,null);t.default=_.exports},2035:function(e,t,o){"use strict";o.d(t,"a",(function(){return l}));var a=o(1),n=o(4);function l({moderationViolations:e,useLongText:t}){if(null==e||0===e.length)return"";if(e.length>1)return t?Object(a.b)("Warning: this post may contain inappropriate content."):Object(a.b)("This post may contain inappropriate content.");switch(e[0]){case n.w.Sexual:return t?Object(a.b)("Warning: this post may contain sexual content."):Object(a.b)("This post may contain sexual content.");case n.w.Hate:return t?Object(a.b)("Warning: this post may contain hateful content."):Object(a.b)("This post may contain hateful content.");case n.w.Violence:return t?Object(a.b)("Warning: this post may contain violent content."):Object(a.b)("This post may contain violent content.");case n.w.Bullying:return t?Object(a.b)("Warning: this post may contain bullying."):Object(a.b)("This post may contain bullying.");case n.w.Weapons:return t?Object(a.b)("Warning: this post may contain content relating to weapons."):Object(a.b)("This post may contain content relating to weapons.");case n.w.ChildExploitation:return t?Object(a.b)("Warning: this post may contain content relating to child exploitation."):Object(a.b)("This post may contain content relating to child exploitation.");case n.w.ChildSafety:return t?Object(a.b)("Warning: this post may contain content relating to child safety."):Object(a.b)("This post may contain content relating to child safety.");case n.w.SelfHarm:return t?Object(a.b)("Warning: this post may contain content relating to self harm."):Object(a.b)("This post may contain content relating to self harm.");case n.w.Profanity:return t?Object(a.b)("Warning: this post may contain profanity."):Object(a.b)("This post may contain profanity.");case n.w.Drugs:return t?Object(a.b)("Warning: this post may contain content relating to drugs."):Object(a.b)("This post may contain content relating to drugs.");default:return t?Object(a.b)("Warning: this post may contain inappropriate content."):Object(a.b)("This post may contain inappropriate content.")}}},215:function(e,t,o){"use strict";o.d(t,"c",(function(){return c})),o.d(t,"d",(function(){return u})),o.d(t,"a",(function(){return i.a}));var a,n=o(0),l=o(202),i=o(38),r=o(169),s=o(367),d=o(333);function c(e,t,o={top:0,left:0}){return{top:t+o.top,left:e+o.left,width:0,height:0}}function u(e,t={top:0,left:0}){const o=e.getBoundingClientRect();return{top:o.top+t.top,left:o.left+t.left,width:o.width,height:o.height}}var p=Object(n.defineComponent)(Object.assign(Object.assign({},{}),{__name:"OzPopoverModal",props:{popoverAnchor:null,xHeader:{type:Boolean,default:!0},xScrim:{type:Boolean,default:!0},isSpectral:{type:Boolean,default:!1},containerHeight:{default:void 0},containerWidth:{default:void 0},popoverWidth:{default:"default"},color:{default:i.a.Primary},radius:{default:20},boxClasses:{default:()=>[]},tipClasses:{default:()=>[]},tipPathClasses:{default:()=>[]},darkMode:{type:[Boolean,String],default:"auto"},dir:{default:(null===(a=null===document||void 0===document?void 0:document.documentElement)||void 0===a?void 0:a.dir)||"ltr"},positionMode:{default:"smart"},manualPosition:{default:()=>({})},xPopoverTip:{type:Boolean,default:!0}},emits:["scrim-click","scrim-esc","trigger-anchor-update"],setup(e,{emit:t}){const o=e,a=12,p=Object(n.ref)(),m=Object(n.computed)((()=>L.value-o.popoverAnchor.top)),v=Object(n.computed)((()=>"rtl"===o.dir)),b=Object(n.ref)(0),h=Object(n.computed)((()=>"number"===typeof o.popoverWidth?o.popoverWidth:"auto"===o.popoverWidth?b.value:"wide"===o.popoverWidth?320:224)),f=Object(n.ref)(0),g=Object(n.computed)((()=>"smart"===o.positionMode&&o.popoverAnchor.left-h.value<8)),x=Object(n.computed)((()=>o.popoverAnchor.position||"top")),O=Object(n.computed)((()=>"smart"===o.positionMode&&("top"===x.value||"bottom"===x.value?o.popoverAnchor.left+h.value+8>R.value:o.popoverAnchor.left+o.popoverAnchor.width+h.value+32>R.value))),P=Object(n.computed)((()=>"smart"===o.positionMode&&("side"===x.value&&o.popoverAnchor.top+f.value+12>L.value))),y=Object(n.computed)((()=>o.popoverAnchor.top-f.value-32-a<0)),S=Object(n.computed)((()=>"smart"===o.positionMode&&(!_.value&&("top"===x.value&&y.value)))),_=Object(n.computed)((()=>"smart"===o.positionMode&&("side"===x.value?L.value-o.popoverAnchor.top-o.popoverAnchor.height<24:"bottom"===x.value&&L.value-o.popoverAnchor.top-o.popoverAnchor.height-f.value<24))),k=Object(n.computed)((()=>{var e;return"manual"===o.positionMode&&(null===(e=o.manualPosition)||void 0===e?void 0:e.tipSide)?o.manualPosition.tipSide:"bottom"===x.value?v.value?g.value?"right":"left":O.value?"left":"right":!v.value&&O.value||v.value&&!g.value?"left":"right"})),w=Object(n.computed)((()=>{var e;if(S.value)return C.value;const t="left"===k.value?o.popoverAnchor.left+o.popoverAnchor.width/2-h.value+48:o.popoverAnchor.left+o.popoverAnchor.width/2-48,n="manual"===o.positionMode&&(null===(e=o.manualPosition)||void 0===e?void 0:e.boxLeftOffset)||0,l={bottom:`${m.value+a}px`,left:`${t+n}px`,width:"auto"===o.popoverWidth?"auto":`${h.value}px`};if(!y.value)return l;const i="manual"===o.positionMode?"32px":"12px";return Object.assign(Object.assign({},l),{top:i})})),j=Object(n.computed)((()=>{var e,t;if(_.value)return w.value;const n="right"===k.value?o.popoverAnchor.left:o.popoverAnchor.left-h.value+o.popoverAnchor.width,l=o.popoverAnchor.top+o.popoverAnchor.height+(o.xPopoverTip?a:2),i="manual"===o.positionMode&&(null===(e=o.manualPosition)||void 0===e?void 0:e.boxLeftOffset)||0;return{top:`${l+("manual"===o.positionMode&&(null===(t=o.manualPosition)||void 0===t?void 0:t.boxTopOffset)||0)}px`,left:`${n+i}px`,width:"auto"===o.popoverWidth?"auto":`${h.value}px`}})),C=Object(n.computed)((()=>{var e;if(_.value)return w.value;const t=o.xPopoverTip?o.popoverAnchor.left-h.value-12:o.popoverAnchor.left-h.value+39,a=o.popoverAnchor.left+o.popoverAnchor.width+12,n="left"===k.value?t:a;return{top:`${(P.value?Math.min(L.value-f.value-12,o.popoverAnchor.top-20):o.popoverAnchor.top+o.popoverAnchor.height/2-(o.xPopoverTip?12:0)-20)+("manual"===o.positionMode&&(null===(e=o.manualPosition)||void 0===e?void 0:e.boxTopOffset)||0)}px`,left:`${n}px`,minHeight:"60px",width:"auto"===o.popoverWidth?"auto":`${h.value}px`}})),A=Object(n.computed)((()=>"top"===x.value?w.value:"bottom"===x.value?j.value:C.value)),M=Object(n.computed)((()=>S.value?D.value:{bottom:m.value-a+"px",left:o.popoverAnchor.left+o.popoverAnchor.width/2-12+"px"})),T=Object(n.computed)((()=>_.value?M.value:{top:o.popoverAnchor.top+o.popoverAnchor.height-a+"px",left:o.popoverAnchor.left+o.popoverAnchor.width/2-12+"px",transform:"rotate(180deg)"})),D=Object(n.computed)((()=>_.value?M.value:"left"===k.value?{top:o.popoverAnchor.top+o.popoverAnchor.height/2-12+"px",left:o.popoverAnchor.left-12+"px",transform:"rotate(270deg)"}:{top:o.popoverAnchor.top+o.popoverAnchor.height/2-12+"px",left:o.popoverAnchor.left+o.popoverAnchor.width-12+"px",transform:"rotate(90deg)"})),I=Object(n.computed)((()=>{switch(x.value){case"top":return M.value;case"bottom":return T.value;default:return D.value}})),z=()=>{L.value=o.containerHeight||window.innerHeight,R.value=o.containerWidth||window.innerWidth,t("trigger-anchor-update")},E=()=>{t("trigger-anchor-update")},B=()=>{p.value&&(f.value=p.value.$el.clientHeight,b.value=p.value.$el.clientWidth)},L=Object(n.ref)(0),R=Object(n.ref)(0);let V;return Object(n.onMounted)((()=>{Object(n.nextTick)((()=>{B(),"manual"!==o.positionMode&&p.value&&(V=Object(l.a)(p.value.$el,Object(d.a)(B,250)))})),L.value=o.containerHeight||window.innerHeight,R.value=o.containerWidth||window.innerWidth,window.addEventListener("resize",z),window.addEventListener("scroll",E)})),Object(n.onBeforeUnmount)((()=>{null===V||void 0===V||V.disconnect(),window.removeEventListener("resize",z),window.removeEventListener("scroll",E)})),{__sfc:!0,getAnchorFromCoordinates:c,getAnchorFromElement:u,props:o,emit:t,GAP_TO_ANCHOR:2,MIN_SCREEN_EDGE_PADDING:12,SIDE_POPOVER_TIP_DISTANCE_FROM_TOP:20,POPOVER_TIP_HEIGHT_SIDE:24,POPOVER_TIP_WIDTH_SIDE:12,POPOVER_TIP_HEIGHT_VERTICAL:a,POPOVER_TIP_WIDTH_VERTICAL:24,TOP_EDGE_MARGIN:32,popover:p,anchorDistanceToBottom:m,isRtl:v,autoCalculatedPopoverWidthPx:b,popoverWidthPx:h,popoverHeightPx:f,willExceedViewportLeftEdge:g,popoverPosition:x,willExceedViewportRightEdge:O,willExceedViewportBottomEdge:P,willExceedViewportTopEdge:y,isAnchorTooHigh:S,isAnchorTooLow:_,popoverSidePosition:k,popoverOnTopStyle:w,popoverOnBottomStyle:j,popoverOnSideStyle:C,popoverStyle:A,popoverOnTopTipStyle:M,popoverToBottomTipStyle:T,popoverToSideTipStyle:D,popoverTipStyle:I,handleWindowResize:z,handleWindowScroll:E,updatePopoverSize:B,realContainerHeight:L,realContainerWidth:R,resizeObserver:V,OzBox:i.b,OzOverlay:r.default,OzPopoverTip:s.a}}})),m=o(13),v=Object(m.a)(p,(function(){var e=this,t=e._self._c,o=e._self._setupProxy;return t(o.OzOverlay,{class:["font-sans"],attrs:{dir:e.dir,scrim:e.xScrim?"popover":null,"is-spectral":e.isSpectral,"should-fade-in":!1,"dark-mode":e.darkMode},on:{"scrim-click":function(e){return o.emit("scrim-click")},"scrim-esc":function(e){return o.emit("scrim-esc")}}},[t(o.OzBox,{ref:"popover",class:["absolute","flex","flex-col","justify-center","overflow-hidden",e.boxClasses],style:o.popoverStyle,attrs:{color:e.color,radius:e.radius,"dark-mode":e.darkMode}},[e.xHeader&&e.$slots.header?t("header",[e._t("header")],2):e._e(),e._v(" "),t("div",{staticClass:"flex grow flex-col overflow-hidden p-0 justify-center max-h-screen"},[e._t("body")],2)]),e._v(" "),e.xPopoverTip?t(o.OzPopoverTip,{class:e.tipClasses,style:o.popoverTipStyle,attrs:{color:e.color,"dark-mode":e.darkMode,"path-classes":e.tipPathClasses}}):e._e()],1)}),[],!1,null,null,null);t.b=v.exports},2187:function(e,t,o){"use strict";o.r(t);var a=o(0),n=o(14),l=o(116),i=o(140),r=o(25),s=o(95),d=o(80),c=o(34),u=o(15),p=o(56),m=o(85),v=o(164),b=o(905),h=o(241),f=o(9),g=Object(a.defineComponent)({__name:"SurfacePostCommentsIcon",props:{commentIds:null,colorScheme:null,isButton:{type:Boolean},usageContext:{default:"postView"}},emits:["show-comments-panel"],setup(e,{emit:t}){const o=e,n=b.a,l=Object(v.a)(),{isContainerSmallerThanTabletPortrait:i}=Object(f.g)(l),r=Object(m.b)(),{commentEntities:s}=Object(f.g)(r),d=Object(a.ref)(),c=Object(a.computed)((()=>"postExpandedView"===o.usageContext)),g=Object(a.computed)((()=>c.value?i.value?24:20:18)),x=Object(a.computed)((()=>{if(Object(u.a)("commentModeration")){return o.commentIds.filter((e=>!s.value[e].is_awaiting_approval)).length}return o.commentIds.length})),O=Object(a.computed)((()=>o.isButton?"button":"div")),P=Object(a.computed)((()=>o.isButton?Object(h.a)("comment-button-"):""));return{__sfc:!0,props:o,emit:t,vEmitClickOnTouch:n,surfaceContainerSizeStore:l,isContainerSmallerThanTabletPortrait:i,surfaceCommentsStore:r,commentEntities:s,rootEl:d,isUsedInPostExpandedView:c,iconSize:g,commentsListLength:x,showCommentsPanel:()=>{var e,a;o.isButton&&((null===(a=null===(e=d.value)||void 0===e?void 0:e.closest(".surface-post"))||void 0===a?void 0:a.classList.contains("noclick"))||t("show-comments-panel"))},wrapperElement:O,buttonAriaDescribedby:P,OzIcon:p.default}}}),x=o(13),O=Object(x.a)(g,(function(){var e=this,t=e._self._c,o=e._self._setupProxy;return t(o.wrapperElement,{directives:[{name:"emit-click-on-touch",rawName:"v-emit-click-on-touch"}],ref:"rootEl",tag:"component",class:["m-0 p-0 bg-transparent border-none outline-none","focus-visible:ring-2 rounded focus-visible:ring-offset-2","light"===e.colorScheme&&"focus-visible:ring-grape","dark"===e.colorScheme&&"focus-visible:ring-canary"],attrs:{"aria-label":e.isButton?e.__("Show comments for this post"):void 0,"aria-describedby":e.isButton?o.buttonAriaDescribedby:void 0},on:{click:o.showCommentsPanel}},[t("div",{class:["flex",{"items-end":!o.isUsedInPostExpandedView,"items-center":o.isUsedInPostExpandedView},{"text-dark-text-200":"light"===e.colorScheme,"text-light-text-200":"dark"===e.colorScheme}]},[t(o.OzIcon,{attrs:{name:"comment_outline",size:o.iconSize}}),e._v(" "),t("span",{class:[{"ms-0.5":!o.isUsedInPostExpandedView,"ms-1":o.isUsedInPostExpandedView},{"text-12-16 font-sans":!o.isUsedInPostExpandedView,"text-body-small":o.isUsedInPostExpandedView},{"text-dark-text-200":"light"===e.colorScheme,"text-light-text-200":"dark"===e.colorScheme}],attrs:{"aria-hidden":"true"}},[e._v(e._s(o.commentsListLength))]),e._v(" "),t("span",{staticClass:"sr-only",attrs:{id:o.buttonAriaDescribedby}},[e._v(e._s(e.np__("Amount of comments in a post","This post has %{commentsListLength} comment","This post has %{commentsListLength} comments",o.commentsListLength,{commentsListLength:o.commentsListLength})))])],1)])}),[],!1,null,null,null).exports,P=Object(a.defineComponent)({__name:"SurfacePostSocialContentTopBar",props:{post:null,usageContext:{default:"postView"},postReactionIds:{default:()=>[]},postCommentIds:{default:()=>[]}},setup(e){const t=e,u=Object(n.b)((()=>o.e(555).then(o.bind(null,3153)))),p=Object(l.a)(),m=Object(c.b)(),v=Object(i.a)(),b=Object(s.a)(),h=Object(r.useSurfaceStore)(),f=Object(d.a)(),g=Object(a.computed)((()=>"postExpandedView"===t.usageContext)),x=Object(a.computed)((()=>g.value?p.isDarkMode?"dark":"light":h.colorScheme)),P=Object(a.ref)(),y=Object(a.computed)((()=>{var e,o;if(h.isScreenshotMode&&!h.xReactionsInScreenshotMode)return!1;const a=null!==(o=null===(e=b.accumulatedReactionsByWishId[t.post.id])||void 0===e?void 0:e.totalReactionsCount)&&void 0!==o?o:0;return(f.isReactable||t.postReactionIds.length>0||a>0)&&!!b.originalReactionData})),S=Object(a.computed)((()=>b.postIdBeingReactedTo===t.post.id)),_=Object(a.computed)((()=>!(h.isScreenshotMode&&!h.xCommentsInScreenshotMode)&&(!0===t.post.published&&(f.isCommentable||t.postCommentIds.length>0))));return{__sfc:!0,props:t,SurfacePostReaction:u,darkModeStore:p,windowSizeStore:m,expandedPostStore:v,reactionsStore:b,surfaceStore:h,surfaceSettingsStore:f,isUsedInPostExpandedView:g,colorScheme:x,socialContentTopBar:P,xReactions:y,isBeingReacted:S,editReaction:()=>{var e;if(m.isPhone)return void b.startEditingReaction({postId:t.post.id});if(!P.value)return;if(null===(e=P.value.closest(".surface-post"))||void 0===e?void 0:e.classList.contains("noclick"))return;const{left:o,top:a,width:n}=P.value.getBoundingClientRect();b.startEditingReaction({postId:t.post.id,dropdownLeft:o,dropdownTop:a,dropdownWidth:n})},xComments:_,showComments:()=>{g.value||v.expandPost({postCid:t.post.cid,xTextPanel:!0,shouldFocusInput:!m.isPhone})},SurfacePostCommentsIcon:O}}}),y=Object(x.a)(P,(function(){var e=this,t=e._self._c,o=e._self._setupProxy;return t("div",{ref:"socialContentTopBar",class:["flex flex-row justify-between",!o.isUsedInPostExpandedView&&"flex-1"],attrs:{"data-testid":"socialContentTopBar"}},[o.xReactions?t(o.SurfacePostReaction,{attrs:{post:e.post,"is-reacting":o.isBeingReacted,"current-user-id":o.surfaceStore.user.id,"color-scheme":o.colorScheme,"reaction-data":o.reactionsStore.originalReactionData,"usage-context":e.usageContext,"data-pepin-id":o.isUsedInPostExpandedView&&"expanded-view-react","data-pepin-trigger":o.isUsedInPostExpandedView&&"click"},on:{edit:o.editReaction}}):t("div"),e._v(" "),o.xComments?t(o.SurfacePostCommentsIcon,{attrs:{"comment-ids":e.postCommentIds,"color-scheme":o.colorScheme,"is-button":!(o.surfaceStore.xCommentsUnderPosts||o.isUsedInPostExpandedView),"usage-context":e.usageContext,"data-pepin-id":!o.isUsedInPostExpandedView&&"post-comment-expand-post","data-pepin-trigger":!o.isUsedInPostExpandedView&&"click"},on:{"show-comments-panel":o.showComments}}):e._e()],1)}),[],!1,null,null,null);t.default=y.exports},2320:function(e,t,o){var a=o(2630);a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);(0,o(133).default)("2d8a0590",a,!0,{})},2629:function(e,t,o){"use strict";o(2320)},2630:function(e,t,o){t=e.exports=o(132)(!1);var a=o(528),n=a(o(529)),l=a(o(530));t.push([e.i,":root{--dot-grid-url: url("+n+")}.dot-grid{background-image:var(--dot-grid-url);background-color:#ddd;background-size:48px;background-position:top left}.dot-grid-loading{background-image:var(--dot-grid-url),linear-gradient(0deg, #FF4081, #FEC006);background-size:48px, 400% 400%;animation:dot-gradient 4s linear infinite}@keyframes dot-gradient{0%{background-position:top left, 0% 200%}100%{background-position:top left, 0% -200%}}@media (prefers-color-scheme: dark){:root{--dot-grid-url: url("+l+")}.dot-grid{background-color:#3d3d3d}.dot-grid-loading{background-image:var(--dot-grid-url),linear-gradient(0deg, #FF4081, #9466E8)}}.dot-grid-filter{-webkit-backdrop-filter:brightness(0.985);backdrop-filter:brightness(0.985)}@media (prefers-color-scheme: dark){.dot-grid-filter{-webkit-backdrop-filter:brightness(1.6);backdrop-filter:brightness(1.6)}}html.mobile.expanded-post{position:fixed;overflow:hidden}html.mobile.expanded-post body{position:fixed;overflow:hidden}html.mobile.expanded-post body #wall-container{visibility:hidden;opacity:0}\n",""])},2971:function(e,t,o){"use strict";o.r(t);var a,n=o(0),l=o(114),i=o(451),r=o(16),s=o(2),d=o(96),c=o(137),u=o(73),p=o(169),m=o(215),v=o(116),b=o(140),h=o(25),f=o(301),g=o(637),x=o(279),O=o(34),P=o(483),y=o(22),S=o(15),_=o(179),k=o(1),w=o(8),j=o(86),C=o(267),A=o(100),M=o(192),T=o(38),D=o(43),I=o(581),z=o(67),E=o(165),B=o(42),L=o(88),R=o(1859),V=o(46),F=o(9);!function(e){e.ClosePoll="ClosePoll",e.OpenPoll="OpenPoll",e.ExportPollResultsCSV="ExportPollResultsCSV",e.OpenPostInNewTab="OpenPostInNewTab",e.OpenPostInBrowserFromZoom="OpenPostInBrowserFromZoom",e.OpenAttachment="OpenAttachment",e.DownloadAttachment="DownloadAttachment",e.CopyAttachmentLink="CopyAttachmentLink",e.StartSlideshowFromThisPost="StartSlideshowFromThisPost",e.CopyPostLink="CopyPostLink",e.EditPost="EditPost",e.TransferPost="TransferPost",e.DuplicatePost="DuplicatePost",e.CopyPost="CopyPost",e.UnsetAsCover="UnsetAsCover",e.SetAsCover="SetAsCover",e.DeletePost="DeletePost",e.ReportPost="ReportPost"}(a||(a={}));var H=Object(n.defineComponent)({__name:"SurfacePanelPostExpandedActionMenu",props:{postCid:null,popoverAnchor:null,attachmentIsDownloadable:{type:Boolean},attachmentUrl:null,downloadUrl:null},emits:["close","trigger-anchor-update"],setup(e,{emit:t}){const o=e,{namespace:l,isSectionBreakout:s,links:u,publicKey:p,isWhiteboard:m,wallAttributes:f}=Object(F.g)(Object(h.useSurfaceStore)()),{isPhone:g,isSmallerThanTabletPortrait:x,windowHeight:P}=Object(F.g)(Object(O.b)()),{isDarkMode:H}=Object(F.g)(Object(v.a)()),N=Object(B.a)(),{postEntitiesByCid:$}=Object(F.g)(N),{startEditingPost:U,deletePost:W}=N,{sectionBreakoutIdentifier:G}=Object(F.g)(Object(L.b)()),Y=Object(E.a)(),{canEditPostUnderAction:Z,canTransferPostUnderAction:q,canCopyPostUnderAction:X,canChangeCoverToExpandedPost:J}=Object(F.g)(Y),{reopenPoll:K,closePoll:Q,unsetCoverPost:ee,setCoverPost:te,showReportPanel:oe,copyPostLinkAndAlert:ae,copyAttachmentLinkAndAlert:ne,startPostTransfer:le,startPostCopy:ie,confirmDeletePost:re}=Y,se=Object(b.a)(),{isExpandedPostPreviewPost:de}=Object(F.g)(se),{unexpandPost:ce}=se,{copySectionBreakoutPostLinkAndAlert:ue}=Object(L.b)(),{canIAccessContentDirectly:pe}=Object(F.g)(Object(z.a)()),me=Object(n.computed)((()=>$.value[o.postCid])),ve=Object(n.computed)((()=>{const e=[],t=[],n=[],l=[],i=[],u=[];if(Object(c.d)(me.value)&&Z.value){const t=Object(c.e)(Object(c.c)(me.value));e.push({icon:t?"poll_open":"poll_close",text:t?Object(k.b)("Open poll"):Object(k.b)("Close poll"),eventPayload:t?a.OpenPoll:a.ClosePoll}),e.push({icon:"download_outline",text:Object(k.b)("Export poll results as CSV"),eventPayload:a.ExportPollResultsCSV})}return r.a.zoomApp?t.push({icon:"post_open",text:Object(k.b)("Open post in browser"),eventPayload:a.OpenPostInBrowserFromZoom}):t.push({icon:"post_open",text:Object(k.b)("Open post in new tab"),eventPayload:a.OpenPostInNewTab}),t.push({icon:"post_copy_link",text:Object(k.b)("Copy link to post"),eventPayload:a.CopyPostLink}),Object(d.b)(me.value)&&t.push({icon:"play_outline",text:Object(k.b)("Start slideshow from this post"),isDisabled:s.value,rowStyle:s.value?D.c.Disabled:D.c.Default,eventPayload:a.StartSlideshowFromThisPost,analyticsId:"expanded-post-action-menu-start-slideshow-from-this-post"}),o.attachmentIsDownloadable&&o.downloadUrl?(n.push({icon:"attachment_download",text:Object(k.b)("Download attachment"),eventPayload:a.DownloadAttachment,hoverText:pe.value?void 0:Object(k.b)("Disabled due to content protection settings"),rowStyle:pe.value?D.c.Default:D.c.Disabled,isDisabled:!pe.value}),n.push({icon:"attachment_copy_link",text:Object(k.b)("Copy direct link to attachment"),eventPayload:a.CopyAttachmentLink,hoverText:pe.value?void 0:Object(k.b)("Disabled due to content protection settings"),rowStyle:pe.value?D.c.Default:D.c.Disabled,isDisabled:!pe.value})):o.attachmentUrl&&(n.push({icon:"attachment_open",text:Object(k.b)("Open attachment in new tab"),eventPayload:a.OpenAttachment}),n.push({icon:"attachment_copy_link",text:Object(k.b)("Copy attachment link"),eventPayload:a.CopyAttachmentLink})),Z.value&&l.push({icon:"pencil_outline",text:Object(k.b)("Edit post"),eventPayload:a.EditPost}),Object(d.c)(me.value)||(X.value&&(Object(S.a)("padletPickerV2")?i.push({icon:"plus_square",text:Object(k.b)("Duplicate post"),eventPayload:a.DuplicatePost,hoverText:pe.value?void 0:Object(k.b)("Disabled due to content protection settings"),rowStyle:pe.value?D.c.Default:D.c.Disabled,isDisabled:!pe.value},{icon:"post_duplicate",text:Object(k.b)("Copy to another padlet"),eventPayload:a.CopyPost,hoverText:pe.value?void 0:Object(k.b)("Disabled due to content protection settings"),rowStyle:pe.value?D.c.Default:D.c.Disabled,isDisabled:!pe.value}):i.push({icon:"post_duplicate",text:Object(k.b)("Duplicate post"),eventPayload:a.CopyPost,testId:"surfacePostActionMenuDuplicatePost",hoverText:pe.value?void 0:Object(k.b)("Disabled due to content protection settings"),rowStyle:pe.value?D.c.Default:D.c.Disabled,isDisabled:!pe.value})),q.value&&i.push({icon:"post_transfer",text:Object(S.a)("padletPickerV2")?Object(k.b)("Transfer to another padlet"):Object(k.b)("Transfer post"),eventPayload:a.TransferPost,hoverText:pe.value?void 0:Object(k.b)("Disabled due to content protection settings"),rowStyle:pe.value?D.c.Default:D.c.Disabled,isDisabled:!pe.value})),J.value&&de.value&&i.push({icon:"padlet_cover",text:Object(k.b)("Unset as padlet cover"),eventPayload:a.UnsetAsCover}),J.value&&!de.value&&i.push({icon:"padlet_cover",text:Object(k.b)("Set as padlet cover"),eventPayload:a.SetAsCover}),Object(S.a)("reportButton")&&!Object(d.c)(me.value)&&u.push({icon:"flag_outline",text:m.value?Object(k.b)("Report attachment"):Object(k.b)("Report post"),eventPayload:a.ReportPost}),de.value&&!m.value&&u.push({icon:"delete",text:Object(k.b)("Delete post"),rowStyle:D.c.Danger,eventPayload:a.DeletePost}),m.value?[n,e,u].filter((e=>e.length>0)):[t,n,l,i,e,u].filter((e=>e.length>0))})),be=Object(n.computed)((()=>({[a.ClosePoll]:Ie,[a.OpenPoll]:De,[a.ExportPollResultsCSV]:ze,[a.OpenPostInNewTab]:fe,[a.OpenPostInBrowserFromZoom]:ge,[a.OpenAttachment]:Oe,[a.DownloadAttachment]:Pe,[a.CopyAttachmentLink]:Se,[a.CopyPostLink]:ye,[a.EditPost]:_e,[a.TransferPost]:ke,[a.CopyPost]:we,[a.DuplicatePost]:je,[a.UnsetAsCover]:Ce,[a.SetAsCover]:Ae,[a.DeletePost]:Me,[a.ReportPost]:Te,[a.StartSlideshowFromThisPost]:xe})));function he(){t("close")}function fe(){if(he(),s.value){if(me.value.id&&G.value){const e=Object(A.e)(l.value,G.value,me.value.id);Object(w.y)(e,{target:"_blank"})}}else me.value.permalink&&Object(w.y)(me.value.permalink,{target:"_blank"})}async function ge(){he(),me.value.permalink&&(await Object(M.e)(),Object(M.g)(me.value.permalink))}function xe(){he();const e=r.a.zoomApp?"_self":"_blank";u.value.show&&Object(w.y)(Object(C.l)(u.value.show,me.value.id),{target:e})}function Oe(){he(),o.attachmentUrl&&Object(w.y)(o.attachmentUrl,{target:"_blank"})}function Pe(){Object(y.a)("Surface","Downloaded attachment"),he(),o.downloadUrl&&Object(w.y)(o.downloadUrl,{target:"_blank"})}function ye(){s.value?me.value.hashid&&ue(Object(_.c)(me.value.hashid)):ae({postCid:me.value.cid}),he()}function Se(){ne({postCid:me.value.cid}),he()}function _e(){he(),ce(),U({postCid:me.value.cid})}function ke(){he(),ce(),le({transferPostCid:me.value.cid})}function we(){he(),ce(),ie({copyPostCid:me.value.cid})}function je(){he(),ce(),Object(E.a)().postBeingCopiedCid=me.value.cid,Object(R.a)().duplicatePost(f.value,me.value.wall_section_hashid)}function Ce(){me.value.id&&(ee({postId:me.value.id}),he())}function Ae(){me.value.id&&(te({postId:me.value.id}),he())}function Me(){he(),Object(V.j)(me.value)||Object(j.t)(me.value)?(ce(),W(me.value.cid)):re({postCid:me.value.cid})}function Te(){he(),me.value.id&&oe({postId:me.value.id})}async function De(){await K({post:me.value}),he()}async function Ie(){await Q({post:me.value}),he()}async function ze(){await Object(c.b)(p.value,me.value)}return{__sfc:!0,PostActionType:a,props:o,emit:t,namespace:l,isSectionBreakout:s,links:u,publicKey:p,isWhiteboard:m,wallAttributes:f,isPhone:g,isSmallerThanTabletPortrait:x,windowHeight:P,isDarkMode:H,surfacePostsStore:N,postEntitiesByCid:$,startEditingPost:U,deletePost:W,sectionBreakoutIdentifier:G,surfacePostActionStore:Y,canEditPostUnderAction:Z,canTransferPostUnderAction:q,canCopyPostUnderAction:X,canChangeCoverToExpandedPost:J,reopenPoll:K,closePoll:Q,unsetCoverPost:ee,setCoverPost:te,showReportPanel:oe,copyPostLinkAndAlert:ae,copyAttachmentLinkAndAlert:ne,startPostTransfer:le,startPostCopy:ie,confirmDeletePost:re,expandedPostStore:se,isExpandedPostPreviewPost:de,unexpandPost:ce,copySectionBreakoutPostLinkAndAlert:ue,canIAccessContentDirectly:pe,post:me,actionListGroups:ve,actionHandlers:be,close:he,onSwipedown:function({isAtTopBeforeDragging:e}){e||t("close")},openPostInNewTab:fe,openPostInBrowserFromZoom:ge,startSlideshowFromThisPost:xe,openAttachment:Oe,downloadAttachment:Pe,copyLink:ye,copyAttachmentLink:Se,edit:_e,transfer:ke,copy:we,duplicate:je,unsetAsCover:Ce,setAsCover:Ae,askToDelete:Me,reportPost:Te,handlePollReopen:De,handlePollClose:Ie,handleExportPollResultsAsCSV:ze,handleSelectedAction:function(e,t){return be.value[t]()},dir:i.a,OzBoxColors:T.a,OzMenuRows:D.e,OzMenuRowsFocusStyle:D.a,OzMenuRowsSizePreset:D.d,OzScreenSizeAwarePopoverModal:I.a}}}),N=o(13),$=Object(N.a)(H,(function(){var e=this,t=e._self._c,o=e._self._setupProxy;return t(o.OzScreenSizeAwarePopoverModal,{class:["select-none",o.isDarkMode&&"dark-mode"],attrs:{"is-draggable-drawer":!0,dir:o.dir(),"is-phone":o.isPhone,"window-height":o.windowHeight,"popover-width":270,"popover-anchor":e.popoverAnchor,"box-classes":{"shadow-elevation-3":!0},"x-popover-tip":!1,color:o.OzBoxColors.PrimaryBlur},on:{"trigger-anchor-update":function(t){return e.$emit("trigger-anchor-update")},swipedown:o.onSwipedown,"scrim-click":o.close,"scrim-esc":o.close},scopedSlots:e._u([{key:"body",fn:function(){return[t("div",{class:["p-4 tablet-portrait:p-0","grid grid-flow-row grid-cols-1","gap-3 tablet-portrait:gap-2","overflow-hidden","tablet-portrait:rounded-2.5xl","tablet-portrait:bg-overlay-text-bg-light-mode-light-hover tablet-portrait:dark:bg-overlay-text-bg-light-mode-dark-hover"]},e._l(o.actionListGroups,(function(e,a){return t("div",{key:a,class:["rounded-2.5xl tablet-portrait:rounded-none","bg-grey-50 dark:bg-grey-800 tablet-portrait:bg-common-ui-l86 tablet-portrait:dark:bg-common-ui-d86"]},[t(o.OzMenuRows,{class:{"tablet-portrait:pt-1":0===a,"tablet-portrait:pb-1":a===o.actionListGroups.length-1},attrs:{"size-preset":o.isSmallerThanTabletPortrait?o.OzMenuRowsSizePreset.H48px:o.OzMenuRowsSizePreset.H44px,"focus-style":o.isSmallerThanTabletPortrait?o.OzMenuRowsFocusStyle.HighlightText:o.OzMenuRowsFocusStyle.Bubble200,rows:e},on:{"select-row":o.handleSelectedAction}})],1)})),0)]},proxy:!0}])})}),[],!1,null,null,null).exports,U=o(2035),W=o(23),G=o(56),Y=Object(n.defineComponent)({__name:"SurfacePanelPostExpandedApprovalBanner",setup(e){const t=Object(h.useSurfaceStore)(),{isFrozen:o}=Object(F.g)(t),a=Object(z.a)(),{canIModerate:l}=Object(F.g)(a),i=Object(E.a)(),{approvePost:r,confirmModerationRejectPost:s}=i,d=Object(b.a)(),{expandedPost:c}=Object(F.g)(d),u=Object(n.computed)((()=>!!c.value.moderation_violations&&c.value.moderation_violations.length>0)),p=Object(n.computed)((()=>Object(U.a)({moderationViolations:c.value.moderation_violations,useLongText:!0})));return{__sfc:!0,surfaceStore:t,isFrozen:o,surfacePermissionsStore:a,canIModerate:l,surfacePostActionStore:i,approvePost:r,confirmModerationRejectPost:s,expandedPostStore:d,expandedPost:c,xContentModerationWarning:u,warningText:p,OzContainedButton:W.d,OzContainedButtonColorScheme:W.a,OzContainedButtonSizePreset:W.c,OzIcon:G.default}}}),Z=Object(N.a)(Y,(function(){var e=this,t=e._self._c,o=e._self._setupProxy;return o.canIModerate?t("div",{class:["absolute top-4","flex flex-col","w-[352px]","rounded-lg",o.xContentModerationWarning?"bg-canary-500":"bg-light-ui-100 dark:bg-dark-ui-100","shadow-elevation-3"]},[o.xContentModerationWarning?t("div",{class:["flex","space-s-2","ms-3.5","me-2","mt-2"]},[t(o.OzIcon,{class:["text-danger-100"],attrs:{name:"warning_filled",size:18}}),e._v(" "),t("div",{class:["text-dark-text-100","text-body-small"]},[e._v("\n      "+e._s(o.warningText)+"\n    ")])],1):e._e(),e._v(" "),t("div",{staticClass:"flex items-center justify-between w-full h-10"},[t("p",{class:["ms-3.5","text-body-extra-small","text-dark-text-100",!o.xContentModerationWarning&&"dark:text-light-text-100"]},[e._v("\n      "+e._s(e.__("This post requires approval"))+"\n    ")]),e._v(" "),t("div",{staticClass:"me-2 flex"},[t(o.OzContainedButton,{staticClass:"me-2",attrs:{"size-preset":o.OzContainedButtonSizePreset.H24px,"color-scheme":o.OzContainedButtonColorScheme.SecondaryClear,"dark-mode":!o.xContentModerationWarning&&"auto",text:e.__("Reject"),disabled:o.isFrozen},on:{click:function(e){return o.confirmModerationRejectPost({postCid:o.expandedPost.cid})}}}),e._v(" "),t(o.OzContainedButton,{attrs:{"size-preset":o.OzContainedButtonSizePreset.H24px,"color-scheme":o.OzContainedButtonColorScheme.Primary,"dark-mode":!o.xContentModerationWarning&&"auto",text:e.__("Approve"),disabled:o.isFrozen},on:{click:function(e){return o.approvePost({postCid:o.expandedPost.cid})}}})],1)])]):t("p",{class:["absolute top-4","flex items-center justify-center","px-3.5","h-10","rounded-lg","bg-light-ui-200 dark:bg-dark-ui-200","shadow-elevation-2","text-body-extra-small italic","text-dark-text-200 dark:text-light-text-200"]},[e._v("\n  "+e._s(e.__("Awaiting approval"))+"\n")])}),[],!1,null,null,null).exports,q=o(988),X=o(109),J=Object(n.defineComponent)({__name:"SurfacePanelPostExpandedAttachmentWithPreloader",props:{post:null,darkMode:{type:[Boolean,String]},displayAttributes:null,safeArea:{default:void 0}},setup(e){const t=Object(n.ref)(),{expandedPostPreviousPostCid:o,expandedPostNextPostCid:a}=Object(F.g)(Object(b.a)()),{getLinkDisplayAttributesForPost:i,fetchDisplayAttributesForPost:r}=Object(f.a)();function s(e){Object(n.nextTick)().then((async()=>{await r(e);const t=i(e);"photo"===(null===t||void 0===t?void 0:t.content_category)&&d(t)}))}function d(e){var o,a;if(void 0===t.value)return;const n={width:null===(o=t.value.$refs.wrapper)||void 0===o?void 0:o.offsetWidth,height:null===(a=t.value.$refs.wrapper)||void 0===a?void 0:a.offsetHeight},i=e.original_image_url||e.url,r=e.original_image_width,s=e.original_image_height,d={width:r,height:s,aspectRatio:r/s},{width:c,height:u}=Object(l.f)(d,n),p=Object(X.a)(i,{width:c,height:u});(new Image).src=p}return Object(n.watch)(o,(e=>{null!=e&&s(e)}),{immediate:!0}),Object(n.watch)(a,(e=>{null!=e&&s(e)}),{immediate:!0}),{__sfc:!0,attachment:t,expandedPostPreviousPostCid:o,expandedPostNextPostCid:a,getLinkDisplayAttributesForPost:i,fetchDisplayAttributesForPost:r,preloadAttachmentForPost:s,preloadImage:d,SurfacePanelPostExpandedAttachment:q.a}}}),K=Object(N.a)(J,(function(){var e=this;return(0,e._self._c)(e._self._setupProxy.SurfacePanelPostExpandedAttachment,{ref:"attachment",attrs:{"dark-mode":e.darkMode,"display-attributes":e.displayAttributes,"safe-area":e.safeArea,post:e.post}})}),[],!1,null,null,null).exports,Q=o(154),ee=o(54),te=o(348),oe=o(126),ae=o(467),ne=o(107),le=o(95),ie=o(48),re=o(80),se=o(84),de=o(222),ce=o(14),ue=o(85),pe=o(2513),me=o(2489),ve=o(377),be=Object(n.defineComponent)({__name:"SurfacePanelPostExpandedTextPanelComments",props:{shouldCommentInputStickToScreen:{type:Boolean,default:!1}},setup(e){const t=e,a=Object(ce.b)((()=>Promise.all([o.e(19),o.e(23),o.e(11),o.e(34),o.e(353)]).then(o.bind(null,3152)))),l=Object(z.a)(),{canIComment:i,canIModerate:r}=Object(F.g)(l),s=Object(re.a)(),{isCommentable:d}=Object(F.g)(s),c=Object(h.useSurfaceStore)(),{isSectionBreakout:u,user:p}=Object(F.g)(c),m=Object(O.b)(),{isPhone:f}=Object(F.g)(m),g=Object(v.a)(),{isDarkMode:x}=Object(F.g)(g),P=Object(ue.b)(),{commentIdsByPost:y,commentEntities:S}=Object(F.g)(P),{isCommentBeingEdited:_,showCommentActionMenu:k,stopEditingComment:w,editCommentV2:j}=P,C=Object(b.a)(),{expandedPost:A,shouldFocusExpandedPostAddCommentInput:M}=Object(F.g)(C),T=Object(n.computed)((()=>{var e;return null===(e=A.value)||void 0===e?void 0:e.color})),D=Object(n.computed)((()=>f.value&&t.shouldCommentInputStickToScreen)),I=Object(n.computed)((()=>{var e;if(null==(null===(e=A.value)||void 0===e?void 0:e.id))return[];return(y.value[A.value.id]||[]).map((e=>S.value[e])).filter((e=>{if(!e.is_awaiting_approval)return!0;return p.value.id===e.user_id||r.value}))})),E=Object(n.computed)((()=>{var e;return null===(e=I.value[I.value.length-1])||void 0===e?void 0:e.id}));const B=Object(n.ref)(),{width:L}=Object(ve.useElementSize)(B),R=Object(n.ref)(0),V=Object(n.ref)();return Object(n.watch)((function(){return null==!V.value?0:Object(ve.useElementSize)(V,void 0,{box:"border-box"}).height.value}),(e=>{R.value=e})),Object(n.onMounted)((()=>{var e;M.value&&(null===(e=V.value)||void 0===e||e.focusAddCommentInput())})),{__sfc:!0,SurfacePanelPostExpandedTextPanelAddComment:a,props:t,surfacePermissionsStore:l,canIComment:i,canIModerate:r,surfaceSettingsStore:s,isCommentable:d,surfaceStore:c,isSectionBreakout:u,user:p,windowSizeStore:m,isPhone:f,darkModeStore:g,isDarkMode:x,commentsStore:P,commentIdsByPost:y,commentEntities:S,isCommentBeingEdited:_,showCommentActionMenu:k,stopEditingComment:w,editCommentV2:j,expandedPostStore:C,expandedPost:A,shouldFocusExpandedPostAddCommentInput:M,expandedPostColor:T,shouldCommentInputStick:D,commentList:I,newestCommentId:E,isLastComment:e=>e===I.value.length-1,saveEditComment:function({id:e,body:t,attachment:o}){j({id:e,htmlBody:t,attachment:o})},rootEl:B,rootElWidth:L,addCommentBoxHeight:R,addCommentBox:V,OzDivider:oe.default,OzDividerColorScheme:oe.OzDividerColorScheme,SurfaceCommentAttachmentDropZoneOverlay:pe.a,SurfacePostComment:me.a}}}),he=Object(N.a)(be,(function(){var e=this,t=e._self._c,o=e._self._setupProxy;return t("div",{ref:"rootEl",staticClass:"relative bg-transparent"},[t("div",{style:o.shouldCommentInputStick?{marginBottom:`${o.addCommentBoxHeight+16}px`}:void 0},e._l(o.commentList,(function(a,n){return t("div",{key:a.id,class:{"mt-4":!0,"mt-5":!o.isPhone&&o.isCommentBeingEdited(a.id),"ps-3":!o.isPhone&&!o.isCommentBeingEdited(a.id)}},[t(o.SurfacePostComment,{class:["relative","me-1.75",o.isLastComment(n)&&"mb-4"],attrs:{id:a.id,comment:a,"post-color":o.expandedPostColor,"displayed-post-width":o.rootElWidth,"is-being-edited":o.isCommentBeingEdited(a.id),"usage-context":"postExpandedView"},on:{"show-comment-action-menu":function(e){return o.showCommentActionMenu({commentId:a.id})},"stop-editing":function(e){return o.stopEditingComment(a.id)},edit:function(e){return o.saveEditComment(e)}}}),e._v(" "),o.isLastComment(n)?e._e():t(o.OzDivider,{staticClass:"ms-8 mt-4",attrs:{"color-scheme":o.OzDividerColorScheme.Solid}})],1)})),0),e._v(" "),o.isCommentable&&o.canIComment?t(o.SurfacePanelPostExpandedTextPanelAddComment,{ref:"addCommentBox",attrs:{post:o.expandedPost,"newest-comment-id":o.newestCommentId,"displayed-post-width":o.rootElWidth,"is-dark-mode":o.isDarkMode,"should-comment-input-stick":o.shouldCommentInputStick,"can-mention":!o.isSectionBreakout,user:o.user}}):e._e(),e._v(" "),o.expandedPost?t(o.SurfaceCommentAttachmentDropZoneOverlay,{class:["absolute","top-0","inset-x-0","bottom-4","z-10"],attrs:{"post-cid":o.expandedPost.cid,"dark-mode":o.isDarkMode,"border-radius":16,"text-inline-padding":36}}):e._e()],1)}),[],!1,null,null,null).exports,fe=o(912),ge=o(1806),xe=o(2187),Oe=Object(n.defineComponent)({__name:"SurfacePanelPostExpandedTextPanel",props:{attachmentCaption:{default:""},reactionIdsByPostId:{default:()=>({})},commentIdsByPostId:{default:()=>({})}},setup(e){const t=e,o=Object(h.useSurfaceStore)(),a=Object(v.a)(),l=Object(O.b)(),i=Object(ne.e)(),r=Object(re.a)(),s=Object(le.a)(),d=Object(b.a)(),c=Object(ie.a)(),u=Object(de.a)(),p=Object(se.a)(),{expandedPost:m,expandedPostId:f}=Object(F.g)(d),{isMap:g,xAuthor:x,title:P,colorScheme:y}=Object(F.g)(o),{isDarkMode:_}=Object(F.g)(a),{isSmallerThanDesktop:k}=Object(F.g)(l),{isReactable:w,isCommentable:j}=Object(F.g)(r),{wallCustomPostProperties:C,isLocationEnabled:A}=Object(F.g)(i),M=Object(n.computed)((()=>!!m.value&&i.shouldShowPostProperties(m.value))),T=Object(n.computed)((()=>{var e;return u.isSectionable&&(null===(e=m.value)||void 0===e?void 0:e.wall_section_id)?c.getSectionById(m.value.wall_section_id):null})),D=Object(n.computed)((()=>{var e;return(null===(e=m.value)||void 0===e?void 0:e.author_id)&&p.getUserById(m.value.author_hashid||m.value.author_id)||Object(ee.d)()})),I=Object(n.computed)((()=>Object(ee.g)(D.value))),z=Object(n.computed)((()=>{const e=Object(S.a)("showAnonymousUserNames")&&""!==D.value.name?D.value.name:ee.c;return I.value?D.value.name||D.value.username:e})),E=Object(n.computed)((()=>{var e;return null===(e=m.value)||void 0===e?void 0:e.body})),B=Object(n.computed)((()=>{var e,o;return x.value||!!(null===(e=m.value)||void 0===e?void 0:e.subject)||!!E.value||!!(null===(o=m.value)||void 0===o?void 0:o.location_name)||!!T.value||!!t.attachmentCaption})),L=Object(n.computed)((()=>{var e;return f.value&&(null===(e=t.commentIdsByPostId[f.value])||void 0===e?void 0:e.length)||0})),R=Object(n.computed)((()=>m.value?Object(Q.a)(m.value):"")),V=Object(n.computed)((()=>{var e;return(w.value||!!f.value&&(null===(e=t.reactionIdsByPostId[f.value])||void 0===e?void 0:e.length)>0)&&!!s.originalReactionData})),H=Object(n.computed)((()=>{var e;return!0===(null===(e=m.value)||void 0===e?void 0:e.published)&&(j.value||L.value>0)}));return{__sfc:!0,props:t,surfaceStore:o,darkModeStore:a,windowSizeStore:l,surfacePostPropertiesStore:i,surfaceSettingsStore:r,reactionsStore:s,expandedPostStore:d,surfaceSectionsStore:c,surfaceWishArrangementStore:u,surfaceUserContributorStore:p,expandedPost:m,expandedPostId:f,isMap:g,xAuthor:x,title:P,colorScheme:y,isDarkMode:_,isSmallerThanDesktop:k,isReactable:w,isCommentable:j,wallCustomPostProperties:C,isLocationEnabled:A,xPostProperties:M,section:T,author:D,isAuthorRegistered:I,authorName:z,postBody:E,xDivider:B,commentCount:L,publishedAt:R,xReactions:V,xComments:H,OzAvatar:te.a,OzDivider:oe.default,OzDividerColorScheme:oe.OzDividerColorScheme,OzIcon:G.default,OzRelativeTime:ae.a,SurfacePanelPostExpandedTextPanelComments:he,SurfacePostBody:fe.a,SurfacePostProperties:ge.default,SurfacePostSocialContentTopBar:xe.default}}}),Pe=Object(N.a)(Oe,(function(){var e=this,t=e._self._c,o=e._self._setupProxy;return t("div",{class:["flex flex-col","overflow-y-auto scrollbar-regular dark:scrollbar-regular-dark","px-3","bg-light-ui-100 dark:bg-dark-ui-100"],attrs:{"aria-live":"polite"}},[t("div",{staticClass:"px-3"},[o.isSmallerThanDesktop?e._e():t("div",{staticClass:"flex flex-col justify-center mb-2.5 min-h-10"},[t("p",{class:["text-body-extra-small","truncate","whitespace-break-spaces","text-dark-text-200 dark:text-light-text-200"],domProps:{textContent:e._s(o.title)}}),e._v(" "),o.section?t("p",{class:["text-body-small","truncate","whitespace-break-spaces","text-dark-text-100 dark:text-light-text-100"],domProps:{textContent:e._s(o.section.title)}}):e._e()]),e._v(" "),o.xAuthor?t("div",{staticClass:"flex items-center mb-2.5"},[t(o.isAuthorRegistered?"a":"span",{tag:"component",class:["flex items-center",o.isAuthorRegistered&&"group"],attrs:{href:o.author.profile_url,target:"_blank"}},[t(o.OzAvatar,{staticClass:"me-3 rounded-full",attrs:{src:o.author.avatar,width:20,height:20,"alt-text-name":o.authorName}}),e._v(" "),t("span",{staticClass:"text-body-small text-dark-text-100 dark:text-light-text-100 hover-hover:group-hover:underline"},[t("strong",[e._v(e._s(o.authorName))])])],1),e._v(" "),t(o.OzRelativeTime,{staticClass:"ms-1 text-body-small text-dark-text-200 dark:text-light-text-200",attrs:{datetime:o.publishedAt}})],1):e._e(),e._v(" "),o.expandedPost&&o.expandedPost.subject?t("h3",{class:["mb-2.5","text-heading-3","font-semibold","break-words","whitespace-break-spaces","text-dark-text-100 dark:text-light-text-100","select-text"],attrs:{"data-testid":"surfacePostExpandedViewPostSubject"},domProps:{textContent:e._s(o.expandedPost.subject)}}):e._e(),e._v(" "),o.postBody?t(o.SurfacePostBody,{staticClass:"text-body",attrs:{content:o.postBody,"is-text-selectable":!0}}):e._e(),e._v(" "),o.xPostProperties?t(o.SurfacePostProperties,{staticClass:"py-1",attrs:{source:"expanded_view","dark-mode":o.isDarkMode,"location-name":o.expandedPost&&(o.isMap||o.isLocationEnabled)?o.expandedPost.location_name:void 0,"wall-custom-post-properties":o.wallCustomPostProperties,"custom-property-values":o.expandedPost?o.expandedPost.custom_properties:void 0,"link-button-size":32,"post-color":o.expandedPost&&o.expandedPost.color||null,"color-scheme":o.colorScheme,"property-label-class":"text-body-small","property-value-class":"text-body"}}):e._e(),e._v(" "),e.attachmentCaption&&!o.isSmallerThanDesktop?t("div",{staticClass:"flex items-start mt-4.5"},[t(o.OzIcon,{staticClass:"text-dark-text-300 dark:text-light-text-300",attrs:{name:"attachment_caption",size:16}}),e._v(" "),t("p",{class:["ms-2.5","text-body-extra-small","break-words","whitespace-break-spaces","min-w-0","text-dark-text-200 dark:text-light-text-200"],domProps:{textContent:e._s(e.attachmentCaption)}})],1):e._e(),e._v(" "),o.isSmallerThanDesktop&&o.section?t("div",{staticClass:"flex items-start mt-4.5"},[t(o.OzIcon,{staticClass:"text-dark-text-300 dark:text-light-text-300",attrs:{name:"section",size:16}}),e._v(" "),t("p",{class:["ms-2.5","text-body-extra-small","whitespace-break-spaces","text-dark-text-200 dark:text-light-text-200"],domProps:{textContent:e._s(o.section.title)}})],1):e._e()],1),e._v(" "),o.xDivider?t(o.OzDivider,{staticClass:"shrink-0 mt-6",attrs:{"color-scheme":o.OzDividerColorScheme.Solid}}):e._e(),e._v(" "),o.expandedPost&&o.expandedPost.published&&(o.xComments||o.xReactions)?t(o.SurfacePostSocialContentTopBar,{class:{"mt-4":o.xDivider,"px-3":!0},attrs:{post:o.expandedPost,"usage-context":"postExpandedView","post-reaction-ids":o.expandedPostId?e.reactionIdsByPostId[o.expandedPostId]:void 0,"post-comment-ids":o.expandedPostId?e.commentIdsByPostId[o.expandedPostId]:void 0}}):e._e(),e._v(" "),o.xComments?t(o.SurfacePanelPostExpandedTextPanelComments,{staticClass:"grow mt-2 desktop:mt-3"}):e._e()],1)}),[],!1,null,null,null).exports,ye=o(617),Se=Object(n.defineComponent)({__name:"SurfacePanelPostExpandedTextPanelMobile",props:{reactionIdsByPostId:{default:()=>({})},commentIdsByPostId:{default:()=>({})}},emits:["close"],setup(e,{emit:t}){const o=e,a=Object(n.ref)(),l=Object(n.ref)(),i=Object(n.ref)(),r=Object(n.ref)(),s=Object(n.ref)(),d=Object(n.ref)(),{isSectionable:c}=Object(F.g)(Object(de.a)()),{colorScheme:u,isMap:p,xAuthor:m}=Object(F.g)(Object(h.useSurfaceStore)()),{windowHeight:f}=Object(F.g)(Object(O.b)()),{isDarkMode:g}=Object(F.g)(Object(v.a)()),x=Object(n.computed)((()=>{var e,t;return m.value||!!(null===(e=C.value)||void 0===e?void 0:e.subject)||!!I.value||!!(null===(t=C.value)||void 0===t?void 0:t.location_name)||!!A.value})),{expandedPost:P}=Object(F.g)(Object(b.a)()),{getSectionById:y}=Object(ie.a)(),{getUserById:_}=Object(se.a)(),{wallCustomPostProperties:k,isLocationEnabled:w}=Object(F.g)(Object(ne.e)()),{shouldShowPostProperties:j}=Object(ne.e)(),C=Object(n.computed)((()=>P.value)),A=Object(n.computed)((()=>c.value&&C.value&&C.value.wall_section_id?y(C.value.wall_section_id):null)),M=Object(n.computed)((()=>{var e,t,o;return((null===(e=C.value)||void 0===e?void 0:e.author_id)?_((null===(t=C.value)||void 0===t?void 0:t.author_hashid)||(null===(o=C.value)||void 0===o?void 0:o.author_id)):null)||Object(ee.d)()})),T=Object(n.computed)((()=>{const e=Object(S.a)("showAnonymousUserNames")&&""!==M.value.name?M.value.name:ee.c;return D.value?M.value.name||M.value.username:e})),D=Object(n.computed)((()=>Object(ee.g)(M.value))),I=Object(n.computed)((()=>{var e;return null===(e=C.value)||void 0===e?void 0:e.body})),z=Object(n.computed)((()=>!!C.value&&j(C.value))),{isReactable:E,isPreviewing:B}=Object(F.g)(Object(re.a)()),{currentReactionData:L,originalReactionData:R}=Object(F.g)(Object(le.a)()),V=Object(n.computed)((()=>B.value?L.value:R.value)),H=Object(n.computed)((()=>{var e;return(E.value||(null===(e=o.reactionIdsByPostId[C.value.id])||void 0===e?void 0:e.length)>0)&&!!V.value})),{isCommentable:N}=Object(F.g)(Object(re.a)()),$=Object(n.computed)((()=>{var e;return!0===(null===(e=C.value)||void 0===e?void 0:e.published)&&(N.value||U.value>0)})),U=Object(n.computed)((()=>{var e,t;return(null===(e=C.value)||void 0===e?void 0:e.id)&&(null===(t=o.commentIdsByPostId[C.value.id])||void 0===t?void 0:t.length)||0})),W=Object(n.ref)("collapsed"),Y=Object(n.ref)(0),Z=Object(n.ref)(!1),q=Object(n.ref)(0),X=Object(n.ref)(1/0),J=Object(n.ref)(1/0),K=Object(n.computed)((()=>"expanded"===W.value)),Q=Object(n.computed)((()=>Z.value&&q.value<0)),ce=Object(n.computed)((()=>{if(K.value)return"auto";if(!K.value&&!Q.value)return"0px";const e=Math.abs(q.value),t=e/2<=J.value?e/2:J.value+(e-2*J.value);return Z.value&&q.value<0?`${Math.min(Math.abs(t),X.value)}px`:"auto"})),ue=Object(n.computed)((()=>{if(K.value)return"auto";if(!K.value&&!Q.value)return"0px";const e=Math.abs(q.value),t=e/2<=X.value?e/2:X.value+(e-2*X.value);return Z.value&&q.value<0?`${Math.min(Math.abs(t),J.value)}px`:"auto"}));function pe(){var e;Y.value=28+(a.value?a.value.scrollHeight+10:0)+(l.value?l.value.scrollHeight:0)+(r.value?r.value.$el.scrollHeight+24:0)+((null===(e=s.value)||void 0===e?void 0:e.$el)?s.value.$el.scrollHeight:0)+(r.value?32:16)}function me(){Object(n.nextTick)((()=>{var e,t;X.value=(null===(e=i.value)||void 0===e?void 0:e.scrollHeight)||1/0,J.value=(null===(t=d.value)||void 0===t?void 0:t.$el.scrollHeight)||1/0}))}return Object(n.watch)(P,(()=>{Object(n.nextTick)((()=>{pe()})),me()})),Object(n.onMounted)((()=>{pe(),me()})),{__sfc:!0,props:o,emit:t,authorRef:a,postSubjectRef:l,bodyWrapperRef:i,dividerRef:r,socialContentTopBarRef:s,commentWrapperRef:d,isSectionable:c,colorScheme:u,isMap:p,xAuthor:m,windowHeight:f,isDarkMode:g,xDivider:x,expandedPost:P,getSectionById:y,getUserById:_,wallCustomPostProperties:k,isLocationEnabled:w,shouldShowPostProperties:j,post:C,section:A,author:M,authorName:T,isAuthorRegistered:D,postBody:I,xPostProperties:z,isReactable:E,isPreviewing:B,currentReactionData:L,originalReactionData:R,reactionData:V,xReactions:H,isCommentable:N,xComments:$,commentCount:U,layout:W,preferredTrayStartHeight:Y,isDragging:Z,dragDistance:q,maxBodyHeight:X,maxCommentHeight:J,xExpandedLayout:K,isDraggingUp:Q,bodyDragHeightString:ce,commentDragHeightString:ue,onDragStart:function(){Z.value=!0},onDragging:function(e){q.value=e},onDragEnd:function(e){Z.value=!1,q.value=0,W.value=e<0?"expanded":"collapsed"},onSwipedown:function({isAtTopBeforeDragging:e}){e||t("close")},calculateTrayHeight:pe,calculateMaxHeightForDraggableComponents:me,OzAvatar:te.a,OzDivider:oe.default,OzDividerColorScheme:oe.OzDividerColorScheme,OzDrawerDraggable:ye.a,OzIcon:G.default,OzRelativeTime:ae.a,SurfacePanelPostExpandedTextPanelComments:he,SurfacePostBody:fe.a,SurfacePostProperties:ge.default,SurfacePostSocialContentTopBar:xe.default}}}),_e=Object(N.a)(Se,(function(){var e=this,t=e._self._c,o=e._self._setupProxy;return t(o.OzDrawerDraggable,{attrs:{"dark-mode":o.isDarkMode,"x-drawer-handle":!0,"preferred-tray-start-height":o.preferredTrayStartHeight,"should-full-size-cover-screen":!0,"window-height":o.windowHeight,"x-scrim":!1,"is-scrim-spectral":!0,"min-top-margin":50},on:{dragstart:o.onDragStart,dragging:o.onDragging,dragend:o.onDragEnd,swipedown:o.onSwipedown,"scrim-click":function(t){return e.$emit("close")}},scopedSlots:e._u([{key:"body",fn:function(){return[t("div",{class:["flex flex-col","overflow-y-auto scrollbar-regular dark:scrollbar-regular-dark","px-3","bg-light-ui-100 dark:bg-dark-ui-100"],attrs:{"aria-live":"polite"}},[t("div",{staticClass:"px-3"},[o.xAuthor?t("div",{ref:"authorRef",staticClass:"flex items-center mb-2.5"},[t(o.isAuthorRegistered?"a":"span",{tag:"component",class:["flex items-center",o.isAuthorRegistered&&"group"],attrs:{href:o.author.profile_url,target:"_blank"}},[t(o.OzAvatar,{staticClass:"me-3 rounded-full",attrs:{src:o.author.avatar,width:20,height:20,"alt-text-name":o.authorName}}),e._v(" "),t("span",{staticClass:"text-body-small text-dark-text-100 dark:text-light-text-100 hover-hover:group-hover:underline"},[t("strong",[e._v(e._s(o.authorName))])])],1),e._v(" "),t(o.OzRelativeTime,{staticClass:"ms-1 text-body-small text-dark-text-200 dark:text-light-text-200",attrs:{datetime:o.post.updated_at}})],1):e._e(),e._v(" "),o.post.subject?t("h3",{ref:"postSubjectRef",class:[(o.xExpandedLayout||o.isDragging)&&"mb-2.5","text-heading-3","font-semibold","break-words","whitespace-break-spaces","text-dark-text-100 dark:text-light-text-100","select-text"],domProps:{textContent:e._s(o.post.subject)}}):e._e(),e._v(" "),t("div",{ref:"bodyWrapperRef",class:{"overflow-hidden":!o.xExpandedLayout||o.isDragging},style:{height:o.bodyDragHeightString}},[o.postBody?t(o.SurfacePostBody,{staticClass:"text-body",attrs:{content:o.postBody,"is-text-selectable":!0}}):e._e(),e._v(" "),o.xPostProperties?t(o.SurfacePostProperties,{staticClass:"py-1",attrs:{source:"expanded_view","dark-mode":o.isDarkMode,"location-name":o.isMap||o.isLocationEnabled?o.post.location_name:void 0,"wall-custom-post-properties":o.wallCustomPostProperties,"custom-property-values":o.post.custom_properties,"post-color":o.post.color,"color-scheme":o.colorScheme,"property-label-class":"text-body-small","property-value-class":"text-body"}}):e._e(),e._v(" "),o.section?t("div",{staticClass:"flex items-start mt-4.5"},[t(o.OzIcon,{staticClass:"text-dark-text-300 dark:text-light-text-300",attrs:{name:"section",size:16}}),e._v(" "),t("p",{class:["ms-2.5","text-body-extra-small","whitespace-break-spaces","text-dark-text-100 dark:text-light-text-100"],domProps:{textContent:e._s(o.section.title)}})],1):e._e()],1)]),e._v(" "),o.xDivider?t(o.OzDivider,{ref:"dividerRef",staticClass:"shrink-0 mt-6",attrs:{"color-scheme":o.OzDividerColorScheme.Solid}}):e._e(),e._v(" "),o.xComments||o.xReactions?t(o.SurfacePostSocialContentTopBar,{ref:"socialContentTopBarRef",class:{"mt-4":o.xDivider,"mb-2 desktop:mb-3":o.xExpandedLayout||o.isDragging,"mb-4":!o.xExpandedLayout,"px-3":!0},attrs:{post:o.post,"usage-context":"postExpandedView","post-reaction-ids":e.reactionIdsByPostId[o.post.id],"post-comment-ids":e.commentIdsByPostId[o.post.id]}}):e._e(),e._v(" "),o.xComments?t(o.SurfacePanelPostExpandedTextPanelComments,{ref:"commentWrapper",class:{grow:!0,"overflow-hidden":!o.xExpandedLayout||o.isDragging},style:{height:o.commentDragHeightString},attrs:{"should-comment-input-stick-to-screen":o.xExpandedLayout}}):e._e()],1)]},proxy:!0}])})}),[],!1,null,null,null).exports,ke=o(63),we=o(326),je=Object(n.defineComponent)({__name:"SurfacePanelPostExpandedToolbar",emits:["toggle-text-panel","toggle-post-action-menu","expand-post","close"],setup(e,{emit:t}){const o=Object(O.b)(),{isSmallerThanDesktop:a,isSmallerThanTabletPortrait:l}=Object(F.g)(o),i=Object(v.a)(),{isDarkMode:r}=Object(F.g)(i),s=Object(b.a)(),{expandedPost:d,expandedPostPostsToNavigate:c,xExpandedPostTextPanel:p}=Object(F.g)(s),m=Object(h.useSurfaceStore)(),f=Object(n.ref)(),g=Object(n.ref)(),x=Object(n.ref)(),P=Object(n.computed)((()=>Object(k.b)("Post %{postIndex} of %{numTotalPosts}",{postIndex:S.value+1,numTotalPosts:_.value}))),S=Object(n.computed)((()=>c.value.findIndex((e=>{var t;return e.cid===(null===(t=d.value)||void 0===t?void 0:t.cid)})))),_=Object(n.computed)((()=>c.value.length)),w=Object(n.computed)((()=>0===S.value)),j=Object(n.computed)((()=>S.value===_.value-1)),C=()=>{if(w.value)return;const e=c.value[S.value-1];e&&D({postCid:e.cid})},A=()=>{if(j.value)return;const e=c.value[S.value+1];e&&D({postCid:e.cid})},M=()=>{var e;(null===(e=f.value)||void 0===e?void 0:e.$el).focus()},T=()=>{var e;(null===(e=g.value)||void 0===e?void 0:e.$el).focus()},D=e=>{t("expand-post",e)};let I=()=>{};const z=()=>{m.isWhiteboard||(I=Object(we.b)(window,{ArrowLeft:()=>{Object(ke.e)()||(C(),M(),Object(y.a)("Expanded view","Navigated to previous post with keyboard"))},ArrowRight:()=>{Object(ke.e)()||(A(),T(),Object(y.a)("Expanded view","Navigated to next post with keyboard"))}}))};return Object(n.onMounted)((()=>{z()})),Object(n.onBeforeUnmount)((()=>{I()})),{__sfc:!0,emit:t,windowSizeStore:o,isSmallerThanDesktop:a,isSmallerThanTabletPortrait:l,darkModeStore:i,isDarkMode:r,expandedPostStore:s,expandedPost:d,expandedPostPostsToNavigate:c,xExpandedPostTextPanel:p,surfaceStore:m,previousButton:f,nextButton:g,actionMenuButton:x,accessiblePostCounterDescription:P,postIndex:S,totalPosts:_,isFirstPost:w,isLastPost:j,goToPrevious:C,goToNext:A,focusPreviousButton:M,focusNextButton:T,toggleTextPanel:()=>{t("toggle-text-panel")},togglePostActionMenu:()=>{t("toggle-post-action-menu")},expandPost:D,close:()=>{t("close")},removeKeyboardShortcutsListener:I,installKeyboardShortcuts:z,__:k.b,OzDivider:oe.default,OzDividerColorScheme:oe.OzDividerColorScheme,OzIconButton:u.d,OzIconButtonColorScheme:u.a,OzIconButtonSizePreset:u.c}}}),Ce=Object(N.a)(je,(function(){var e=this,t=e._self._c,o=e._self._setupProxy;return t("div",{class:["px-2 pt-1 pb-1.5 desktop:p-4","flex flex-row justify-between items-center desktop:flex-col desktop:justify-start","h-10 desktop:h-auto","desktop:w-10"]},[o.isSmallerThanDesktop||o.surfaceStore.isWhiteboard?e._e():t("div",{staticClass:"w-10 h-10 text-center text-body-small",attrs:{"aria-live":"assertive",role:"status","aria-label":o.accessiblePostCounterDescription}},[t("div",{staticClass:"font-semibold text-dark-text-100 dark:text-light-text-100",attrs:{"aria-hidden":"true","data-testid":"surfacePostExpandedViewPostNumber"}},[e._v("\n      "+e._s(o.postIndex+1)+"\n    ")]),e._v(" "),t(o.OzDivider,{staticClass:"mx-2",attrs:{"color-scheme":o.OzDividerColorScheme.Solid}}),e._v(" "),t("div",{staticClass:"text-dark-text-200 dark:text-light-text-200",attrs:{"aria-hidden":"true","data-testid":"surfacePostExpandedViewPostTotal"}},[e._v("\n      "+e._s(o.totalPosts)+"\n    ")])],1),e._v(" "),o.isSmallerThanDesktop?t(o.OzIconButton,{staticClass:"me-12",attrs:{"data-testid":"surfacePostExpandedViewCloseButton","dark-mode":o.isDarkMode,"color-scheme":o.OzIconButtonColorScheme.SecondaryClear,"icon-name":"close_thin","icon-size":24,"size-preset":o.OzIconButtonSizePreset.H40px,label:o.__("Close")},on:{click:o.close}}):e._e(),e._v(" "),o.isSmallerThanDesktop&&!o.surfaceStore.isWhiteboard?t("div",{staticClass:"flex justify-center items-center"},[t(o.OzIconButton,{ref:"previousButton",class:o.isFirstPost&&"aria-disabled:!bg-transparent",attrs:{"dark-mode":o.isDarkMode,"color-scheme":o.OzIconButtonColorScheme.SecondaryClear,"icon-name":"chevron_left_center","icon-size":24,"size-preset":o.OzIconButtonSizePreset.H40px,label:o.__("Previous"),disabled:o.isFirstPost,"data-pepin-id":"expanded-view-go-to-previous-post","data-pepin-trigger":"click"},on:{click:o.goToPrevious}}),e._v(" "),t("div",{staticClass:"mx-1.5 text-center text-body-small"},[t("span",{staticClass:"font-semibold text-dark-text-100 dark:text-light-text-100"},[e._v("\n        "+e._s(o.postIndex+1)+"\n      ")]),e._v(" "),t("span",{staticClass:"text-dark-text-200 dark:text-light-text-200",attrs:{"data-testid":"surfacePostExpandedViewPostTotal"}},[e._v("\n        / "+e._s(o.totalPosts)+"\n      ")])]),e._v(" "),t(o.OzIconButton,{ref:"nextButton",class:o.isLastPost&&"aria-disabled:!bg-transparent",attrs:{"dark-mode":o.isDarkMode,"color-scheme":o.OzIconButtonColorScheme.SecondaryClear,"icon-name":"chevron_right_center","icon-size":24,"size-preset":o.OzIconButtonSizePreset.H40px,label:o.__("Next"),disabled:o.isLastPost,"data-pepin-id":"expanded-view-go-to-next-post","data-pepin-trigger":"click"},on:{click:o.goToNext}})],1):e._e(),e._v(" "),o.isSmallerThanDesktop||o.surfaceStore.isWhiteboard?e._e():t("div",{staticClass:"flex justify-center items-center flex-col"},[t(o.OzIconButton,{ref:"nextButton",staticClass:"mt-3",attrs:{"dark-mode":o.isDarkMode,"color-scheme":o.OzIconButtonColorScheme.Secondary,"icon-name":"chevron_right_center","icon-size":16,"size-preset":o.OzIconButtonSizePreset.H40px,label:o.__("Next"),disabled:o.isLastPost,"data-testid":"surfacePostExpandedViewNextButton","data-pepin-id":"expanded-view-go-to-next-post","data-pepin-trigger":"click"},on:{click:o.goToNext}}),e._v(" "),t(o.OzIconButton,{ref:"previousButton",staticClass:"mt-3",attrs:{"dark-mode":o.isDarkMode,"color-scheme":o.OzIconButtonColorScheme.Secondary,"icon-name":"chevron_left_center","icon-size":16,"size-preset":o.OzIconButtonSizePreset.H40px,label:o.__("Previous"),disabled:o.isFirstPost,"data-pepin-id":"expanded-view-go-to-previous-post","data-pepin-trigger":"click"},on:{click:o.goToPrevious}})],1),e._v(" "),t("div",{staticClass:"flex justify-end items-center desktop:block"},[o.surfaceStore.isWhiteboard?e._e():t(o.OzIconButton,{staticClass:"desktop:mt-3",attrs:{tabindex:o.isSmallerThanDesktop&&!o.isSmallerThanTabletPortrait&&o.xExpandedPostTextPanel?-1:void 0,"is-active":o.xExpandedPostTextPanel,"dark-mode":o.isDarkMode,"color-scheme":o.isSmallerThanDesktop?o.xExpandedPostTextPanel?o.OzIconButtonColorScheme.SecondaryClearActive:o.OzIconButtonColorScheme.SecondaryClear:o.xExpandedPostTextPanel?o.OzIconButtonColorScheme.SecondaryActive:o.OzIconButtonColorScheme.Secondary,"icon-name":"note_outline","active-icon-name":"note_filled","icon-size":o.isSmallerThanDesktop?24:16,label:o.__("Text panel"),"data-pepin-id":o.xExpandedPostTextPanel?"expanded-view-show-text-panel":"expanded-view-hide-text-panel","aria-pressed":String(o.xExpandedPostTextPanel),"data-pepin-trigger":"click"},on:{click:function(e){return o.toggleTextPanel()}}}),e._v(" "),t(o.OzIconButton,{ref:"actionMenuButton",class:["ms-2 desktop:mx-auto",{"desktop:mt-3":!o.surfaceStore.isWhiteboard}],attrs:{tabindex:o.isSmallerThanDesktop&&!o.isSmallerThanTabletPortrait&&o.xExpandedPostTextPanel?-1:void 0,"dark-mode":o.isDarkMode,"color-scheme":o.OzIconButtonColorScheme.SecondaryClear,"icon-name":"dot_3_horizontal","icon-size":24,label:o.__("More")},on:{click:function(e){return o.togglePostActionMenu()}}})],1)],1)}),[],!1,null,null,null).exports,Ae=o(1913),Me=o(2319),Te=o(333),De=Object(n.defineComponent)({__name:"SurfacePanelPostExpanded",props:{reactionIdsByPostId:{default:()=>({})},commentIdsByPostId:{default:()=>({})}},setup(e){const t=Object(n.ref)(),o=Object(n.ref)(),a=Object(n.ref)(),y=Object(n.ref)(null),S=r.a.safari,_=Object(n.ref)({}),k=Object(n.ref)(!1),{user:w,hasSidePanelOutsideSurface:j}=Object(F.g)(Object(h.useSurfaceStore)()),{isSmallerThanTabletPortrait:C,isSmallerThanDesktop:A,isPhone:M}=Object(F.g)(Object(O.b)()),{isDarkMode:T}=Object(F.g)(Object(v.a)()),{xSurfaceGradingPanel:D}=Object(F.g)(Object(x.a)()),I=Object(b.a)(),{expandedPost:z,xExpandedPostTextPanel:E,expandedPostCid:B}=Object(F.g)(I),{expandPost:L,unexpandPost:R,toggleExpandedPostTextPanel:V}=I,{getLinkDisplayAttributesForPost:H,fetchDisplayAttributesForPost:N}=Object(f.a)(),U=Object(n.computed)((()=>{var e;return void 0!==z.value&&null!=z.value&&(!!(null===(e=z.value.wish_content)||void 0===e?void 0:e.attachment_props)||!!z.value.attachment)})),W=Object(n.computed)((()=>z.value&&Object(c.d)(z.value)?Object(c.c)(z.value):null)),G=Object(n.computed)((()=>{var e,t,o;return null===(o=null===(t=null===(e=z.value)||void 0===e?void 0:e.wish_content)||void 0===t?void 0:t.attachment_props)||void 0===o?void 0:o.hotlink})),Y=Object(n.computed)((()=>{var e,t,o,a;return G.value||(null===(o=null===(t=null===(e=z.value)||void 0===e?void 0:e.wish_content)||void 0===t?void 0:t.attachment_props)||void 0===o?void 0:o.url)||(null===(a=z.value)||void 0===a?void 0:a.attachment)})),q=Object(n.computed)((()=>G.value?`${G.value}&download=1`:Y.value?Object(l.g)(Y.value):void 0)),X=Object(n.computed)((()=>{var e;return Object(P.a)({attachmentCaption:null===(e=z.value)||void 0===e?void 0:e.attachment_caption,attachmentDisplayAttributes:y.value})})),J=Object(n.computed)((()=>Object(l.q)(y.value))),Q=Object(n.computed)((()=>void 0!==z.value&&null!=z.value&&Object(d.d)(z.value)));function ee(e){k.value=void 0!==(null===e||void 0===e?void 0:e.status)?e.status:!k.value,M.value&&k.value&&V({status:!1})}function te(){var e,t,n;const l=(null===(e=o.value)||void 0===e?void 0:e.$el)||(null===(n=null===(t=a.value)||void 0===t?void 0:t.$refs.actionMenuButton)||void 0===n?void 0:n.$el);if(!l)return;const r=Object(m.d)(l,j.value?A.value?{top:52,left:"rtl"===Object(i.a)()?-34:-298}:{top:12,left:"rtl"===Object(i.a)()?-4:-330}:A.value?{top:52,left:"rtl"===Object(i.a)()?-58:-15}:{top:12,left:"rtl"===Object(i.a)()?-4:-47});_.value=Object.assign(Object.assign({},r),{position:"side"})}function oe(){document.getElementsByTagName("html")[0].classList.add("expanded-post")}function ae(){document.getElementsByTagName("html")[0].classList.remove("expanded-post")}function ne(){ie()}const le=Object(n.computed)((()=>t.value));Object(Me.a)({elementRef:le,postCid:B}),Object(n.watch)(j,(()=>{te()}),{immediate:!0});const ie=Object(Te.a)((()=>{s.b.visualViewport&&s.b.visualViewport.scale>1||te()}),500);return Object(n.watch)(Y,(async()=>{var e;y.value=null;const t=null===(e=z.value)||void 0===e?void 0:e.cid;null!=t&&(await N(t),y.value=H(t))}),{immediate:!0}),Object(n.onMounted)((()=>{Object(n.nextTick)((()=>{U.value||V({status:!0})})),te(),oe(),s.b.addEventListener("resize",ne)})),Object(n.onBeforeUnmount)((()=>{ae(),s.b.removeEventListener("resize",ne)})),{__sfc:!0,expandedViewEl:t,actionMenuButton:o,toolbar:a,displayAttributes:y,isSafari:S,actionMenuAnchor:_,xActionMenu:k,user:w,hasSidePanelOutsideSurface:j,isSmallerThanTabletPortrait:C,isSmallerThanDesktop:A,isPhone:M,isDarkMode:T,xSurfaceGradingPanel:D,expandedPostStore:I,expandedPost:z,xExpandedPostTextPanel:E,expandedPostCid:B,expandPost:L,unexpandPost:R,toggleExpandedPostTextPanel:V,getLinkDisplayAttributesForPost:H,fetchDisplayAttributesForPost:N,hasAttachment:U,expandedPostPoll:W,hotlinkUrl:G,attachmentUrl:Y,downloadUrl:q,attachmentCaption:X,attachmentIsDownloadable:J,isExpandedPostSubmitted:Q,close:function(){R()},toggleTextPanel:function(e){V(e),M.value&&E.value&&ee({status:!1})},togglePostActionMenu:ee,updateActionMenuAnchor:te,addZoomFixStyle:oe,removeZoomFixStyle:ae,onWindowResize:ne,elementRef:le,debouncedUpdateActionMenuAnchor:ie,dir:i.a,OzIconButton:u.d,OzIconButtonColorScheme:u.a,OzIconButtonSizePreset:u.c,OzOverlay:p.default,DropZone:g.a,SurfacePanelPostExpandedActionMenu:$,SurfacePanelPostExpandedApprovalBanner:Z,SurfacePanelPostExpandedAttachmentWithPreloader:K,SurfacePanelPostExpandedTextPanel:Pe,SurfacePanelPostExpandedTextPanelMobile:_e,SurfacePanelPostExpandedToolbar:Ce,SurfacePostPoll:Ae.default}}}),Ie=(o(2629),Object(N.a)(De,(function(){var e=this,t=e._self._c,o=e._self._setupProxy;return t(o.OzOverlay,{class:["flex","items-center","justify-center","font-sans"],attrs:{"data-testid":"surfacePanelPostExpanded","aria-modal":"true",role:"dialog",dir:o.dir(),"is-spectral":o.xSurfaceGradingPanel,"should-fade-in":!o.isSafari,"aria-label":e.__("Expanded post dialog")},on:{"scrim-esc":o.close}},[t("div",{ref:"expandedViewEl",class:["overflow-auto","flex flex-col desktop:flex-row","w-full","h-full","bg-grey-0 dark:bg-grey-850"],attrs:{"data-drop-zone-name":o.DropZone.EXPANDED_VIEW}},[o.isSmallerThanDesktop?t(o.SurfacePanelPostExpandedToolbar,{ref:"toolbar",on:{"toggle-text-panel":o.toggleTextPanel,"toggle-post-action-menu":o.togglePostActionMenu,"expand-post":o.expandPost,close:o.close}}):e._e(),e._v(" "),o.xExpandedPostTextPanel&&o.isSmallerThanTabletPortrait?t(o.SurfacePanelPostExpandedTextPanelMobile,{attrs:{"reaction-ids-by-post-id":e.reactionIdsByPostId,"comment-ids-by-post-id":e.commentIdsByPostId},on:{close:function(e){return o.toggleTextPanel({status:!1})}}}):o.xExpandedPostTextPanel&&o.isSmallerThanDesktop?t("div",{class:["absolute top-0 end-0","flex flex-col","w-68.5 h-vh100","bg-light-ui-100 dark:bg-dark-ui-100","z-10"]},[o.isSmallerThanDesktop&&!o.isSmallerThanTabletPortrait?t("div",{class:["flex flex-row justify-end items-center","h-10","pt-1 pb-1.5 pe-2"]},[t(o.OzIconButton,{attrs:{"is-active":!0,"dark-mode":o.isDarkMode,"color-scheme":o.OzIconButtonColorScheme.SecondaryClearActive,"icon-name":"note_outline","active-icon-name":"note_filled","icon-size":24,label:e.__("Text panel"),"size-preset":o.OzIconButtonSizePreset.H40px,"data-pepin-id":"expanded-view-hide-text-panel","data-pepin-trigger":"click","aria-pressed":String(o.xExpandedPostTextPanel)},on:{click:function(e){return o.toggleTextPanel()}}}),e._v(" "),t(o.OzIconButton,{ref:"actionMenuButton",staticClass:"ms-2",attrs:{"dark-mode":o.isDarkMode,"color-scheme":o.OzIconButtonColorScheme.SecondaryClear,"icon-name":"dot_3_horizontal","icon-size":24,label:e.__("More"),"size-preset":o.OzIconButtonSizePreset.H40px},on:{click:function(e){return o.togglePostActionMenu()}}})],1):e._e(),e._v(" "),t(o.SurfacePanelPostExpandedTextPanel,{staticClass:"grow",attrs:{"reaction-ids-by-post-id":e.reactionIdsByPostId,"comment-ids-by-post-id":e.commentIdsByPostId}})],1):e._e(),e._v(" "),""!==o.attachmentCaption&&o.isSmallerThanDesktop?t("div",{class:[o.xExpandedPostTextPanel&&!o.isSmallerThanTabletPortrait&&"box-border w-[calc(100vw-274px)]","overflow-y-auto","min-h-[2lh]","max-h-[4lh]","px-20","pb-3.25",{"scrollbar-thin":!1===o.isDarkMode,"scrollbar-thin-dark":!0===o.isDarkMode}]},[t("p",{class:["text-body-extra-small","text-center","truncate","whitespace-break-spaces","text-dark-text-200 dark:text-light-text-200"],attrs:{"aria-live":"polite"},domProps:{textContent:e._s(o.attachmentCaption)}})]):e._e(),e._v(" "),t("div",{class:["w-full","h-full","flex","flex-col","overflow-hidden",!o.hasAttachment&&["dot-grid","relative"]]},[t("div",{class:[!o.hasAttachment&&"dot-grid-filter",!o.isSmallerThanDesktop&&"relative","flex","flex-col","grow","h-full"]},[t("div",{class:["relative","flex flex-col items-center grow","h-full",o.xExpandedPostTextPanel&&o.isSmallerThanDesktop&&!o.isSmallerThanTabletPortrait?"w-[calc(100vw-274px)]":"w-full"]},[o.hasAttachment?o.expandedPost&&o.expandedPostPoll?[t("div",{staticClass:"w-full h-full flex items-center justify-center"},[t("div",{staticClass:"mx-4 flex-1 max-w-[540px]"},[t(o.SurfacePostPoll,{attrs:{post:o.expandedPost,poll:o.expandedPostPoll,user:o.user,"display-mode":"expanded"}})],1)])]:t(o.SurfacePanelPostExpandedAttachmentWithPreloader,{key:o.attachmentUrl,staticClass:"grow self-end",attrs:{"aria-live":"polite","safe-area":{width:64,height:64},"display-attributes":o.displayAttributes,"dark-mode":o.isDarkMode,post:o.expandedPost}}):t("div",{staticClass:"flex items-center justify-center grow",attrs:{"aria-live":"polite"}},[o.xExpandedPostTextPanel?e._e():t("span",{staticClass:"text-dark-text-400 dark:text-light-text-400 font-semibold text-17"},[e._v(e._s(e.__("No attachment")))])]),e._v(" "),o.isExpandedPostSubmitted?t(o.SurfacePanelPostExpandedApprovalBanner):e._e()],2),e._v(" "),o.isSmallerThanDesktop?e._e():t(o.OzIconButton,{staticClass:"absolute top-0 start-0 mt-4 me-2 mb-2 ms-4",attrs:{"dark-mode":o.isDarkMode,"color-scheme":o.OzIconButtonColorScheme.SecondaryClear,"icon-name":"close","icon-size":16,label:e.__("Close"),"size-preset":o.OzIconButtonSizePreset.H40px,"data-testid":"surfacePostExpandedViewCloseButton"},on:{click:o.close}})],1)]),e._v(" "),!o.isSmallerThanDesktop&&o.xExpandedPostTextPanel?t("div",{class:["shrink-0 flex flex-col","w-80 pt-4","bg-light-ui-100 dark:bg-dark-ui-100"]},[t(o.SurfacePanelPostExpandedTextPanel,{staticClass:"grow",attrs:{"attachment-caption":o.attachmentCaption,"reaction-ids-by-post-id":e.reactionIdsByPostId,"comment-ids-by-post-id":e.commentIdsByPostId}})],1):e._e(),e._v(" "),o.isSmallerThanDesktop?e._e():t(o.SurfacePanelPostExpandedToolbar,{ref:"toolbar",on:{"toggle-text-panel":o.toggleTextPanel,"toggle-post-action-menu":o.togglePostActionMenu,"expand-post":o.expandPost,close:o.close}})],1),e._v(" "),o.xActionMenu&&o.expandedPostCid?t(o.SurfacePanelPostExpandedActionMenu,{attrs:{"post-cid":o.expandedPostCid,"attachment-is-downloadable":o.attachmentIsDownloadable,"attachment-url":o.attachmentUrl,"download-url":o.downloadUrl,"popover-anchor":o.actionMenuAnchor},on:{"trigger-anchor-update":o.updateActionMenuAnchor,close:function(e){return o.togglePostActionMenu({status:!1})}}}):e._e()],1)}),[],!1,null,null,null));t.default=Ie.exports},348:function(e,t,o){"use strict";var a=o(0),n=o(1),l=o(54),i=o(109);var r=Object(a.defineComponent)(Object.assign(Object.assign({},{}),{__name:"OzAvatar",props:{width:{default:void 0},height:{default:void 0},src:{default:null},fallbackSrc:{default:l.a},altTextName:{default:"anonymous"},alt:{default:void 0}},setup(e){const t=e,o=Object(a.ref)(!1),l=Object(a.computed)((()=>!t.src||o.value?t.fallbackSrc:t.src.startsWith("/")?t.src:Object(i.a)(t.src,s.value))),r=Object(a.computed)((()=>{var e;return null!==(e=t.alt)&&void 0!==e?e:t.altTextName?Object(n.b)("Avatar of %{name}",{name:t.altTextName}):""})),s=Object(a.computed)((()=>t.width&&t.height?{width:t.width,height:t.height,preset:"avatar"}:{preset:"avatar"}));return{__sfc:!0,props:t,isErrored:o,processedSrc:l,altText:r,transforms:s}}})),s=o(13),d=Object(s.a)(r,(function(){var e=this,t=e._self._c,o=e._self._setupProxy;return t("img",{attrs:{width:e.width,height:e.height,alt:o.altText,src:o.processedSrc},on:{error:function(e){o.isErrored=!0}}})}),[],!1,null,null,null);t.a=d.exports},367:function(e,t,o){"use strict";var a=o(0),n=o(38);var l=Object(a.defineComponent)(Object.assign(Object.assign({},{}),{__name:"OzPopoverTip",props:{color:{default:n.a.Primary},darkMode:{type:[Boolean,String],default:"auto"},pathClasses:{default:()=>[]}},setup:e=>({__sfc:!0,OzBoxColors:n.a})})),i=o(13),r=Object(i.a)(l,(function(){var e=this,t=e._self._c,o=e._self._setupProxy;return t("svg",{class:["transform scale-100","pointer-events-none","fill-current","fixed",e.color===o.OzBoxColors.Primary&&{"text-white-100":!1===e.darkMode,"text-nightfall-900":!0===e.darkMode,"text-white-100 dark:text-nightfall-900":"auto"===e.darkMode},e.color===o.OzBoxColors.Secondary&&{"text-light-ui-200":!1===e.darkMode,"text-dark-ui-200":!0===e.darkMode,"text-light-ui-200 dark:text-dark-ui-200":"auto"===e.darkMode},e.color===o.OzBoxColors.Selection&&{"text-grape-500":!1===e.darkMode,"text-canary-500":!0===e.darkMode,"text-grape-500 dark:text-canary-500":"auto"===e.darkMode},e.color===o.OzBoxColors.Highlight&&{"text-canary-0":!1===e.darkMode,"text-nightfall-800":!0===e.darkMode,"text-canary-0 dark:text-nightfall-800":"auto"===e.darkMode},e.color===o.OzBoxColors.Destructive&&{"text-tangerine-0":!1===e.darkMode,"text-nightfall-800":!0===e.darkMode,"text-tangerine-0 dark:text-nightfall-800":"auto"===e.darkMode},e.color===o.OzBoxColors.Pink&&{"text-padlet-pink-0":!1===e.darkMode,"text-nightfall-800":!0===e.darkMode,"text-padlet-pink-0 dark:text-nightfall-800":"auto"===e.darkMode},e.color===o.OzBoxColors.PrimaryBlur&&{"text-common-ui-l86":!1===e.darkMode,"text-common-ui-d86":!0===e.darkMode,"text-common-ui-l86 dark:text-common-ui-d86":"auto"===e.darkMode}],attrs:{width:"24",height:"24",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"false"}},[t("path",{attrs:{classes:e.color===o.OzBoxColors.PrimaryBlur&&["backdrop-filter","backdrop-blur-10"],d:"M0 0h24-.652a4 4 0 0 0-2.788 1.147l-5.717 5.62a4 4 0 0 1-5.608 0l-5.718-5.62A4 4 0 0 0 .73 0H0z"}})])}),[],!1,null,null,null);t.a=r.exports},528:function(e,t,o){"use strict";e.exports=function(e,t){return"string"!==typeof e?e:(/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),/["'() \t\n]/.test(e)||t?'"'+e.replace(/"/g,'\\"').replace(/\n/g,"\\n")+'"':e)}},529:function(e,t,o){e.exports=o.p+"media/images/dot_grid_light-5d6d47a89e5b41eabe52b8eba961c929.png"},530:function(e,t,o){e.exports=o.p+"media/images/dot_grid_dark-6b049085d136a66cadc8865290401049.png"},534:function(e,t,o){"use strict";var a=o(0);var n=Object(a.defineComponent)(Object.assign(Object.assign({},{}),{__name:"OzIndeterminateSpinner",props:{size:{default:20},darkMode:{type:[Boolean,String],default:"auto"}},setup(e){const t=e,o=Object(a.computed)((()=>({width:t.size+"px",height:t.size+"px"})));return{__sfc:!0,props:t,spinnerStyles:o}}})),l=o(13),i=Object(l.a)(n,(function(){var e=this,t=e._self._c,o=e._self._setupProxy;return t("span",{class:["block animate-spin rounded-full box-border border-2 border-solid",{"border-light-text-400 border-t-canary-500":!0===e.darkMode,"border-dark-text-400 border-t-grape-500":!1===e.darkMode,"border-dark-text-400 dark:border-light-text-400 border-t-grape-500 dark:border-t-canary-500":"auto"===e.darkMode}],style:o.spinnerStyles})}),[],!1,null,null,null);t.a=i.exports},550:function(e,t,o){"use strict";var a=o(0),n=o(169);var l=Object(a.defineComponent)(Object.assign(Object.assign({},{}),{__name:"OzDrawerStatic",props:{fullSize:{type:Boolean,default:!1},darkMode:{type:[Boolean,String],default:"auto"},xScrim:{type:Boolean,default:!0},isScrimSpectral:{type:Boolean,default:!1},shouldFadeIn:{type:Boolean,default:!0},zIndexClass:{default:void 0},position:{default:"fixed"},hideScrollbar:{type:Boolean,default:!1},shouldAnimateOnAppear:{type:Boolean,default:!0}},emits:["scrim-click","scrim-esc"],setup(e){const t=e,o=Object(a.ref)(),l=Object(a.ref)(),i=Object(a.ref)(!1);return Object(a.onMounted)((()=>{var e,a;(t.fullSize||(null===(e=l.value)||void 0===e?void 0:e.clientHeight)>=(null===(a=o.value)||void 0===a?void 0:a.$el.clientHeight))&&(i.value=!0)})),{__sfc:!0,props:t,root:o,modalContainer:l,isTouchingTopOfScreen:i,OzOverlay:n.default}}})),i=(o(654),o(13)),r=Object(i.a)(l,(function(){var e=this,t=e._self._c,o=e._self._setupProxy;return t("transition",{ref:"root",attrs:{"leave-active-class":"out",duration:200}},[t(o.OzOverlay,{ref:"root",class:["overflow-hidden","flex","flex-col","justify-end","items-center","font-sans"],style:{paddingTop:"var(--safe-area-inset-top)"},attrs:{"is-spectral":e.isScrimSpectral,scrim:e.xScrim?"modal":null,"should-fade-in":e.shouldFadeIn,"z-index-class":e.zIndexClass,"dark-mode":e.darkMode,position:e.position},on:{"scrim-click":function(t){return e.$emit("scrim-click")},"scrim-esc":function(t){return e.$emit("scrim-esc")}}},[t("div",{ref:"modalContainer",class:[{"w-full":!0,"max-h-none":!0,"min-h-full":e.fullSize,"overflow-auto flex flex-col":!0,"modal-container":!0,"slide-up-down-animated":e.shouldAnimateOnAppear,"shadow-elevation-5":!e.fullSize,"rounded-none":o.isTouchingTopOfScreen,"rounded-3xl rounded-b-none":!o.isTouchingTopOfScreen,"full-size":e.fullSize,"bg-light-ui-100 dark:bg-dark-ui-100":"auto"===e.darkMode,"bg-light-ui-100 ":!1===e.darkMode,"bg-dark-ui-100":!0===e.darkMode,"pb-safe-inset-bottom":!0}]},[t("div",{class:["max-h-full flex grow flex-col overflow-hidden"]},[e.$slots.header?t("header",[e._t("header")],2):e._e(),e._v(" "),e.$slots.body?t("div",{class:{"flex grow flex-col p-0 overflow-auto":!0,"no-scrollbar":e.hideScrollbar}},[e._t("body")],2):e._e(),e._v(" "),e._t("default")],2)])])],1)}),[],!1,null,"7389e7e6",null);t.a=r.exports},581:function(e,t,o){"use strict";var a=o(0),n=o(617),l=o(550),i=o(215);var r=Object(a.defineComponent)(Object.assign(Object.assign({},{}),{__name:"OzScreenSizeAwarePopoverModal",props:{isPhone:{type:Boolean,default:!1},isDraggableDrawer:{type:Boolean,default:!1}},emits:["scrim-click","scrim-esc","swipedown","swipeup","trigger-anchor-update"],setup:e=>({__sfc:!0,OzDrawerDraggable:n.a,OzDrawerStatic:l.a,OzPopoverModal:i.b})})),s=o(13),d=Object(s.a)(r,(function(){var e=this,t=e._self._c,o=e._self._setupProxy;return e.isPhone&&!e.isDraggableDrawer?t(o.OzDrawerStatic,e._b({on:{"scrim-click":function(t){return e.$emit("scrim-click")},"scrim-esc":function(t){return e.$emit("scrim-esc")}},scopedSlots:e._u([{key:"header",fn:function(){return[e._t("header")]},proxy:!0},{key:"body",fn:function(){return[e._t("body")]},proxy:!0}],null,!0)},"OzDrawerStatic",{...e.$props,...e.$attrs},!1)):e.isPhone&&e.isDraggableDrawer?t(o.OzDrawerDraggable,e._b({on:{"scrim-click":function(t){return e.$emit("scrim-click")},"scrim-esc":function(t){return e.$emit("scrim-esc")},swipedown:function(t){return e.$emit("swipedown",t)},swipeup:function(t){return e.$emit("swipeup",t)}},scopedSlots:e._u([{key:"header",fn:function(){return[e._t("header")]},proxy:!0},{key:"body",fn:function(){return[e._t("body")]},proxy:!0}],null,!0)},"OzDrawerDraggable",{...e.$props,...e.$attrs},!1)):t(o.OzPopoverModal,e._b({on:{"trigger-anchor-update":function(t){return e.$emit("trigger-anchor-update")},"scrim-click":function(t){return e.$emit("scrim-click")},"scrim-esc":function(t){return e.$emit("scrim-esc")}},scopedSlots:e._u([{key:"header",fn:function(){return[e._t("header")]},proxy:!0},{key:"body",fn:function(){return[e._t("body")]},proxy:!0}],null,!0)},"OzPopoverModal",{...e.$props,...e.$attrs},!1))}),[],!1,null,null,null);t.a=d.exports},617:function(e,t,o){"use strict";var a=o(0),n=o(169),l=o(622),i=o.n(l);var r=Object(a.defineComponent)(Object.assign(Object.assign({},{}),{__name:"OzDrawerDraggable",props:{windowHeight:null,xHeader:{type:Boolean,default:!0},xDrawerHandle:{type:Boolean,default:!1},fullSize:{type:Boolean,default:!1},disableDrag:{type:Boolean,default:!1},scrollType:{default:"body"},darkMode:{type:[Boolean,String],default:"auto"},preferredTrayStartHeight:{default:void 0},shouldFullSizeCoverScreen:{type:Boolean,default:!1},xScrim:{type:Boolean,default:!0},isScrimSpectral:{type:Boolean,default:!1},shouldFadeIn:{type:Boolean,default:!0},position:{default:"fixed"},minTopMargin:{default:0},zIndexClass:{default:void 0},hideScrollbar:{type:Boolean,default:!1}},emits:["dragstart","dragging","dragend","swipeup","swipedown","scrim-click","scrim-esc"],setup(e,{emit:t}){const o=e;let l;const r=Object(a.ref)(),s=Object(a.ref)(),d=Object(a.ref)(),c=Object(a.ref)(),u=Object(a.ref)(),p=Object(a.ref)(),m=Object(a.ref)(0),v=Object(a.ref)(0),b=Object(a.ref)(0),h=Object(a.ref)(0),f=Object(a.ref)(0),g=Object(a.ref)(0),x=Object(a.ref)(0),O=Object(a.ref)(!1),P=Object(a.ref)(!1),y=Object(a.ref)(!1),S=Object(a.ref)(0),_=()=>{Object(a.nextTick)((()=>{const e=c.value;e&&(S.value=m.value+h.value,S.value===v.value?O.value=!0:O.value=!1,e.style.marginTop=S.value+"px")}))},k=(e="slow")=>{const t=c.value;t&&(t.style.transition="slow"===e?"margin 150ms cubic-bezier(0.4, 0, 0.2, 1)":"margin 50ms cubic-bezier(0.4, 0, 0.2, 1)",setTimeout((()=>{t.style.transition=""}),"slow"===e?150:100))},w=(e="bottom",t="slow")=>{k(t),"bottom"===e?(h.value=0,E()):"top"===e?(h.value=b.value,z()):"full"===e?(h.value=-m.value,z()):"out"===e&&(h.value=o.windowHeight),_()},j=({endEvent:e,lastPanEvent:t})=>{const o=(e.velocity+t.velocity)/Math.abs(e.velocity+t.velocity);return e.timestamp-t.timestamp>60?o*Math.max(Math.abs(t.velocity),e.velocity)*1e3:o*Math.abs(e.velocity)*1e3},C=Object(a.ref)(),A=Object(a.ref)(0),M=Object(a.ref)(),T=Object(a.ref)(!1),D=Object(a.computed)((()=>"whole"===o.scrollType)),I=Object(a.computed)((()=>D.value?p.value:s.value)),z=()=>{P.value=!0,I.value&&(I.value.style.overflow="auto")},E=()=>{P.value=!1,I.value&&(I.value.style.overflow="visible")},B=Object(a.ref)(!1),L=()=>{f.value=h.value;const e=I.value;P.value&&0===(null===e||void 0===e?void 0:e.scrollTop)&&(B.value=!0),t("dragstart")},R=(e,o,a)=>{if(B.value&&e<0){const t=I.value;t&&(t.scrollTop=-e),B.value=!1}else h.value=Math.max(f.value+e,b.value),_(),g.value=o,x.value=a,t("dragging",e)},V=(e,o)=>{const a=j({endEvent:{velocity:e,timestamp:o},lastPanEvent:{velocity:g.value,timestamp:x.value}});h.value<=b.value&&(h.value=b.value,z());const n=f.value<=b.value;a>300?(t("swipedown",{isAtTopBeforeDragging:n}),g.value+e>0?w("bottom","fast"):w("top","fast")):a<-300?(t("swipeup",{isAtTopBeforeDragging:n}),g.value+e<0?w("top","fast"):w("bottom","fast")):h.value>b.value/2?w("bottom","slow"):b.value/2>h.value&&h.value>b.value&&w("top","slow"),t("dragend",h.value)},F=()=>{if(!o.fullSize)if(o.disableDrag)z();else{if(!l){const e=u.value;l=new i.a(e)}l.get("pan").set({direction:i.a.DIRECTION_VERTICAL}),l.on("panstart",(e=>{L()})),l.on("panmove",(e=>{R(e.deltaY,e.velocityY,e.timeStamp)})),l.on("panend",(e=>{V(e.velocityY,e.timeStamp)})),y.value=!0}},H=()=>{l&&(l.off("panstart panmove panend"),y.value=!1)};Object(a.watch)((()=>o.disableDrag),(e=>{e?H():F()})),Object(a.watch)((()=>o.fullSize),(e=>{e?(w("full","slow"),setTimeout((()=>{document.documentElement.scrollTop=0}),100),H()):(w("top","slow"),F())})),Object(a.watch)((()=>o.preferredTrayStartHeight),(()=>{Object(a.nextTick)((()=>{N(),$()}))}));const N=()=>{m.value=o.preferredTrayStartHeight?o.windowHeight-o.preferredTrayStartHeight:o.windowHeight/4,v.value=(()=>{var e;if(o.shouldFullSizeCoverScreen)return o.minTopMargin;const t=d.value;if(t){const a=o.windowHeight-t.clientHeight-((null===(e=r.value)||void 0===e?void 0:e.clientHeight)||0);return a>m.value||a<0?o.minTopMargin:a}return o.minTopMargin})(),b.value=-m.value+Math.max(0,v.value)},$=()=>{S.value=m.value,(o.fullSize||O.value)&&(h.value=b.value),_()};return Object(a.onMounted)((()=>{N(),$(),F()})),Object(a.onBeforeUnmount)((()=>{H(),null===l||void 0===l||l.destroy()})),{__sfc:!0,props:o,emit:t,hammer:l,header:r,modalBody:s,modalBodyContent:d,modalContainer:c,modalContainerInner:u,modalContainerInnerWrapper:p,MAX_TOP_MARGIN:m,MIN_TOP_MARGIN:v,DRAG_DISTANCE_AT_TOP:b,dragDistanceY:h,dragDistanceYBeforeStart:f,latestVelocityY:g,latestPanEventTimestamp:x,draggedToFullSize:O,scrollEnabled:P,panEnabled:y,marginTop:S,updateElement:_,addTransition:k,resetElement:w,computeEndVelocity:j,scrollTimeout:C,scrollTop:A,touchStartY:M,isDragStartEmittedForScroll:T,isScrollingWholeModal:D,scrollingElement:I,handleTrayScrollStart:e=>{M.value=e.touches[0].clientY,T.value=!1},handleTrayScroll:e=>{if(!P.value)return void(e.cancelable&&e.preventDefault());T.value||(T.value=!0,t("dragstart"));const o=I.value;o&&(y.value&&o.scrollTop<0?e.preventDefault():y.value&&0===o.scrollTop&&(M.value&&M.value>e.changedTouches[0].clientY+5||M.value&&M.value<e.changedTouches[0].clientY-5&&e.cancelable&&e.preventDefault()),C.value&&(clearTimeout(C.value),C.value=void 0),C.value=setTimeout((()=>{A.value=o.scrollTop;A.value<=5?F():H()}),250))},enableScroll:z,disableScroll:E,scrollWithPan:B,handleStartPan:L,handlePanMove:R,handlePanEnd:V,addPanListener:F,removePanListener:H,computePrecalculatedMeasurement:N,setStartingTopMargin:$,OzOverlay:n.default}}})),s=(o(655),o(13)),d=Object(s.a)(r,(function(){var e=this,t=e._self._c,o=e._self._setupProxy;return t("transition",{attrs:{"leave-active-class":"out"}},[t(o.OzOverlay,{class:["overflow-hidden","flex","flex-col","justify-end","items-center","font-sans"],style:{paddingTop:"var(--safe-area-inset-top)"},attrs:{"is-spectral":e.isScrimSpectral,scrim:e.xScrim?"modal":null,"should-fade-in":e.shouldFadeIn,"z-index-class":e.zIndexClass,"dark-mode":e.darkMode,position:e.position},on:{"scrim-click":function(t){return e.$emit("scrim-click")},"scrim-esc":function(t){return e.$emit("scrim-esc")}}},[t("div",{ref:"modalContainer",class:[{"mt-96 min-h-auto w-full":!0,"h-full":e.shouldFullSizeCoverScreen,"overflow-auto flex flex-col":!0,"no-scrollbar":e.hideScrollbar,"modal-container":!0,"shadow-elevation-5":!e.fullSize&&!o.draggedToFullSize,"rounded-none":(e.fullSize||o.draggedToFullSize)&&o.MIN_TOP_MARGIN===e.minTopMargin,"rounded-3xl rounded-br-none rounded-bl-none":!e.fullSize&&!o.draggedToFullSize||o.MIN_TOP_MARGIN>e.minTopMargin,"full-size":e.fullSize||o.draggedToFullSize,"bg-light-ui-100 dark:bg-dark-ui-100":"auto"===e.darkMode,"bg-light-ui-100 ":!1===e.darkMode,"bg-dark-ui-100":!0===e.darkMode,"pb-safe-inset-bottom":!0}]},[t("div",{ref:"modalContainerInner",class:[{"bg-light-ui-100 dark:bg-dark-ui-100":"auto"===e.darkMode,"bg-light-ui-100 ":!1===e.darkMode,"bg-dark-ui-100":!0===e.darkMode,"min-h-full flex flex-grow flex-col overflow-hidden":!0}]},[t("div",{ref:"modalContainerInnerWrapper",class:[o.isScrollingWholeModal?"block":"contents","pb-0"]},[e.xHeader?t("header",{ref:"header"},[e.xDrawerHandle?t("div",{staticClass:"flex justify-center mb-2 pt-1",attrs:{id:"tray-expander-controller"}},[t("div",{staticClass:"rounded w-7 h-1 bg-highway-disabled dark:bg-white-disabled"})]):e._e(),e._v(" "),e._t("header")],2):e._e(),e._v(" "),t("div",{ref:"modalBody",class:{"h-auto flex flex-grow flex-col p-0 overflow-hidden":!0,"overflow-y-auto":e.fullSize||o.draggedToFullSize},on:{touchstart:o.handleTrayScrollStart,touchmove:o.handleTrayScroll,touchend:function(t){return e.$emit("dragend",o.dragDistanceY)}}},[t("div",{ref:"modalBodyContent"},[e._t("body")],2)])])])])])],1)}),[],!1,null,"b0503c08",null);t.a=d.exports},625:function(e,t,o){},626:function(e,t,o){},654:function(e,t,o){"use strict";o(625)},655:function(e,t,o){"use strict";o(626)},664:function(e,t,o){"use strict";o.d(t,"a",(function(){return S})),o.d(t,"b",(function(){return O})),o.d(t,"c",(function(){return x})),o.d(t,"d",(function(){return P})),o.d(t,"e",(function(){return f})),o.d(t,"f",(function(){return b}));var a=o(167),n=o(16),l=o(62),i=o(8),r=o(327);const s="https://padlet.net/ajax/libs/KaTeX/0.15.2/katex.min.js",d="https://padlet.net/ajax/libs/KaTeX/0.15.2/katex.min.css";async function c(e){await Promise.all([Object(r.b)(s),Object(r.a)(d)]),katex.render(e.innerText,e,{displayMode:!1})}var u=o(93),p=o(37),m=o(673),v=o(209);const b=e=>{Object(l.a)(e).find("a[href^=h]").attr({target:"_blank",rel:"noopener nofollow ugc"}).each(((e,t)=>{var o,a;const n=null!==(a=null===(o=t.getAttribute("href"))||void 0===o?void 0:o.trim())&&void 0!==a?a:"";Object(p.i)(n)||t.setAttribute("href",h(n))}))},h=e=>Object(i.H)(`https://${p.a}`,{path:"redirect",search:{url:e}}),f=e=>{Object(l.a)(e).find("a[href^=h]").attr({target:"_blank",rel:"noopener nofollow ugc",[m.a]:"external"})},g=e=>{const t=new URL(e),o=t.pathname.split("/");return u.d.test(t.host)&&o.length>3&&"slideshow"===o[3]},x=async e=>{if(!n.a.app)return;const t=e.querySelectorAll("a[href^=h]");for(const n of t){const e=n.getAttribute("href");if(null==e)continue;const t=Object(i.m)(e);if(u.d.test(t))if(l=void 0,"A"===(o=n).tagName&&(null===(l=o.parentElement)||void 0===l?void 0:l.tagName)===v.a.toUpperCase())n.setAttribute(m.a,"profile");else if(g(e))n.setAttribute(m.a,"slideshow");else{const t=await Object(a.a)(e);"padlet"===(null===t||void 0===t?void 0:t.content_subcategory)&&"padlet"!==(null===t||void 0===t?void 0:t.provider_name.toLowerCase())&&n.setAttribute(m.a,"padlet")}}var o,l},O=async e=>{const t=(await o.e(7).then(o.bind(null,124))).default;e.querySelectorAll("a").forEach((e=>{e.addEventListener("click",(o=>{const a=e.href;null!=a&&(o.preventDefault(),t.openUrl({url:a}))}))}))};function P(e){const t=e.querySelectorAll("var");t.length>0&&t.forEach((e=>{null!=e.firstElementChild&&"katex"===e.firstElementChild.className||c(e)}))}const y=/\w+/g;function S(e){if(null==e||0===e.length)return 0;const t=e.match(y);return null!=t?t.length:0}},673:function(e,t,o){"use strict";o.d(t,"a",(function(){return a}));const a="data-bridged-link"},73:function(e,t,o){"use strict";o.d(t,"a",(function(){return n.a})),o.d(t,"b",(function(){return n.b})),o.d(t,"c",(function(){return n.c}));var a=o(0),n=o(23),l=o(56);var i=Object(a.defineComponent)(Object.assign(Object.assign({},{}),{__name:"OzIconButton",props:{label:null,iconName:null,iconFont:{default:"oricon"},iconSize:{default:void 0},sizePreset:{default:n.c.H40px},colorScheme:{default:n.a.Primary},darkMode:{type:[Boolean,String],default:"auto"},activeIconName:{default:void 0},disabled:{type:Boolean,default:!1},href:{default:void 0},hrefMode:{default:n.b.Default}},setup(e){const t=e,o=Object(a.computed)((()=>!!t.colorScheme&&[n.a.SecondaryActive,n.a.SecondaryClearActive].includes(t.colorScheme))),i=Object(a.computed)((()=>{switch(t.sizePreset){case n.c.H40px:return 16;case n.c.H32px:return 20;case n.c.H24px:return 16;default:return 24}}));return{__sfc:!0,props:t,isActive:o,presetIconSize:i,OzContainedButton:n.d,OzIcon:l.default}}})),r=o(13),s=Object(r.a)(i,(function(){var e=this,t=e._self._c,o=e._self._setupProxy;return t(o.OzContainedButton,{attrs:{"aria-label":e.label,title:e.label,"dark-mode":e.darkMode,"color-scheme":e.colorScheme,"size-preset":e.sizePreset,disabled:e.disabled,"href-mode":e.hrefMode,href:e.href},on:{mouseenter:function(t){return e.$emit("mouseenter",t)},mouseleave:function(t){return e.$emit("mouseleave",t)},mousedown:function(t){return e.$emit("mousedown",t)},focus:function(t){return e.$emit("focus",t)},blur:function(t){return e.$emit("blur",t)},click:function(t){return e.$emit("click",t)},pointerdown:function(t){return e.$emit("pointerdown",t)}},scopedSlots:e._u([{key:"icon",fn:function(){return[t(o.OzIcon,{attrs:{name:o.isActive&&e.activeIconName?e.activeIconName:e.iconName,font:e.iconFont,size:e.iconSize||o.presetIconSize}})]},proxy:!0}])})}),[],!1,null,null,null);t.d=s.exports},905:function(e,t,o){"use strict";var a=o(0);const n=e=>{let t=-1,o=-1,a=-1,n=!1,l=!1;const i=e=>{"touch"!==e.pointerType||n||(t=e.x,o=e.y,a=e.timeStamp,n=!0)},r=i=>{setTimeout((()=>{if(l)return void(l=!1);if("touch"!==i.pointerType||!n)return;const r=-1===t||-1===o||-1===a,s=i.x===t&&i.y===o,d=i.timeStamp-a<=300;!r&&s&&d&&(i.target instanceof HTMLElement?i.target.click():e.dispatchEvent(new Event("click",i))),t=-1,o=-1,a=-1,n=!1,l=!1}),0)};e.addEventListener("click",(()=>{l=!0})),e.addEventListener("pointerdown",i),e.addEventListener("pointerup",r),e.$_onPointerDown=i,e.$_onPointerUp=r},l=e=>{null!=e.$_onPointerDown&&(e.removeEventListener("pointerdown",e.$_onPointerDown),e.$_onPointerDown=void 0),null!=e.$_onPointerUp&&(e.removeEventListener("pointerup",e.$_onPointerUp),e.$_onPointerUp=void 0)},i={bind:(e,t)=>{Object(a.nextTick)((()=>{const o=document.documentElement.classList.contains("touchable"),a=null!==e.closest(".fix-click-on-touch");if(!o||!a)return;const l=[e];if("deep"===t.arg)for(const t of e.children)t instanceof HTMLElement&&l.push(t);l.forEach(n)}))},unbind:(e,t)=>{const o=[e];if("deep"===t.arg)for(const a of e.children)a instanceof HTMLElement&&o.push(a);o.forEach(l)}};t.a=i},906:function(e,t,o){"use strict";o.d(t,"a",(function(){return S})),o.d(t,"c",(function(){return k})),o.d(t,"b",(function(){return w}));var a=o(22),n=o(910),l=o(51),i=o(16),r=o(10),s=o(15),d=o(1),c=o(62),u=o(8),p=o(664),m=o(93),v=o(57),b=o(29),h=o(55),f=o(128),g=o(12),x=o(9),O=o(0);const P=new Map,y=e=>{const t=Object(h.a)();i.a.app?t.openLink({url:e,linkType:"external"}):Object(u.y)(e,{target:"_blank"})},S=async(e,t=void 0)=>{var o;try{let n;const i=Object(u.m)(e),{currentUser:r}=Object(x.g)(Object(f.a)());if((null===(o=r.value)||void 0===o?void 0:o.hashid)===t)return Object(a.a)("Link Safety","Visited self-added link","Link",e),void y(e);if(m.d.test(i))return void y(e);if(P.has(e)?n=P.get(e):(n=await g.a.LinkSafetyCheck.checkLinkSafety({url:e}),P.set(e,n)),"false"===n.isSafe){Object(b.c)().openConfirmationDialog(Object.assign(Object.assign({},l.a),{title:Object(d.b)("Danger ahead!"),body:Object(d.b)('<p class="text-body-small-posts">We do not recommend accessing the following link. Our security scanner says the link contains malware.<br><span class="text-dark-text-200 dark:text-light-text-200 line-clamp-3 break-word-anywhere text-ellipsis">%{link}</span></p>',{link:e}),confirmButtonText:Object(d.b)("I accept the risk, continue"),cancelButtonText:Object(d.b)("Stay on Padlet"),afterConfirmActions:[()=>(e=>{Object(a.a)("Link Safety","Visited unsafe link","Link",e),y(e)})(e)],afterCancelActions:[()=>Object(a.a)("Link Safety","Cancelled unsafe link","Link",e)],forceFullWidthButtons:!0,buttonScheme:v.OzConfirmationDialogBoxButtonScheme.Danger}))}else"true"===n.isSafe?Object(a.a)("Link Safety","Visited safe link","Link",e):Object(a.a)("Link Safety","Visited unknown link","Link",e),y(e)}catch(n){y(e),Object(r.a)(n)}},_=async e=>{Object(c.a)(e).find("a[href^=h]").attr({target:"_blank",rel:"noopener nofollow ugc"}).each(((e,t)=>{(async e=>{const t=e.getAttribute("href");null!=t&&""!==t.trim()&&(e.onclick=e=>{e.preventDefault(),S(t)})})(t)}))};async function k(e,t){const o=await Object(n.a)(e);return async function(e){await Object(O.nextTick)(),await Object(O.nextTick)(),Object(s.a)("linkSafetyModal")?_(e):(Object(p.e)(e),Object(p.f)(e)),await Object(p.c)(e),Object(p.d)(e),i.a.zoomApp&&await Object(p.b)(e)}(t),o}async function w(e){await Object(O.nextTick)(),Object(s.a)("linkSafetyModal")?_(e):Object(p.f)(e)}},910:function(e,t,o){"use strict";o.d(t,"b",(function(){return i})),o.d(t,"c",(function(){return r})),o.d(t,"a",(function(){return s}));var a=o(10),n=(o(93),o(37),o(673));const l={newWindow:!0,stripPrefix:!1,stripTrailingSlash:!1,urls:{tldMatches:!1}};async function i(e,t){let n;try{if(n=(await o.e(521).then(o.t.bind(null,1559,7))).default,null==n)throw new Error("Autolinker not loaded")}catch(i){return Object(a.c)("Autolinker not loaded",{level:"warning",context:{url:window.location.href,error:i}}),e}try{return n.link(e,Object.assign({},l,null!==t&&void 0!==t?t:{}))}catch(i){return Object(a.c)("Error linking text",{level:"error",context:{url:window.location.href,text:e,error:i}}),e}}async function r(e,t){const o=e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;");return await i(o,t)}const s=async(e,t={})=>await i(e,Object.assign({replaceFn:e=>{const t=e.buildTag();return t.setAttr("rel","noopener nofollow ugc"),t.setAttr(n.a,"external"),t}},t))},911:function(e,t,o){},912:function(e,t,o){"use strict";var a=o(0),n=o(906),l=o(905),i=Object(a.defineComponent)({__name:"SurfacePostBody",props:{content:null,darkMode:{type:[Boolean,String],default:"auto"},isTextSelectable:{type:Boolean,default:!1}},setup(e){const t=e,o=l.a,i=Object(a.ref)(),r=Object(a.ref)(t.content),s=async()=>{null!=i.value&&(r.value=await Object(n.c)(t.content,i.value))};return Object(a.watch)((()=>t.content),s),Object(a.onMounted)((()=>{s()})),{__sfc:!0,props:t,vEmitClickOnTouch:o,postBodyRef:i,body:r,performPostUpdateActions:s}}}),r=(o(1173),o(13)),s=Object(r.a)(i,(function(){var e=this,t=e._self._c,o=e._self._setupProxy;return t("p",{directives:[{name:"emit-click-on-touch",rawName:"v-emit-click-on-touch:deep",arg:"deep"}],ref:"postBodyRef",class:{"wish-body-content":!0,"wish-body-content-light dark:wish-body-content-dark":"auto"===e.darkMode,"wish-body-content-light":!1===e.darkMode,"wish-body-content-dark":!0===e.darkMode,"break-words":!0,"whitespace-break-spaces":!0,"text-dark-text-100 dark:text-light-text-100":"auto"===e.darkMode,"text-dark-text-100":!1===e.darkMode,"text-light-text-100":!0===e.darkMode,"select-text":e.isTextSelectable},attrs:{dir:"auto","data-pw":"postBody"},domProps:{innerHTML:e._s(o.body)},on:{click:function(t){return e.$emit("click",t)},dblclick:function(t){return e.$emit("dblclick",t)},keydown:function(t){return e.$emit("keydown",t)}}})}),[],!1,null,null,null);t.a=s.exports},988:function(e,t,o){"use strict";var a,n=o(0),l=o(114),i=o(167),r=o(16),s=o(15),d=o(2),c=o(228),u=o(14),p=o(192),m=o(534),v=o(25),b=o(34);!function(e){e.DAILYMOTION="dailymotion",e.LOOM="loom",e.VIMEO="vimeo",e.YOUTUBE="youtube"}(a||(a={}));var h=Object(n.defineComponent)({__name:"SurfacePanelPostExpandedAttachment",props:{post:null,displayAttributes:null,darkMode:{type:[Boolean,String]},safeArea:null},setup(e){const t=e,h=Object(u.b)((()=>o.e(32).then(o.bind(null,3047)))),f=Object(u.b)((()=>o.e(551).then(o.bind(null,3066)))),g=Object(u.b)((()=>o.e(383).then(o.bind(null,3029)))),x=Object(u.b)((()=>o.e(550).then(o.bind(null,3067)))),O=Object(u.b)((()=>o.e(552).then(o.bind(null,3068)))),P=Object(u.b)((()=>o.e(411).then(o.bind(null,3069)))),y=Object(u.b)((()=>o.e(337).then(o.bind(null,3070)))),S=Object(b.b)(),_=Object(n.ref)(),k=Object(n.ref)(),w=Object(n.ref)(!1),j=Object(n.computed)((()=>{var e;return null!==(e=t.post)&&void 0!==e?e:d.d.vueStartingState.wish})),C=Object(n.computed)((()=>t.displayAttributes)),A=Object(v.useSurfaceStore)(),M=Object(n.computed)((()=>{var e,t,o,a;return null!==(e=A.blockedContentProviders)&&void 0!==e?e:new Set(null!==(a=null===(o=null===(t=d.d.vueStartingState)||void 0===t?void 0:t.tenant)||void 0===o?void 0:o.blocked_content_providers)&&void 0!==a?a:[])})),T=Object(n.computed)((()=>{var e;return null===(e=t.displayAttributes)||void 0===e?void 0:e.provider_name.toLowerCase()})),D=Object(n.computed)((()=>{var e;return(null===(e=j.value.wish_content)||void 0===e?void 0:e.attachment_props.url)||j.value.attachment})),I=Object(n.computed)((()=>!!t.displayAttributes&&Object(l.p)(t.displayAttributes,M.value))),z=Object(n.computed)((()=>{var e;return"file"===(null===(e=t.displayAttributes)||void 0===e?void 0:e.content_category)})),E=Object(n.computed)((()=>{var e;return"photo"===(null===(e=t.displayAttributes)||void 0===e?void 0:e.content_category)})),B=Object(n.computed)((()=>{var e;return"page"===(null===(e=t.displayAttributes)||void 0===e?void 0:e.content_category)})),L=Object(n.computed)((()=>{var e,o;if(!(null===(e=t.displayAttributes)||void 0===e?void 0:e.embed_code))return!1;const a=document.createElement("div");a.innerHTML=null===(o=t.displayAttributes)||void 0===o?void 0:o.embed_code;return"img"===a.firstChild.tagName.toLowerCase()})),R=Object(n.computed)((()=>{var e;return"audio"===(null===(e=t.displayAttributes)||void 0===e?void 0:e.content_category)})),V=Object(n.computed)((()=>{var e;return"video"===(null===(e=t.displayAttributes)||void 0===e?void 0:e.content_category)})),F=Object(n.computed)((()=>Object.values(a).includes(T.value))),H=Object(n.computed)((()=>"youtube"===T.value)),N=Object(n.computed)((()=>"spotify"===T.value)),$=Object(n.computed)((()=>"padlet drive"===T.value)),U=Object(n.computed)((()=>{var e;return"document"===(null===(e=t.displayAttributes)||void 0===e?void 0:e.content_category)})),W=Object(n.computed)((()=>{var e,o;return"page"===(null===(e=t.displayAttributes)||void 0===e?void 0:e.content_category)&&"article"===(null===(o=t.displayAttributes)||void 0===o?void 0:o.content_subcategory)})),G=Object(n.computed)((()=>{var e,o;return"page"===(null===(e=t.displayAttributes)||void 0===e?void 0:e.content_category)&&"html"===(null===(o=t.displayAttributes)||void 0===o?void 0:o.content_subcategory)})),Y=Object(n.computed)((()=>{var e,o;return"padlet"===(null===(e=t.displayAttributes)||void 0===e?void 0:e.content_subcategory)&&!!(null===(o=t.displayAttributes)||void 0===o?void 0:o.provider_name)&&"padlet"!==T.value})),Z=Object(n.computed)((()=>{var e;return"page"===(null===(e=t.displayAttributes)||void 0===e?void 0:e.content_category)&&"facebook"===T.value})),q=Object(n.computed)((()=>{var e;return"page"===(null===(e=t.displayAttributes)||void 0===e?void 0:e.content_category)&&"instagram"===T.value})),X=Object(n.computed)((()=>{var e;return Object(c.c)(null===(e=j.value.wish_content)||void 0===e?void 0:e.attachment_props)})),J=Object(n.computed)((()=>{var e,t;return null===(t=null===(e=j.value.wish_content)||void 0===e?void 0:e.attachment_props)||void 0===t?void 0:t.alternative_text})),K=Object(n.computed)((()=>Object(s.a)("surfacePostsAltText")&&E.value&&J.value)),Q=Object(n.computed)((()=>j.value.color)),ee=Object(n.computed)((()=>{var e;return!!S.isSmallerThanTabletPortrait&&(z.value||E.value||R.value||V.value||!(null===(e=t.displayAttributes)||void 0===e?void 0:e.embed_code))})),te=Object(n.ref)({paddingLeft:"0px",paddingTop:"0px",paddingRight:"0px",paddingBottom:"0px"}),oe=Object(n.computed)((()=>{var e;return S.isSmallerThanDesktop||!t.safeArea?{}:F.value?{paddingTop:`${t.safeArea.height}px`,paddingBottom:"16px"}:E.value||L.value||R.value||V.value||z.value||!(null===(e=t.displayAttributes)||void 0===e?void 0:e.embed_code)?te.value:{width:`calc(100% - ${t.safeArea.width}px)`}})),ae=Object(n.computed)((()=>{var e,o,a;return r.a.zoomApp&&Object(p.f)({contentCategory:null===(e=t.displayAttributes)||void 0===e?void 0:e.content_category,contentSubcategory:null===(o=t.displayAttributes)||void 0===o?void 0:o.content_subcategory,providerName:null===(a=t.displayAttributes)||void 0===a?void 0:a.provider_name})})),ne=Object(n.computed)((()=>{var e,o,a;return null===(a=null===(o=null===(e=null===t||void 0===t?void 0:t.post)||void 0===e?void 0:e.wish_content)||void 0===o?void 0:o.attachment_props)||void 0===a?void 0:a.custom_thumbnail_url})),le=Object(n.ref)(null),ie=Object(n.computed)((()=>{var e;return null===(e=le.value)||void 0===e?void 0:e.image_url})),re=Object(n.computed)((()=>{var e;return null===(e=le.value)||void 0===e?void 0:e.image_width})),se=Object(n.computed)((()=>{var e;return null===(e=le.value)||void 0===e?void 0:e.image_height}));Object(n.watch)((()=>ne),(async e=>{const t=await Object(i.a)(e.value);le.value=t}));return Object(n.watch)(C,(()=>{var e;(z.value||!E.value&&!(null===(e=C.value)||void 0===e?void 0:e.embed_code))&&(w.value=!0)})),Object(n.onBeforeMount)((async()=>{if(B.value&&ne.value){const e=await Object(i.a)(ne.value);le.value=e}})),{__sfc:!0,SurfaceAttachmentContentBlocked:h,SurfacePanelPostExpandedAttachmentFile:f,SurfacePanelPostExpandedAttachmentImage:g,SurfacePanelPostExpandedAttachmentAudio:x,SurfacePanelPostExpandedAttachmentVideo:O,SurfacePanelPostExpandedAttachmentEmbed:P,SurfacePanelPostExpandedAttachmentLink:y,ResizableVideoProvider:a,props:t,windowSizeStore:S,attachmentArea:_,wrapper:k,isLoaded:w,post:j,displayAttributes:C,surfaceStore:A,blockedContentProviders:M,lowerCaseProviderName:T,url:D,hasBlockedContent:I,isFile:z,isImage:E,isWebpage:B,isEmbedCodeImgTag:L,isAudio:R,isVideo:V,isResizableVideo:F,isYoutube:H,isSpotify:N,isUpload:$,isDocument:U,isArticle:W,isHtml:G,isPadletWall:Y,isFacebookPost:Z,isInstagramPost:q,isTweet:X,alternativeText:J,xAlternativeText:K,postColor:Q,isAttachmentScreenCenteredOnMobile:ee,attachmentAreaPaddings:te,attachmentAreaStyles:oe,handleAttachmentResize:({width:e,height:o})=>{if(S.isSmallerThanDesktop||!t.safeArea)return;const{clientWidth:a,clientHeight:n}=_.value,l=Math.floor((a-e)/2),i=Math.floor((n-o)/2);if(l>t.safeArea.width||i>t.safeArea.height)return void(te.value={paddingLeft:"0px",paddingTop:"0px",paddingRight:"0px",paddingBottom:"0px"});const r=t.safeArea.width-l,s=t.safeArea.height-i;r<s?(te.value.paddingLeft=`${t.safeArea.width}px`,te.value.paddingRight="16px"):r>s&&(te.value.paddingTop=`${t.safeArea.height}px`,te.value.paddingBottom="16px")},isUnsupportedZoomAttachment:ae,customThumbnailUrl:ne,customThumbnailDisplayAttributes:le,customThumbnailImageUrl:ie,customThumbnailImageWidth:re,customThumbnailImageHeight:se,handleAttachmentLoaded:()=>{w.value=!0},device:r.a,OzIndeterminateSpinner:m.a}}}),f=o(13),g=Object(f.a)(h,(function(){var e=this,t=e._self._c,o=e._self._setupProxy;return t("div",{ref:"attachmentArea",class:["flex","w-full",o.device.app?"h-full":"h-[calc(var(--vh100)-80px)] desktop:h-full",...o.isAttachmentScreenCenteredOnMobile?["absolute","tablet-portrait:static","tablet-portrait:flex-grow","tablet-portrait:overflow-hidden"]:["static","flex-grow","overflow-hidden"]],style:o.attachmentAreaStyles},[t("div",{ref:"wrapper",staticClass:"relative flex grow w-full h-full"},[t("transition",{attrs:{name:"fade"}},[o.isLoaded?e._e():t("div",{staticClass:"absolute inset-0 flex justify-center items-center"},[t(o.OzIndeterminateSpinner,{attrs:{"dark-mode":e.darkMode,size:24}})],1)]),e._v(" "),o.hasBlockedContent?t(o.SurfaceAttachmentContentBlocked,{staticClass:"w-full h-full",attrs:{"provider-name":o.displayAttributes.provider_name},on:{load:o.handleAttachmentLoaded}}):o.displayAttributes&&o.isUnsupportedZoomAttachment?t(o.SurfacePanelPostExpandedAttachmentLink,{attrs:{"custom-thumbnail-url":o.customThumbnailUrl,"dark-mode":e.darkMode,url:o.displayAttributes.url||o.url,title:o.displayAttributes.title,"is-padlet-wall":o.isPadletWall,description:o.displayAttributes.description,"provider-name":o.displayAttributes.provider_name,"is-fallback-image":o.displayAttributes.is_fallback,"image-url":o.displayAttributes.image_url,"image-width":o.displayAttributes.image_width,"image-height":o.displayAttributes.image_height,"post-author-hashid":o.post.author_hashid,"data-testid":"surfaceExpandedPostAttachmentLink"},on:{load:o.handleAttachmentLoaded}}):o.isFile&&o.displayAttributes?t(o.SurfacePanelPostExpandedAttachmentFile,{attrs:{"dark-mode":e.darkMode,extension:o.displayAttributes.extension,size:o.displayAttributes.metadata&&o.displayAttributes.metadata.pretty_size,"download-url":o.displayAttributes.url,"data-testid":"surfaceExpandedPostAttachmentFile"},on:{load:o.handleAttachmentLoaded}}):(o.isImage||o.isEmbedCodeImgTag)&&o.displayAttributes?t(o.SurfacePanelPostExpandedAttachmentImage,{attrs:{title:o.displayAttributes.title,"alt-text":o.alternativeText?o.alternativeText:"","dark-mode":e.darkMode,url:o.displayAttributes.url,"original-image-url":o.displayAttributes.original_image_url,"original-image-width":o.displayAttributes.original_image_width,"original-image-height":o.displayAttributes.original_image_height,"data-testid":"surfaceExpandedPostAttachmentImage"},on:{load:o.handleAttachmentLoaded,resize:o.handleAttachmentResize}}):o.isAudio&&o.displayAttributes?t(o.SurfacePanelPostExpandedAttachmentAudio,{attrs:{"embed-code":o.displayAttributes.embed_code,"is-spotify":o.isSpotify,"dark-mode":e.darkMode,"post-color":o.postColor,"data-testid":"surfaceExpandedPostAttachmentAudio"},on:{load:o.handleAttachmentLoaded}}):o.isVideo&&o.displayAttributes?t(o.SurfacePanelPostExpandedAttachmentVideo,{attrs:{"embed-code":o.displayAttributes.embed_code,"embed-width":o.displayAttributes.embed_width,"embed-height":o.displayAttributes.embed_height,"is-upload":o.isUpload,"is-youtube":o.isYoutube,"should-fill-available-space":o.isResizableVideo,"data-testid":"surfaceExpandedPostAttachmentVideo"},on:{load:o.handleAttachmentLoaded,resize:o.handleAttachmentResize}}):o.displayAttributes&&o.displayAttributes.embed_code?t(o.SurfacePanelPostExpandedAttachmentEmbed,{attrs:{"embed-code":o.displayAttributes.embed_code,"is-document":o.isDocument,"is-article":o.isArticle,"is-html":o.isHtml,"is-facebook-post":o.isFacebookPost,"is-instagram-post":o.isInstagramPost,"is-tweet":o.isTweet,"data-testid":"surfaceExpandedPostAttachmentEmbed"},on:{load:o.handleAttachmentLoaded}}):o.displayAttributes?t(o.SurfacePanelPostExpandedAttachmentLink,{attrs:{"dark-mode":e.darkMode,url:o.displayAttributes.url||o.url,title:o.displayAttributes.title,"is-padlet-wall":o.isPadletWall,description:o.displayAttributes.description,"provider-name":o.displayAttributes.provider_name,"is-fallback-image":o.displayAttributes.is_fallback,"image-url":o.customThumbnailImageUrl||o.displayAttributes.image_url,"image-width":o.customThumbnailImageWidth||o.displayAttributes.image_width,"image-height":o.customThumbnailImageHeight||o.displayAttributes.image_height,"post-author-hashid":o.post.author_hashid,"data-testid":"surfaceExpandedPostAttachmentLink"},on:{load:o.handleAttachmentLoaded}}):e._e()],1)])}),[],!1,null,null,null);t.a=g.exports}}]);
//# sourceMappingURL=288-808bf4d5698744c011b3.chunk.js.map